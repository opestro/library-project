/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmohamad%2FDesktop%2Fprojects%2Flibrary-project%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Flink.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmohamad%2FDesktop%2Fprojects%2Flibrary-project%2Fsrc%2Fcomponents%2Fshared%2FHero.tsx%22%2C%22ids%22%3A%5B%22Hero%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmohamad%2FDesktop%2Fprojects%2Flibrary-project%2Fsrc%2Fcomponents%2Fshared%2FNavigation.tsx%22%2C%22ids%22%3A%5B%22Navigation%22%5D%7D&server=false!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmohamad%2FDesktop%2Fprojects%2Flibrary-project%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Flink.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmohamad%2FDesktop%2Fprojects%2Flibrary-project%2Fsrc%2Fcomponents%2Fshared%2FHero.tsx%22%2C%22ids%22%3A%5B%22Hero%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmohamad%2FDesktop%2Fprojects%2Flibrary-project%2Fsrc%2Fcomponents%2Fshared%2FNavigation.tsx%22%2C%22ids%22%3A%5B%22Navigation%22%5D%7D&server=false! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/link.js */ \"(app-pages-browser)/./node_modules/next/dist/client/link.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/shared/Hero.tsx */ \"(app-pages-browser)/./src/components/shared/Hero.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/shared/Navigation.tsx */ \"(app-pages-browser)/./src/components/shared/Navigation.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZtb2hhbWFkJTJGRGVza3RvcCUyRnByb2plY3RzJTJGbGlicmFyeS1wcm9qZWN0JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZsaW5rLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyKiUyMiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRm1vaGFtYWQlMkZEZXNrdG9wJTJGcHJvamVjdHMlMkZsaWJyYXJ5LXByb2plY3QlMkZzcmMlMkZjb21wb25lbnRzJTJGc2hhcmVkJTJGSGVyby50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJIZXJvJTIyJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGbW9oYW1hZCUyRkRlc2t0b3AlMkZwcm9qZWN0cyUyRmxpYnJhcnktcHJvamVjdCUyRnNyYyUyRmNvbXBvbmVudHMlMkZzaGFyZWQlMkZOYXZpZ2F0aW9uLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMk5hdmlnYXRpb24lMjIlNUQlN0Qmc2VydmVyPWZhbHNlISIsIm1hcHBpbmdzIjoiQUFBQSw4TUFBMEg7QUFDMUg7QUFDQSwwTEFBNkk7QUFDN0k7QUFDQSxzTUFBeUoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLz9hNmNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL21vaGFtYWQvRGVza3RvcC9wcm9qZWN0cy9saWJyYXJ5LXByb2plY3Qvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvbGluay5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiSGVyb1wiXSAqLyBcIi9Vc2Vycy9tb2hhbWFkL0Rlc2t0b3AvcHJvamVjdHMvbGlicmFyeS1wcm9qZWN0L3NyYy9jb21wb25lbnRzL3NoYXJlZC9IZXJvLnRzeFwiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiTmF2aWdhdGlvblwiXSAqLyBcIi9Vc2Vycy9tb2hhbWFkL0Rlc2t0b3AvcHJvamVjdHMvbGlicmFyeS1wcm9qZWN0L3NyYy9jb21wb25lbnRzL3NoYXJlZC9OYXZpZ2F0aW9uLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmohamad%2FDesktop%2Fprojects%2Flibrary-project%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Flink.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmohamad%2FDesktop%2Fprojects%2Flibrary-project%2Fsrc%2Fcomponents%2Fshared%2FHero.tsx%22%2C%22ids%22%3A%5B%22Hero%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fmohamad%2FDesktop%2Fprojects%2Flibrary-project%2Fsrc%2Fcomponents%2Fshared%2FNavigation.tsx%22%2C%22ids%22%3A%5B%22Navigation%22%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/api/navigation.js":
/*!**************************************************!*\
  !*** ./node_modules/next/dist/api/navigation.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../client/components/navigation */ \"(app-pages-browser)/./node_modules/next/dist/client/components/navigation.js\");\n/* harmony import */ var _client_components_navigation__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_client_components_navigation__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n//# sourceMappingURL=navigation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYXBpL25hdmlnYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdEOztBQUVoRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2FwaS9uYXZpZ2F0aW9uLmpzP2RjYWUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi4uL2NsaWVudC9jb21wb25lbnRzL25hdmlnYXRpb25cIjtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF2aWdhdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/api/navigation.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/shared/Hero.tsx":
/*!****************************************!*\
  !*** ./src/components/shared/Hero.tsx ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Hero: function() { return /* binding */ Hero; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./src/lib/utils.ts\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./src/lib/api.ts\");\n/* __next_internal_client_entry_do_not_use__ Hero auto */ \nvar _s = $RefreshSig$();\n/**\n * Hero.tsx\n * \n * iOS-style hero section component for the Digital Historical Library.\n * Features gradient background, search functionality, and statistics.\n * Now with dynamic data loading from PocketBase.\n */ \n\n\n\nfunction Hero(param) {\n    let { className } = param;\n    _s();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [selectedAge, setSelectedAge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [selectedCategory, setSelectedCategory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [ages, setAges] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [categories, setCategories] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Load ages and categories on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchData = async ()=>{\n            setIsLoading(true);\n            try {\n                // Fetch ages\n                const ageApi = new _lib_api__WEBPACK_IMPORTED_MODULE_4__.HistoricalAgeAPI();\n                const agesResponse = await ageApi.getAll();\n                if (agesResponse.success && agesResponse.data) {\n                    setAges(agesResponse.data);\n                }\n                // Fetch categories\n                const categoryApi = new _lib_api__WEBPACK_IMPORTED_MODULE_4__.ContentCategoryAPI();\n                const categoriesResponse = await categoryApi.getAll();\n                if (categoriesResponse.success && categoriesResponse.data) {\n                    setCategories(categoriesResponse.data);\n                }\n            } catch (error) {\n                console.error(\"Error loading filter data:\", error);\n            } finally{\n                setIsLoading(false);\n            }\n        };\n        fetchData();\n    }, []);\n    // Handle search form submission\n    const handleSearch = (e)=>{\n        e.preventDefault();\n        // Build query params\n        const params = new URLSearchParams();\n        if (searchQuery) params.append(\"query\", searchQuery);\n        if (selectedAge) params.append(\"age\", selectedAge);\n        if (selectedCategory) params.append(\"category\", selectedCategory);\n        // Navigate to browse page with filters\n        router.push(\"/browse?\".concat(params.toString()));\n    };\n    // Stats data - could be fetched from an API in a real implementation\n    const stats = [\n        {\n            icon: \"scroll\",\n            value: \"١٠,٠٠٠+\",\n            label: \"وثيقة تاريخية\"\n        },\n        {\n            icon: \"book\",\n            value: \"٥٠+\",\n            label: \"مجموعة نادرة\"\n        },\n        {\n            icon: \"language\",\n            value: \"٨ لغات\",\n            label: \"متاحة للترجمة\"\n        }\n    ];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(\"hero\", className),\n        \"aria-labelledby\": \"hero-title\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"hero-content fade-in\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"hero-text\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                    id: \"hero-title\",\n                                    children: \"المكتبة التاريخية الرقمية\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                    lineNumber: 85,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"hero-description\",\n                                    children: \"استكشف مجموعتنا الفريدة من الوثائق التاريخية المصنفة حسب العصور المختلفة، مع قاعدة بيانات غنية ومتنوعة من المخطوطات والمستندات النادرة\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                    lineNumber: 86,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                            lineNumber: 84,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"search-container\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                                    className: \"search-form\",\n                                    onSubmit: handleSearch,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"search-input-group\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"search-icon\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                        className: \"fas fa-search\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                        lineNumber: 96,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                    lineNumber: 95,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    className: \"search-input\",\n                                                    placeholder: \"ابحث عن وثائق تاريخية...\",\n                                                    \"aria-label\": \"ابحث عن وثائق تاريخية\",\n                                                    value: searchQuery,\n                                                    onChange: (e)=>setSearchQuery(e.target.value)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                    lineNumber: 98,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"submit\",\n                                                    className: \"search-btn\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                        className: \"fas fa-arrow-left\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                        lineNumber: 107,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                    lineNumber: 106,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                            lineNumber: 94,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"search-filters\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"filter-group\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"fas fa-history\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                            lineNumber: 113,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                            className: \"search-filter\",\n                                                            \"aria-label\": \"اختر العصر التاريخي\",\n                                                            value: selectedAge,\n                                                            onChange: (e)=>setSelectedAge(e.target.value),\n                                                            disabled: isLoading,\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                    value: \"\",\n                                                                    children: \"العصر التاريخي\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                                    lineNumber: 121,\n                                                                    columnNumber: 21\n                                                                }, this),\n                                                                ages.map((age)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                        value: age.id,\n                                                                        children: age.name\n                                                                    }, age.id, false, {\n                                                                        fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                                        lineNumber: 123,\n                                                                        columnNumber: 23\n                                                                    }, this))\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                            lineNumber: 114,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                    lineNumber: 112,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"filter-group\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                            className: \"fas fa-file-alt\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                            lineNumber: 131,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                            className: \"search-filter\",\n                                                            \"aria-label\": \"اختر نوع الوثيقة\",\n                                                            value: selectedCategory,\n                                                            onChange: (e)=>setSelectedCategory(e.target.value),\n                                                            disabled: isLoading,\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                    value: \"\",\n                                                                    children: \"نوع الوثيقة\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                                    lineNumber: 139,\n                                                                    columnNumber: 21\n                                                                }, this),\n                                                                categories.map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                        value: category.id,\n                                                                        children: category.name\n                                                                    }, category.id, false, {\n                                                                        fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                                        lineNumber: 141,\n                                                                        columnNumber: 23\n                                                                    }, this))\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                            lineNumber: 132,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                    lineNumber: 130,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                            lineNumber: 111,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                    lineNumber: 93,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"search-suggestions\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"suggestions-label\",\n                                            children: \"اقتراحات البحث:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                            lineNumber: 151,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"suggestions-tags\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                    href: \"#\",\n                                                    onClick: (e)=>{\n                                                        e.preventDefault();\n                                                        setSearchQuery(\"المعاهدات التاريخية\");\n                                                    },\n                                                    className: \"suggestion-tag\",\n                                                    children: \"المعاهدات التاريخية\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                    lineNumber: 153,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                    href: \"#\",\n                                                    onClick: (e)=>{\n                                                        e.preventDefault();\n                                                        setSearchQuery(\"مخطوطات نادرة\");\n                                                    },\n                                                    className: \"suggestion-tag\",\n                                                    children: \"مخطوطات نادرة\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                    lineNumber: 154,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                    href: \"#\",\n                                                    onClick: (e)=>{\n                                                        e.preventDefault();\n                                                        setSearchQuery(\"وثائق العصر العباسي\");\n                                                    },\n                                                    className: \"suggestion-tag\",\n                                                    children: \"وثائق العصر العباسي\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                    lineNumber: 155,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                            lineNumber: 152,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                    lineNumber: 150,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                            lineNumber: 92,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"hero-stats\",\n                            children: stats.map((stat, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"stat-item\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"stat-icon\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                className: \"fas fa-\".concat(stat.icon)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                lineNumber: 164,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                            lineNumber: 163,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"stat-content\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"stat-value\",\n                                                    children: stat.value\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                    lineNumber: 167,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"stat-label\",\n                                                    children: stat.label\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                                    lineNumber: 168,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                            lineNumber: 166,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, index, true, {\n                                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                                    lineNumber: 162,\n                                    columnNumber: 15\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                            lineNumber: 160,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                    lineNumber: 83,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                lineNumber: 82,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"hero-shape\"\n            }, void 0, false, {\n                fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n                lineNumber: 175,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/mohamad/Desktop/projects/library-project/src/components/shared/Hero.tsx\",\n        lineNumber: 81,\n        columnNumber: 5\n    }, this);\n}\n_s(Hero, \"pFGyYPD870ckHujn+SddvysNP5s=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = Hero;\nvar _c;\n$RefreshReg$(_c, \"Hero\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3NoYXJlZC9IZXJvLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFDQTs7Ozs7O0NBTUMsR0FDa0Q7QUFDUDtBQUNYO0FBQ2dDO0FBVTFELFNBQVNPLEtBQUssS0FBd0I7UUFBeEIsRUFBRUMsU0FBUyxFQUFhLEdBQXhCOztJQUNuQixNQUFNQyxTQUFTTiwwREFBU0E7SUFDeEIsTUFBTSxDQUFDTyxhQUFhQyxlQUFlLEdBQUdWLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ1csYUFBYUMsZUFBZSxHQUFHWiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNhLGtCQUFrQkMsb0JBQW9CLEdBQUdkLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQ2UsTUFBTUMsUUFBUSxHQUFHaEIsK0NBQVFBLENBQWtCLEVBQUU7SUFDcEQsTUFBTSxDQUFDaUIsWUFBWUMsY0FBYyxHQUFHbEIsK0NBQVFBLENBQW9CLEVBQUU7SUFDbEUsTUFBTSxDQUFDbUIsV0FBV0MsYUFBYSxHQUFHcEIsK0NBQVFBLENBQUM7SUFFM0MsOENBQThDO0lBQzlDQyxnREFBU0EsQ0FBQztRQUNSLE1BQU1vQixZQUFZO1lBQ2hCRCxhQUFhO1lBQ2IsSUFBSTtnQkFDRixhQUFhO2dCQUNiLE1BQU1FLFNBQVMsSUFBSWpCLHNEQUFnQkE7Z0JBQ25DLE1BQU1rQixlQUFlLE1BQU1ELE9BQU9FLE1BQU07Z0JBQ3hDLElBQUlELGFBQWFFLE9BQU8sSUFBSUYsYUFBYUcsSUFBSSxFQUFFO29CQUM3Q1YsUUFBUU8sYUFBYUcsSUFBSTtnQkFDM0I7Z0JBRUEsbUJBQW1CO2dCQUNuQixNQUFNQyxjQUFjLElBQUl2Qix3REFBa0JBO2dCQUMxQyxNQUFNd0IscUJBQXFCLE1BQU1ELFlBQVlILE1BQU07Z0JBQ25ELElBQUlJLG1CQUFtQkgsT0FBTyxJQUFJRyxtQkFBbUJGLElBQUksRUFBRTtvQkFDekRSLGNBQWNVLG1CQUFtQkYsSUFBSTtn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TmpDNkI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFhbEIsOERBQUMxQjtnQkFBSXRDLFdBQVU7Ozs7Ozs7Ozs7OztBQUdyQjtHQTVKZ0JEOztRQUNDSixzREFBU0E7OztLQURWSSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9zaGFyZWQvSGVyby50c3g/YzI5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcbi8qKlxuICogSGVyby50c3hcbiAqIFxuICogaU9TLXN0eWxlIGhlcm8gc2VjdGlvbiBjb21wb25lbnQgZm9yIHRoZSBEaWdpdGFsIEhpc3RvcmljYWwgTGlicmFyeS5cbiAqIEZlYXR1cmVzIGdyYWRpZW50IGJhY2tncm91bmQsIHNlYXJjaCBmdW5jdGlvbmFsaXR5LCBhbmQgc3RhdGlzdGljcy5cbiAqIE5vdyB3aXRoIGR5bmFtaWMgZGF0YSBsb2FkaW5nIGZyb20gUG9ja2V0QmFzZS5cbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7XG5pbXBvcnQgeyBDb250ZW50Q2F0ZWdvcnlBUEksIEhpc3RvcmljYWxBZ2VBUEkgfSBmcm9tICdAL2xpYi9hcGknO1xuaW1wb3J0IHsgQ29udGVudENhdGVnb3J5LCBIaXN0b3JpY2FsQWdlIH0gZnJvbSAnQC90eXBlcyc7XG5cbmludGVyZmFjZSBIZXJvUHJvcHMge1xuICAvKipcbiAgICogQWRkaXRpb25hbCBjbGFzcyBuYW1lcyBmb3IgdGhlIGhlcm8gY29udGFpbmVyXG4gICAqL1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIZXJvKHsgY2xhc3NOYW1lIH06IEhlcm9Qcm9wcykge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgW3NlYXJjaFF1ZXJ5LCBzZXRTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzZWxlY3RlZEFnZSwgc2V0U2VsZWN0ZWRBZ2VdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbc2VsZWN0ZWRDYXRlZ29yeSwgc2V0U2VsZWN0ZWRDYXRlZ29yeV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFthZ2VzLCBzZXRBZ2VzXSA9IHVzZVN0YXRlPEhpc3RvcmljYWxBZ2VbXT4oW10pO1xuICBjb25zdCBbY2F0ZWdvcmllcywgc2V0Q2F0ZWdvcmllc10gPSB1c2VTdGF0ZTxDb250ZW50Q2F0ZWdvcnlbXT4oW10pO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG5cbiAgLy8gTG9hZCBhZ2VzIGFuZCBjYXRlZ29yaWVzIG9uIGNvbXBvbmVudCBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEZldGNoIGFnZXNcbiAgICAgICAgY29uc3QgYWdlQXBpID0gbmV3IEhpc3RvcmljYWxBZ2VBUEkoKTtcbiAgICAgICAgY29uc3QgYWdlc1Jlc3BvbnNlID0gYXdhaXQgYWdlQXBpLmdldEFsbCgpO1xuICAgICAgICBpZiAoYWdlc1Jlc3BvbnNlLnN1Y2Nlc3MgJiYgYWdlc1Jlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgICBzZXRBZ2VzKGFnZXNSZXNwb25zZS5kYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZldGNoIGNhdGVnb3JpZXNcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlBcGkgPSBuZXcgQ29udGVudENhdGVnb3J5QVBJKCk7XG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXNSZXNwb25zZSA9IGF3YWl0IGNhdGVnb3J5QXBpLmdldEFsbCgpO1xuICAgICAgICBpZiAoY2F0ZWdvcmllc1Jlc3BvbnNlLnN1Y2Nlc3MgJiYgY2F0ZWdvcmllc1Jlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgICBzZXRDYXRlZ29yaWVzKGNhdGVnb3JpZXNSZXNwb25zZS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBmaWx0ZXIgZGF0YTonLCBlcnJvcik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmZXRjaERhdGEoKTtcbiAgfSwgW10pO1xuXG4gIC8vIEhhbmRsZSBzZWFyY2ggZm9ybSBzdWJtaXNzaW9uXG4gIGNvbnN0IGhhbmRsZVNlYXJjaCA9IChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgXG4gICAgLy8gQnVpbGQgcXVlcnkgcGFyYW1zXG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGlmIChzZWFyY2hRdWVyeSkgcGFyYW1zLmFwcGVuZCgncXVlcnknLCBzZWFyY2hRdWVyeSk7XG4gICAgaWYgKHNlbGVjdGVkQWdlKSBwYXJhbXMuYXBwZW5kKCdhZ2UnLCBzZWxlY3RlZEFnZSk7XG4gICAgaWYgKHNlbGVjdGVkQ2F0ZWdvcnkpIHBhcmFtcy5hcHBlbmQoJ2NhdGVnb3J5Jywgc2VsZWN0ZWRDYXRlZ29yeSk7XG4gICAgXG4gICAgLy8gTmF2aWdhdGUgdG8gYnJvd3NlIHBhZ2Ugd2l0aCBmaWx0ZXJzXG4gICAgcm91dGVyLnB1c2goYC9icm93c2U/JHtwYXJhbXMudG9TdHJpbmcoKX1gKTtcbiAgfTtcblxuICAvLyBTdGF0cyBkYXRhIC0gY291bGQgYmUgZmV0Y2hlZCBmcm9tIGFuIEFQSSBpbiBhIHJlYWwgaW1wbGVtZW50YXRpb25cbiAgY29uc3Qgc3RhdHMgPSBbXG4gICAgeyBpY29uOiAnc2Nyb2xsJywgdmFsdWU6ICfZodmgLNmg2aDZoCsnLCBsYWJlbDogJ9mI2KvZitmC2Kkg2KrYp9ix2YrYrtmK2KknIH0sXG4gICAgeyBpY29uOiAnYm9vaycsIHZhbHVlOiAn2aXZoCsnLCBsYWJlbDogJ9mF2KzZhdmI2LnYqSDZhtin2K/YsdipJyB9LFxuICAgIHsgaWNvbjogJ2xhbmd1YWdlJywgdmFsdWU6ICfZqCDZhNi62KfYqicsIGxhYmVsOiAn2YXYqtin2K3YqSDZhNmE2KrYsdis2YXYqScgfVxuICBdO1xuXG4gIHJldHVybiAoXG4gICAgPHNlY3Rpb24gY2xhc3NOYW1lPXtjbignaGVybycsIGNsYXNzTmFtZSl9IGFyaWEtbGFiZWxsZWRieT1cImhlcm8tdGl0bGVcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVyby1jb250ZW50IGZhZGUtaW5cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlcm8tdGV4dFwiPlxuICAgICAgICAgICAgPGgxIGlkPVwiaGVyby10aXRsZVwiPtin2YTZhdmD2KrYqNipINin2YTYqtin2LHZitiu2YrYqSDYp9mE2LHZgtmF2YrYqTwvaDE+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJoZXJvLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgINin2LPYqtmD2LTZgSDZhdis2YXZiNi52KrZhtinINin2YTZgdix2YrYr9ipINmF2YYg2KfZhNmI2KvYp9im2YIg2KfZhNiq2KfYsdmK2K7ZitipINin2YTZhdi12YbZgdipINit2LPYqCDYp9mE2LnYtdmI2LEg2KfZhNmF2K7YqtmE2YHYqdiMIFxuICAgICAgICAgICAgICDZhdi5INmC2KfYudiv2Kkg2KjZitin2YbYp9iqINi62YbZitipINmI2YXYqtmG2YjYudipINmF2YYg2KfZhNmF2K7Yt9mI2LfYp9iqINmI2KfZhNmF2LPYqtmG2K/Yp9iqINin2YTZhtin2K/YsdipXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWFyY2gtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8Zm9ybSBjbGFzc05hbWU9XCJzZWFyY2gtZm9ybVwiIG9uU3VibWl0PXtoYW5kbGVTZWFyY2h9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlYXJjaC1pbnB1dC1ncm91cFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VhcmNoLWljb25cIj5cbiAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1zZWFyY2hcIj48L2k+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIiBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlYXJjaC1pbnB1dFwiIFxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLYp9io2K3YqyDYudmGINmI2KvYp9im2YIg2KrYp9ix2YrYrtmK2KkuLi5cIiBcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCLYp9io2K3YqyDYudmGINmI2KvYp9im2YIg2KrYp9ix2YrYrtmK2KlcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFF1ZXJ5fVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hRdWVyeShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzc05hbWU9XCJzZWFyY2gtYnRuXCI+XG4gICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtYXJyb3ctbGVmdFwiPjwvaT5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlYXJjaC1maWx0ZXJzXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWx0ZXItZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1oaXN0b3J5XCI+PC9pPlxuICAgICAgICAgICAgICAgICAgPHNlbGVjdCBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VhcmNoLWZpbHRlclwiIFxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwi2KfYrtiq2LEg2KfZhNi52LXYsSDYp9mE2KrYp9ix2YrYrtmKXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlbGVjdGVkQWdlfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlbGVjdGVkQWdlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPtin2YTYudi12LEg2KfZhNiq2KfYsdmK2K7Zijwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICB7YWdlcy5tYXAoKGFnZSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXthZ2UuaWR9IHZhbHVlPXthZ2UuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAge2FnZS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsdGVyLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtZmlsZS1hbHRcIj48L2k+XG4gICAgICAgICAgICAgICAgICA8c2VsZWN0IFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZWFyY2gtZmlsdGVyXCIgXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCLYp9iu2KrYsSDZhtmI2Lkg2KfZhNmI2KvZitmC2KlcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRDYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWxlY3RlZENhdGVnb3J5KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPtmG2YjYuSDYp9mE2YjYq9mK2YLYqTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcmllcy5tYXAoKGNhdGVnb3J5KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2NhdGVnb3J5LmlkfSB2YWx1ZT17Y2F0ZWdvcnkuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5Lm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlYXJjaC1zdWdnZXN0aW9uc1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdWdnZXN0aW9ucy1sYWJlbFwiPtin2YLYqtix2KfYrdin2Kog2KfZhNio2K3Yqzo8L3NwYW4+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VnZ2VzdGlvbnMtdGFnc1wiPlxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgb25DbGljaz17KGUpID0+IHtlLnByZXZlbnREZWZhdWx0KCk7IHNldFNlYXJjaFF1ZXJ5KCfYp9mE2YXYudin2YfYr9in2Kog2KfZhNiq2KfYsdmK2K7ZitipJyk7IH19IGNsYXNzTmFtZT1cInN1Z2dlc3Rpb24tdGFnXCI+2KfZhNmF2LnYp9mH2K/Yp9iqINin2YTYqtin2LHZitiu2YrYqTwvYT5cbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9eyhlKSA9PiB7ZS5wcmV2ZW50RGVmYXVsdCgpOyBzZXRTZWFyY2hRdWVyeSgn2YXYrti32YjYt9in2Kog2YbYp9iv2LHYqScpOyB9fSBjbGFzc05hbWU9XCJzdWdnZXN0aW9uLXRhZ1wiPtmF2K7Yt9mI2LfYp9iqINmG2KfYr9ix2Kk8L2E+XG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBvbkNsaWNrPXsoZSkgPT4ge2UucHJldmVudERlZmF1bHQoKTsgc2V0U2VhcmNoUXVlcnkoJ9mI2KvYp9im2YIg2KfZhNi52LXYsSDYp9mE2LnYqNin2LPZiicpOyB9fSBjbGFzc05hbWU9XCJzdWdnZXN0aW9uLXRhZ1wiPtmI2KvYp9im2YIg2KfZhNi52LXYsSDYp9mE2LnYqNin2LPZijwvYT5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlcm8tc3RhdHNcIj5cbiAgICAgICAgICAgIHtzdGF0cy5tYXAoKHN0YXQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwic3RhdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdGF0LWljb25cIj5cbiAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT17YGZhcyBmYS0ke3N0YXQuaWNvbn1gfT48L2k+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdGF0LWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3RhdC12YWx1ZVwiPntzdGF0LnZhbHVlfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdGF0LWxhYmVsXCI+e3N0YXQubGFiZWx9PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlcm8tc2hhcGVcIj48L2Rpdj5cbiAgICA8L3NlY3Rpb24+XG4gICk7XG59ICJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUm91dGVyIiwiY24iLCJDb250ZW50Q2F0ZWdvcnlBUEkiLCJIaXN0b3JpY2FsQWdlQVBJIiwiSGVybyIsImNsYXNzTmFtZSIsInJvdXRlciIsInNlYXJjaFF1ZXJ5Iiwic2V0U2VhcmNoUXVlcnkiLCJzZWxlY3RlZEFnZSIsInNldFNlbGVjdGVkQWdlIiwic2VsZWN0ZWRDYXRlZ29yeSIsInNldFNlbGVjdGVkQ2F0ZWdvcnkiLCJhZ2VzIiwic2V0QWdlcyIsImNhdGVnb3JpZXMiLCJzZXRDYXRlZ29yaWVzIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZmV0Y2hEYXRhIiwiYWdlQXBpIiwiYWdlc1Jlc3BvbnNlIiwiZ2V0QWxsIiwic3VjY2VzcyIsImRhdGEiLCJjYXRlZ29yeUFwaSIsImNhdGVnb3JpZXNSZXNwb25zZSIsImVycm9yIiwiY29uc29sZSIsImhhbmRsZVNlYXJjaCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImFwcGVuZCIsInB1c2giLCJ0b1N0cmluZyIsInN0YXRzIiwiaWNvbiIsInZhbHVlIiwibGFiZWwiLCJzZWN0aW9uIiwiYXJpYS1sYWJlbGxlZGJ5IiwiZGl2IiwiaDEiLCJpZCIsInAiLCJmb3JtIiwib25TdWJtaXQiLCJpIiwiaW5wdXQiLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJhcmlhLWxhYmVsIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJidXR0b24iLCJzZWxlY3QiLCJkaXNhYmxlZCIsIm9wdGlvbiIsIm1hcCIsImFnZSIsIm5hbWUiLCJjYXRlZ29yeSIsInNwYW4iLCJhIiwiaHJlZiIsIm9uQ2xpY2siLCJzdGF0IiwiaW5kZXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/shared/Hero.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/api.ts":
/*!************************!*\
  !*** ./src/lib/api.ts ***!
  \************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseAPI: function() { return /* binding */ BaseAPI; },\n/* harmony export */   ContactMessageAPI: function() { return /* binding */ ContactMessageAPI; },\n/* harmony export */   ContentCategoryAPI: function() { return /* binding */ ContentCategoryAPI; },\n/* harmony export */   DocumentMediaAPI: function() { return /* binding */ DocumentMediaAPI; },\n/* harmony export */   DocumentRequestAPI: function() { return /* binding */ DocumentRequestAPI; },\n/* harmony export */   DocumentsAPI: function() { return /* binding */ DocumentsAPI; },\n/* harmony export */   HistoricalAgeAPI: function() { return /* binding */ HistoricalAgeAPI; },\n/* harmony export */   UserAPI: function() { return /* binding */ UserAPI; },\n/* harmony export */   contactMessageApi: function() { return /* binding */ contactMessageApi; },\n/* harmony export */   contentCategoryApi: function() { return /* binding */ contentCategoryApi; },\n/* harmony export */   documentMediaApi: function() { return /* binding */ documentMediaApi; },\n/* harmony export */   documentRequestApi: function() { return /* binding */ documentRequestApi; },\n/* harmony export */   documentsApi: function() { return /* binding */ documentsApi; },\n/* harmony export */   historicalAgeApi: function() { return /* binding */ historicalAgeApi; },\n/* harmony export */   usersApi: function() { return /* binding */ usersApi; }\n/* harmony export */ });\n/* harmony import */ var pocketbase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pocketbase */ \"(app-pages-browser)/./node_modules/pocketbase/dist/pocketbase.es.mjs\");\n\n// Initialize PocketBase\nconst pb = new pocketbase__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"http://127.0.0.1:8090\");\n/**\n * Base API class with common CRUD operations\n */ class BaseAPI {\n    /**\n   * Get all records from the collection\n   */ async getAll() {\n        try {\n            const records = await pb.collection(this.collection).getFullList();\n            return {\n                success: true,\n                data: records\n            };\n        } catch (error) {\n            console.error(\"Error getting all \".concat(this.collection, \":\"), error);\n            return {\n                success: false,\n                error: \"Failed to get \".concat(this.collection)\n            };\n        }\n    }\n    /**\n   * Get a single record by ID\n   */ async getById(id) {\n        try {\n            const record = await pb.collection(this.collection).getOne(id);\n            return {\n                success: true,\n                data: record\n            };\n        } catch (error) {\n            console.error(\"Error getting \".concat(this.collection, \" by ID:\"), error);\n            return {\n                success: false,\n                error: \"\".concat(this.collection, \" not found\")\n            };\n        }\n    }\n    /**\n   * Create a new record\n   */ async create(data) {\n        try {\n            const record = await pb.collection(this.collection).create(data);\n            return {\n                success: true,\n                data: record\n            };\n        } catch (error) {\n            console.error(\"Error creating \".concat(this.collection, \":\"), error);\n            return {\n                success: false,\n                error: \"Failed to create \".concat(this.collection)\n            };\n        }\n    }\n    /**\n   * Update a record\n   */ async update(id, data) {\n        try {\n            const record = await pb.collection(this.collection).update(id, data);\n            return {\n                success: true,\n                data: record\n            };\n        } catch (error) {\n            console.error(\"Error updating \".concat(this.collection, \":\"), error);\n            return {\n                success: false,\n                error: \"Failed to update \".concat(this.collection)\n            };\n        }\n    }\n    /**\n   * Delete a record\n   */ async delete(id) {\n        try {\n            await pb.collection(this.collection).delete(id);\n            return {\n                success: true,\n                data: true\n            };\n        } catch (error) {\n            console.error(\"Error deleting \".concat(this.collection, \":\"), error);\n            return {\n                success: false,\n                error: \"Failed to delete \".concat(this.collection)\n            };\n        }\n    }\n    /**\n   * Get paginated records\n   */ async getPaginated() {\n        let page = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 1, perPage = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 20;\n        try {\n            const response = await pb.collection(this.collection).getList(page, perPage);\n            return {\n                success: true,\n                data: {\n                    items: response.items,\n                    totalItems: response.totalItems,\n                    page: response.page,\n                    perPage: response.perPage,\n                    totalPages: response.totalPages\n                }\n            };\n        } catch (error) {\n            console.error(\"Error getting paginated \".concat(this.collection, \":\"), error);\n            return {\n                success: false,\n                error: \"Failed to get \".concat(this.collection)\n            };\n        }\n    }\n    /**\n   * Subscribe to real-time changes\n   */ subscribe(callback) {\n        const unsubscribe = pb.collection(this.collection).subscribe(\"*\", callback);\n        return ()=>{\n            unsubscribe.then((unsub)=>unsub());\n        };\n    }\n    constructor(collection){\n        this.collection = collection;\n    }\n}\n/**\n * Historical Age API for fetching historical periods\n */ class HistoricalAgeAPI extends BaseAPI {\n    constructor(){\n        super(\"historical_ages\");\n    }\n}\n/**\n * Content Category API for document categories\n */ class ContentCategoryAPI extends BaseAPI {\n    /**\n   * Get top level categories\n   */ async getTopCategories() {\n        try {\n            const records = await pb.collection(this.collection).getFullList({\n                filter: \"isMain = true\",\n                sort: \"name\"\n            });\n            return {\n                success: true,\n                data: records\n            };\n        } catch (error) {\n            console.error(\"Error getting top categories:\", error);\n            return {\n                success: false,\n                error: \"Failed to get top categories\"\n            };\n        }\n    }\n    /**\n   * Get subcategories for a given parent category\n   */ async getSubcategories(parentId) {\n        try {\n            const records = await pb.collection(this.collection).getFullList({\n                filter: 'parentId = \"'.concat(parentId, '\"'),\n                sort: \"name\"\n            });\n            return {\n                success: true,\n                data: records\n            };\n        } catch (error) {\n            console.error(\"Error getting subcategories:\", error);\n            return {\n                success: false,\n                error: \"Failed to get subcategories\"\n            };\n        }\n    }\n    constructor(){\n        super(\"content_categories\");\n    }\n}\n/**\n * Documents API for handling historical documents\n */ class DocumentsAPI extends BaseAPI {\n    /**\n   * Get filtered documents with pagination and sorting\n   */ async getFiltered(filters) {\n        let page = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1, perPage = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 20, sortBy = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : \"createdDesc\";\n        try {\n            // Build filter string\n            const filterParts = [];\n            if (filters.search) {\n                filterParts.push('(title ~ \"'.concat(filters.search, '\" || author ~ \"').concat(filters.search, '\" || description ~ \"').concat(filters.search, '\")'));\n            }\n            if (filters.age) {\n                filterParts.push('age = \"'.concat(filters.age, '\"'));\n            }\n            if (filters.category) {\n                filterParts.push('category = \"'.concat(filters.category, '\"'));\n            }\n            const filterString = filterParts.length > 0 ? filterParts.join(\" && \") : \"\";\n            // Build sort string\n            let sortString = \"\";\n            switch(sortBy){\n                case \"createdDesc\":\n                    sortString = \"-created\";\n                    break;\n                case \"createdAsc\":\n                    sortString = \"+created\";\n                    break;\n                case \"titleAsc\":\n                    sortString = \"+title\";\n                    break;\n                case \"titleDesc\":\n                    sortString = \"-title\";\n                    break;\n                case \"viewCountDesc\":\n                    sortString = \"-viewCount\";\n                    break;\n                case \"downloadCountDesc\":\n                    sortString = \"-downloadCount\";\n                    break;\n                default:\n                    sortString = \"-created\";\n            }\n            // Fetch records\n            const response = await pb.collection(this.collection).getList(page, perPage, {\n                filter: filterString,\n                sort: sortString,\n                expand: \"age,category\"\n            });\n            return {\n                success: true,\n                data: {\n                    items: response.items,\n                    totalItems: response.totalItems,\n                    page: response.page,\n                    perPage: response.perPage,\n                    totalPages: response.totalPages\n                }\n            };\n        } catch (error) {\n            console.error(\"Error getting filtered documents:\", error);\n            return {\n                success: false,\n                error: \"Failed to get documents\"\n            };\n        }\n    }\n    /**\n   * Increment view count for a document\n   */ async incrementViewCount(documentId) {\n        try {\n            const document = await pb.collection(this.collection).getOne(documentId);\n            const currentViewCount = document.viewCount || 0;\n            await pb.collection(this.collection).update(documentId, {\n                viewCount: currentViewCount + 1\n            });\n            return {\n                success: true,\n                data: true\n            };\n        } catch (error) {\n            console.error(\"Error incrementing view count:\", error);\n            return {\n                success: false,\n                error: \"Failed to update view count\"\n            };\n        }\n    }\n    /**\n   * Increment download count for a document\n   */ async incrementDownloadCount(documentId) {\n        try {\n            const document = await pb.collection(this.collection).getOne(documentId);\n            const currentDownloadCount = document.downloadCount || 0;\n            await pb.collection(this.collection).update(documentId, {\n                downloadCount: currentDownloadCount + 1\n            });\n            return {\n                success: true,\n                data: true\n            };\n        } catch (error) {\n            console.error(\"Error incrementing download count:\", error);\n            return {\n                success: false,\n                error: \"Failed to update download count\"\n            };\n        }\n    }\n    /**\n   * Get featured documents\n   */ async getFeatured() {\n        let limit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 4;\n        try {\n            const records = await pb.collection(this.collection).getList(1, limit, {\n                sort: \"-viewCount\",\n                expand: \"age,category\"\n            });\n            return {\n                success: true,\n                data: records.items\n            };\n        } catch (error) {\n            console.error(\"Error getting featured documents:\", error);\n            return {\n                success: false,\n                error: \"Failed to get featured documents\"\n            };\n        }\n    }\n    /**\n   * Get documents by historical age\n   */ async getByHistoricalAge(ageId) {\n        let limit = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 8;\n        try {\n            const records = await pb.collection(this.collection).getList(1, limit, {\n                filter: 'age = \"'.concat(ageId, '\"'),\n                sort: \"-created\",\n                expand: \"age,category\"\n            });\n            return {\n                success: true,\n                data: records.items\n            };\n        } catch (error) {\n            console.error(\"Error getting documents by age:\", error);\n            return {\n                success: false,\n                error: \"Failed to get documents\"\n            };\n        }\n    }\n    /**\n   * Get documents by category\n   */ async getByCategory(categoryId) {\n        let limit = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 8;\n        try {\n            const records = await pb.collection(this.collection).getList(1, limit, {\n                filter: 'category = \"'.concat(categoryId, '\"'),\n                sort: \"-created\",\n                expand: \"age,category\"\n            });\n            return {\n                success: true,\n                data: records.items\n            };\n        } catch (error) {\n            console.error(\"Error getting documents by category:\", error);\n            return {\n                success: false,\n                error: \"Failed to get documents\"\n            };\n        }\n    }\n    /**\n   * Search documents\n   */ async search(query) {\n        let limit = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 20;\n        try {\n            const records = await pb.collection(this.collection).getList(1, limit, {\n                filter: 'title ~ \"'.concat(query, '\" || author ~ \"').concat(query, '\" || description ~ \"').concat(query, '\"'),\n                sort: \"-created\",\n                expand: \"age,category\"\n            });\n            return {\n                success: true,\n                data: records.items\n            };\n        } catch (error) {\n            console.error(\"Error searching documents:\", error);\n            return {\n                success: false,\n                error: \"Failed to search documents\"\n            };\n        }\n    }\n    constructor(){\n        super(\"documents\");\n    }\n}\n/**\n * Document Media API for handling document media files\n */ class DocumentMediaAPI extends BaseAPI {\n    /**\n   * Get media files for a document\n   */ async getByDocumentId(documentId) {\n        try {\n            const records = await pb.collection(this.collection).getList(1, 100, {\n                filter: 'document = \"'.concat(documentId, '\"'),\n                sort: \"created\"\n            });\n            return {\n                success: true,\n                data: records.items\n            };\n        } catch (error) {\n            console.error(\"Error getting document media:\", error);\n            return {\n                success: false,\n                error: \"Failed to get document media\"\n            };\n        }\n    }\n    constructor(){\n        super(\"document_media\");\n    }\n}\n/**\n * Document Request API for handling document requests\n */ class DocumentRequestAPI extends BaseAPI {\n    /**\n   * Get requests by user\n   */ async getByUserId(userId) {\n        try {\n            const records = await pb.collection(this.collection).getList(1, 100, {\n                filter: 'user = \"'.concat(userId, '\"'),\n                sort: \"-created\"\n            });\n            return {\n                success: true,\n                data: records.items\n            };\n        } catch (error) {\n            console.error(\"Error getting user requests:\", error);\n            return {\n                success: false,\n                error: \"Failed to get document requests\"\n            };\n        }\n    }\n    constructor(){\n        super(\"document_requests\");\n    }\n}\n/**\n * Contact Message API for handling contact form submissions\n */ class ContactMessageAPI extends BaseAPI {\n    constructor(){\n        super(\"contact_messages\");\n    }\n}\n/**\n * User API for authentication and user management\n */ class UserAPI {\n    /**\n   * Register a new user\n   */ async register(userData) {\n        try {\n            const data = {\n                name: userData.name,\n                email: userData.email,\n                password: userData.password,\n                passwordConfirm: userData.passwordConfirm\n            };\n            const record = await pb.collection(\"users\").create(data);\n            return {\n                success: true,\n                data: record\n            };\n        } catch (error) {\n            console.error(\"Registration error:\", error);\n            return {\n                success: false,\n                error: error.message || \"Failed to create account\"\n            };\n        }\n    }\n    /**\n   * Login a user\n   */ async login(email, password) {\n        try {\n            const authData = await pb.collection(\"users\").authWithPassword(email, password);\n            return {\n                success: true,\n                data: authData.record\n            };\n        } catch (error) {\n            console.error(\"Login error:\", error);\n            return {\n                success: false,\n                error: error.message || \"Invalid email or password\"\n            };\n        }\n    }\n    /**\n   * Logout the current user\n   */ logout() {\n        pb.authStore.clear();\n    }\n    /**\n   * Get the current authenticated user\n   */ getCurrentUser() {\n        if (!pb.authStore.isValid) {\n            return null;\n        }\n        const model = pb.authStore.model;\n        if (!model) {\n            return null;\n        }\n        return {\n            id: model.id,\n            collectionId: model.collectionId,\n            collectionName: model.collectionName,\n            created: model.created,\n            updated: model.updated,\n            email: model.email,\n            name: model.name,\n            avatar: model.avatar,\n            emailVisibility: model.emailVisibility,\n            verified: model.verified\n        };\n    }\n    /**\n   * Check if a user is authenticated\n   */ isAuthenticated() {\n        return pb.authStore.isValid;\n    }\n    /**\n   * Update user profile\n   */ async updateProfile(userData) {\n        try {\n            if (!pb.authStore.isValid || !pb.authStore.model) {\n                return {\n                    success: false,\n                    error: \"User not authenticated\"\n                };\n            }\n            const userId = pb.authStore.model.id;\n            const record = await pb.collection(\"users\").update(userId, userData);\n            return {\n                success: true,\n                data: record\n            };\n        } catch (error) {\n            console.error(\"Profile update error:\", error);\n            return {\n                success: false,\n                error: error.message || \"Failed to update profile\"\n            };\n        }\n    }\n    /**\n   * Request password reset\n   */ async requestPasswordReset(email) {\n        try {\n            await pb.collection(\"users\").requestPasswordReset(email);\n            return {\n                success: true,\n                data: true\n            };\n        } catch (error) {\n            console.error(\"Password reset request error:\", error);\n            return {\n                success: false,\n                error: error.message || \"Failed to request password reset\"\n            };\n        }\n    }\n    /**\n   * Confirm password reset\n   */ async confirmPasswordReset(token, password, passwordConfirm) {\n        try {\n            await pb.collection(\"users\").confirmPasswordReset(token, password, passwordConfirm);\n            return {\n                success: true,\n                data: true\n            };\n        } catch (error) {\n            console.error(\"Password reset confirmation error:\", error);\n            return {\n                success: false,\n                error: error.message || \"Failed to reset password\"\n            };\n        }\n    }\n    /**\n   * Verify email\n   */ async verifyEmail(token) {\n        try {\n            await pb.collection(\"users\").confirmVerification(token);\n            return {\n                success: true,\n                data: true\n            };\n        } catch (error) {\n            console.error(\"Email verification error:\", error);\n            return {\n                success: false,\n                error: error.message || \"Failed to verify email\"\n            };\n        }\n    }\n}\n// Create instances of API classes for export\nconst usersApi = new UserAPI();\nconst historicalAgeApi = new HistoricalAgeAPI();\nconst contentCategoryApi = new ContentCategoryAPI();\nconst documentsApi = new DocumentsAPI();\nconst documentMediaApi = new DocumentMediaAPI();\nconst documentRequestApi = new DocumentRequestAPI();\nconst contactMessageApi = new ContactMessageAPI();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvYXBpLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFheUU7QUFFekUsd0JBQXdCO0FBQ3hCLE1BQU1DLEtBQUssSUFBSUQsa0RBQVVBLENBQUM7QUFpQjFCOztDQUVDLEdBQ00sTUFBTUU7SUFPWDs7R0FFQyxHQUNELE1BQU1DLFNBQW9DO1FBQ3hDLElBQUk7WUFDRixNQUFNQyxVQUFVLE1BQU1ILEdBQUdJLFVBQVUsQ0FBQyxJQUFJLENBQUNBLFVBQVUsRUFBRUMsV0FBVztZQUNoRSxPQUFPO2dCQUFFQyxTQUFTO2dCQUFNQyxNQUFNSjtZQUEwQjtRQUMxRCxFQUFFLE9BQU9LLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLHFCQUFxQyxPQUFoQixJQUFJLENBQUNKLFVBQVUsRUFBQyxNQUFJSTtZQUN2RCxPQUFPO2dCQUFFRixTQUFTO2dCQUFPRSxPQUFPLGlCQUFpQyxPQUFoQixJQUFJLENBQUNKLFVBQVU7WUFBRztRQUNyRTtJQUNGO0lBRUE7O0dBRUMsR0FDRCxNQUFNTSxRQUFRQyxFQUFVLEVBQTJCO1FBQ2pELElBQUk7WUFDRixNQUFNQyxTQUFTLE1BQU1aLEdBQUdJLFVBQVUsQ0FBQyxJQUFJLENBQUNBLFVBQVUsRUFBRVMsTUFBTSxDQUFJRjtZQUM5RCxPQUFPO2dCQUFFTCxTQUFTO2dCQUFNQyxNQUFNSztZQUF1QjtRQUN2RCxFQUFFLE9BQU9KLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLGlCQUFpQyxPQUFoQixJQUFJLENBQUNKLFVBQVUsRUFBQyxZQUFVSTtZQUN6RCxPQUFPO2dCQUFFRixTQUFTO2dCQUFPRSxPQUFPLEdBQW1CLE9BQWhCLElBQUksQ0FBQ0osVUFBVSxFQUFDO1lBQVk7UUFDakU7SUFDRjtJQUVBOztHQUVDLEdBQ0QsTUFBTVUsT0FBT1AsSUFBUyxFQUEyQjtRQUMvQyxJQUFJO1lBQ0YsTUFBTUssU0FBUyxNQUFNWixHQUFHSSxVQUFVLENBQUMsSUFBSSxDQUFDQSxVQUFVLEVBQUVVLE1BQU0sQ0FBSVA7WUFDOUQsT0FBTztnQkFBRUQsU0FBUztnQkFBTUMsTUFBTUs7WUFBdUI7UUFDdkQsRUFBRSxPQUFPSixPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxrQkFBa0MsT0FBaEIsSUFBSSxDQUFDSixVQUFVLEVBQUMsTUFBSUk7WUFDcEQsT0FBTztnQkFBRUYsU0FBUztnQkFBT0UsT0FBTyxvQkFBb0MsT0FBaEIsSUFBSSxDQUFDSixVQUFVO1lBQUc7UUFDeEU7SUFDRjtJQUVBOztHQUVDLEdBQ0QsTUFBTVcsT0FBT0osRUFBVSxFQUFFSixJQUFTLEVBQTJCO1FBQzNELElBQUk7WUFDRixNQUFNSyxTQUFTLE1BQU1aLEdBQUdJLFVBQVUsQ0FBQyxJQUFJLENBQUNBLFVBQVUsRUFBRVcsTUFBTSxDQUFJSixJQUFJSjtZQUNsRSxPQUFPO2dCQUFFRCxTQUFTO2dCQUFNQyxNQUFNSztZQUF1QjtRQUN2RCxFQUFFLE9BQU9KLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLGtCQUFrQyxPQUFoQixJQUFJLENBQUNKLFVBQVUsRUFBQyxNQUFJSTtZQUNwRCxPQUFPO2dCQUFFRixTQUFTO2dCQUFPRSxPQUFPLG9CQUFvQyxPQUFoQixJQUFJLENBQUNKLFVBQVU7WUFBRztRQUN4RTtJQUNGO0lBRUE7O0dBRUMsR0FDRCxNQUFNWSxPQUFPTCxFQUFVLEVBQWlDO1FBQ3RELElBQUk7WUFDRixNQUFNWCxHQUFHSSxVQUFVLENBQUMsSUFBSSxDQUFDQSxVQUFVLEVBQUVZLE1BQU0sQ0FBQ0w7WUFDNUMsT0FBTztnQkFBRUwsU0FBUztnQkFBTUMsTUFBTTtZQUFLO1FBQ3JDLEVBQUUsT0FBT0MsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsa0JBQWtDLE9BQWhCLElBQUksQ0FBQ0osVUFBVSxFQUFDLE1BQUlJO1lBQ3BELE9BQU87Z0JBQUVGLFNBQVM7Z0JBQU9FLE9BQU8sb0JBQW9DLE9BQWhCLElBQUksQ0FBQ0osVUFBVTtZQUFHO1FBQ3hFO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELE1BQU1hLGVBQWlHO1lBQXBGQyxPQUFBQSxpRUFBZSxHQUFHQyxVQUFBQSxpRUFBa0I7UUFDckQsSUFBSTtZQUNGLE1BQU1DLFdBQVcsTUFBTXBCLEdBQUdJLFVBQVUsQ0FBQyxJQUFJLENBQUNBLFVBQVUsRUFBRWlCLE9BQU8sQ0FBSUgsTUFBTUM7WUFFdkUsT0FBTztnQkFDTGIsU0FBUztnQkFDVEMsTUFBTTtvQkFDSmUsT0FBT0YsU0FBU0UsS0FBSztvQkFDckJDLFlBQVlILFNBQVNHLFVBQVU7b0JBQy9CTCxNQUFNRSxTQUFTRixJQUFJO29CQUNuQkMsU0FBU0MsU0FBU0QsT0FBTztvQkFDekJLLFlBQVlKLFNBQVNJLFVBQVU7Z0JBQ2pDO1lBQ0Y7UUFDRixFQUFFLE9BQU9oQixPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQywyQkFBMkMsT0FBaEIsSUFBSSxDQUFDSixVQUFVLEVBQUMsTUFBSUk7WUFDN0QsT0FBTztnQkFBRUYsU0FBUztnQkFBT0UsT0FBTyxpQkFBaUMsT0FBaEIsSUFBSSxDQUFDSixVQUFVO1lBQUc7UUFDckU7SUFDRjtJQUVBOztHQUVDLEdBQ0RxQixVQUFVQyxRQUErQyxFQUFnQjtRQUN2RSxNQUFNQyxjQUFjM0IsR0FBR0ksVUFBVSxDQUFDLElBQUksQ0FBQ0EsVUFBVSxFQUFFcUIsU0FBUyxDQUFJLEtBQUtDO1FBQ3JFLE9BQU87WUFDTEMsWUFBWUMsSUFBSSxDQUFDQyxDQUFBQSxRQUFTQTtRQUM1QjtJQUNGO0lBcEdBQyxZQUFZMUIsVUFBa0IsQ0FBRTtRQUM5QixJQUFJLENBQUNBLFVBQVUsR0FBR0E7SUFDcEI7QUFtR0Y7QUFFQTs7Q0FFQyxHQUNNLE1BQU0yQix5QkFBeUI5QjtJQUNwQzZCLGFBQWM7UUFDWixLQUFLLENBQUM7SUFDUjtBQUNGO0FBRUE7O0NBRUMsR0FDTSxNQUFNRSwyQkFBMkIvQjtJQUt0Qzs7R0FFQyxHQUNELE1BQU1nQyxtQkFBZ0Q7UUFDcEQsSUFBSTtZQUNGLE1BQU05QixVQUFVLE1BQU1ILEdBQ25CSSxVQUFVLENBQUMsSUFBSSxDQUFDQSxVQUFVLEVBQzFCQyxXQUFXLENBQUM7Z0JBQ1g2QixRQUFRO2dCQUNSQyxNQUFNO1lBQ1I7WUFDRixPQUFPO2dCQUFFN0IsU0FBUztnQkFBTUMsTUFBTUo7WUFBUTtRQUN4QyxFQUFFLE9BQU9LLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLGlDQUFpQ0E7WUFDL0MsT0FBTztnQkFBRUYsU0FBUztnQkFBT0UsT0FBTztZQUErQjtRQUNqRTtJQUNGO0lBRUE7O0dBRUMsR0FDRCxNQUFNNEIsaUJBQWlCQyxRQUFnQixFQUErQjtRQUNwRSxJQUFJO1lBQ0YsTUFBTWxDLFVBQVUsTUFBTUgsR0FDbkJJLFVBQVUsQ0FBQyxJQUFJLENBQUNBLFVBQVUsRUFDMUJDLFdBQVcsQ0FBQztnQkFDWDZCLFFBQVEsZUFBd0IsT0FBVEcsVUFBUztnQkFDaENGLE1BQU07WUFDUjtZQUNGLE9BQU87Z0JBQUU3QixTQUFTO2dCQUFNQyxNQUFNSjtZQUFRO1FBQ3hDLEVBQUUsT0FBT0ssT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsZ0NBQWdDQTtZQUM5QyxPQUFPO2dCQUFFRixTQUFTO2dCQUFPRSxPQUFPO1lBQThCO1FBQ2hFO0lBQ0Y7SUF0Q0FzQixhQUFjO1FBQ1osS0FBSyxDQUFDO0lBQ1I7QUFxQ0Y7QUFFQTs7Q0FFQyxHQUNNLE1BQU1RLHFCQUFxQnJDO0lBS2hDOztHQUVDLEdBQ0QsTUFBTXNDLFlBQ0pDLE9BQStCLEVBSWU7WUFIOUN0QixPQUFBQSxpRUFBZSxHQUNmQyxVQUFBQSxpRUFBa0IsSUFDbEJzQixTQUFBQSxpRUFBaUI7UUFFakIsSUFBSTtZQUNGLHNCQUFzQjtZQUN0QixNQUFNQyxjQUF3QixFQUFFO1lBRWhDLElBQUlGLFFBQVFHLE1BQU0sRUFBRTtnQkFDbEJELFlBQVlFLElBQUksQ0FBQyxhQUE2Q0osT0FBaENBLFFBQVFHLE1BQU0sRUFBQyxtQkFBc0RILE9BQXJDQSxRQUFRRyxNQUFNLEVBQUMsd0JBQXFDLE9BQWZILFFBQVFHLE1BQU0sRUFBQztZQUNwSDtZQUVBLElBQUlILFFBQVFLLEdBQUcsRUFBRTtnQkFDZkgsWUFBWUUsSUFBSSxDQUFDLFVBQXNCLE9BQVpKLFFBQVFLLEdBQUcsRUFBQztZQUN6QztZQUVBLElBQUlMLFFBQVFNLFFBQVEsRUFBRTtnQkFDcEJKLFlBQVlFLElBQUksQ0FBQyxlQUFnQyxPQUFqQkosUUFBUU0sUUFBUSxFQUFDO1lBQ25EO1lBRUEsTUFBTUMsZUFBZUwsWUFBWU0sTUFBTSxHQUFHLElBQUlOLFlBQVlPLElBQUksQ0FBQyxVQUFVO1lBRXpFLG9CQUFvQjtZQUNwQixJQUFJQyxhQUFhO1lBQ2pCLE9BQU9UO2dCQUNMLEtBQUs7b0JBQ0hTLGFBQWE7b0JBQ2I7Z0JBQ0YsS0FBSztvQkFDSEEsYUFBYTtvQkFDYjtnQkFDRixLQUFLO29CQUNIQSxhQUFhO29CQUNiO2dCQUNGLEtBQUs7b0JBQ0hBLGFBQWE7b0JBQ2I7Z0JBQ0YsS0FBSztvQkFDSEEsYUFBYTtvQkFDYjtnQkFDRixLQUFLO29CQUNIQSxhQUFhO29CQUNiO2dCQUNGO29CQUNFQSxhQUFhO1lBQ2pCO1lBRUEsZ0JBQWdCO1lBQ2hCLE1BQU05QixXQUFXLE1BQU1wQixHQUFHSSxVQUFVLENBQUMsSUFBSSxDQUFDQSxVQUFVLEVBQUVpQixPQUFPLENBQUNILE1BQU1DLFNBQVM7Z0JBQzNFZSxRQUFRYTtnQkFDUlosTUFBTWU7Z0JBQ05DLFFBQVE7WUFDVjtZQUVBLE9BQU87Z0JBQ0w3QyxTQUFTO2dCQUNUQyxNQUFNO29CQUNKZSxPQUFPRixTQUFTRSxLQUFLO29CQUNyQkMsWUFBWUgsU0FBU0csVUFBVTtvQkFDL0JMLE1BQU1FLFNBQVNGLElBQUk7b0JBQ25CQyxTQUFTQyxTQUFTRCxPQUFPO29CQUN6QkssWUFBWUosU0FBU0ksVUFBVTtnQkFDakM7WUFDRjtRQUNGLEVBQUUsT0FBT2hCLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLHFDQUFxQ0E7WUFDbkQsT0FBTztnQkFBRUYsU0FBUztnQkFBT0UsT0FBTztZQUEwQjtRQUM1RDtJQUNGO0lBRUE7O0dBRUMsR0FDRCxNQUFNNEMsbUJBQW1CQyxVQUFrQixFQUFpQztRQUMxRSxJQUFJO1lBQ0YsTUFBTUMsV0FBVyxNQUFNdEQsR0FBR0ksVUFBVSxDQUFDLElBQUksQ0FBQ0EsVUFBVSxFQUFFUyxNQUFNLENBQUN3QztZQUM3RCxNQUFNRSxtQkFBbUJELFNBQVNFLFNBQVMsSUFBSTtZQUUvQyxNQUFNeEQsR0FBR0ksVUFBVSxDQUFDLElBQUksQ0FBQ0EsVUFBVSxFQUFFVyxNQUFNLENBQUNzQyxZQUFZO2dCQUN0REcsV0FBV0QsbUJBQW1CO1lBQ2hDO1lBRUEsT0FBTztnQkFBRWpELFNBQVM7Z0JBQU1DLE1BQU07WUFBSztRQUNyQyxFQUFFLE9BQU9DLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLGtDQUFrQ0E7WUFDaEQsT0FBTztnQkFBRUYsU0FBUztnQkFBT0UsT0FBTztZQUE4QjtRQUNoRTtJQUNGO0lBRUE7O0dBRUMsR0FDRCxNQUFNaUQsdUJBQXVCSixVQUFrQixFQUFpQztRQUM5RSxJQUFJO1lBQ0YsTUFBTUMsV0FBVyxNQUFNdEQsR0FBR0ksVUFBVSxDQUFDLElBQUksQ0FBQ0EsVUFBVSxFQUFFUyxNQUFNLENBQUN3QztZQUM3RCxNQUFNSyx1QkFBdUJKLFNBQVNLLGFBQWEsSUFBSTtZQUV2RCxNQUFNM0QsR0FBR0ksVUFBVSxDQUFDLElBQUksQ0FBQ0EsVUFBVSxFQUFFVyxNQUFNLENBQUNzQyxZQUFZO2dCQUN0RE0sZUFBZUQsdUJBQXVCO1lBQ3hDO1lBRUEsT0FBTztnQkFBRXBELFNBQVM7Z0JBQU1DLE1BQU07WUFBSztRQUNyQyxFQUFFLE9BQU9DLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLHNDQUFzQ0E7WUFDcEQsT0FBTztnQkFBRUYsU0FBUztnQkFBT0UsT0FBTztZQUFrQztRQUNwRTtJQUNGO0lBRUE7O0dBRUMsR0FDRCxNQUFNb0QsY0FBNEQ7WUFBaERDLFFBQUFBLGlFQUFnQjtRQUNoQyxJQUFJO1lBQ0YsTUFBTTFELFVBQVUsTUFBTUgsR0FDbkJJLFVBQVUsQ0FBQyxJQUFJLENBQUNBLFVBQVUsRUFDMUJpQixPQUFPLENBQUMsR0FBR3dDLE9BQU87Z0JBQ2pCMUIsTUFBTTtnQkFDTmdCLFFBQVE7WUFDVjtZQUVGLE9BQU87Z0JBQUU3QyxTQUFTO2dCQUFNQyxNQUFNSixRQUFRbUIsS0FBSztZQUFDO1FBQzlDLEVBQUUsT0FBT2QsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMscUNBQXFDQTtZQUNuRCxPQUFPO2dCQUFFRixTQUFTO2dCQUFPRSxPQUFPO1lBQW1DO1FBQ3JFO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELE1BQU1zRCxtQkFBbUJDLEtBQWEsRUFBa0Q7WUFBaERGLFFBQUFBLGlFQUFnQjtRQUN0RCxJQUFJO1lBQ0YsTUFBTTFELFVBQVUsTUFBTUgsR0FDbkJJLFVBQVUsQ0FBQyxJQUFJLENBQUNBLFVBQVUsRUFDMUJpQixPQUFPLENBQUMsR0FBR3dDLE9BQU87Z0JBQ2pCM0IsUUFBUSxVQUFnQixPQUFONkIsT0FBTTtnQkFDeEI1QixNQUFNO2dCQUNOZ0IsUUFBUTtZQUNWO1lBRUYsT0FBTztnQkFBRTdDLFNBQVM7Z0JBQU1DLE1BQU1KLFFBQVFtQixLQUFLO1lBQUM7UUFDOUMsRUFBRSxPQUFPZCxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxtQ0FBbUNBO1lBQ2pELE9BQU87Z0JBQUVGLFNBQVM7Z0JBQU9FLE9BQU87WUFBMEI7UUFDNUQ7SUFDRjtJQUVBOztHQUVDLEdBQ0QsTUFBTXdELGNBQWNDLFVBQWtCLEVBQWtEO1lBQWhESixRQUFBQSxpRUFBZ0I7UUFDdEQsSUFBSTtZQUNGLE1BQU0xRCxVQUFVLE1BQU1ILEdBQ25CSSxVQUFVLENBQUMsSUFBSSxDQUFDQSxVQUFVLEVBQzFCaUIsT0FBTyxDQUFDLEdBQUd3QyxPQUFPO2dCQUNqQjNCLFFBQVEsZUFBMEIsT0FBWCtCLFlBQVc7Z0JBQ2xDOUIsTUFBTTtnQkFDTmdCLFFBQVE7WUFDVjtZQUVGLE9BQU87Z0JBQUU3QyxTQUFTO2dCQUFNQyxNQUFNSixRQUFRbUIsS0FBSztZQUFDO1FBQzlDLEVBQUUsT0FBT2QsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsd0NBQXdDQTtZQUN0RCxPQUFPO2dCQUFFRixTQUFTO2dCQUFPRSxPQUFPO1lBQTBCO1FBQzVEO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELE1BQU1tQyxPQUFPdUIsS0FBYSxFQUFtRDtZQUFqREwsUUFBQUEsaUVBQWdCO1FBQzFDLElBQUk7WUFDRixNQUFNMUQsVUFBVSxNQUFNSCxHQUNuQkksVUFBVSxDQUFDLElBQUksQ0FBQ0EsVUFBVSxFQUMxQmlCLE9BQU8sQ0FBQyxHQUFHd0MsT0FBTztnQkFDakIzQixRQUFRLFlBQW1DZ0MsT0FBdkJBLE9BQU0sbUJBQTZDQSxPQUE1QkEsT0FBTSx3QkFBNEIsT0FBTkEsT0FBTTtnQkFDN0UvQixNQUFNO2dCQUNOZ0IsUUFBUTtZQUNWO1lBRUYsT0FBTztnQkFBRTdDLFNBQVM7Z0JBQU1DLE1BQU1KLFFBQVFtQixLQUFLO1lBQUM7UUFDOUMsRUFBRSxPQUFPZCxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyw4QkFBOEJBO1lBQzVDLE9BQU87Z0JBQUVGLFNBQVM7Z0JBQU9FLE9BQU87WUFBNkI7UUFDL0Q7SUFDRjtJQWxNQXNCLGFBQWM7UUFDWixLQUFLLENBQUM7SUFDUjtBQWlNRjtBQUVBOztDQUVDLEdBQ00sTUFBTXFDLHlCQUF5QmxFO0lBS3BDOztHQUVDLEdBQ0QsTUFBTW1FLGdCQUFnQmYsVUFBa0IsRUFBK0I7UUFDckUsSUFBSTtZQUNGLE1BQU1sRCxVQUFVLE1BQU1ILEdBQ25CSSxVQUFVLENBQUMsSUFBSSxDQUFDQSxVQUFVLEVBQzFCaUIsT0FBTyxDQUFDLEdBQUcsS0FBSztnQkFDZmEsUUFBUSxlQUEwQixPQUFYbUIsWUFBVztnQkFDbENsQixNQUFNO1lBQ1I7WUFFRixPQUFPO2dCQUFFN0IsU0FBUztnQkFBTUMsTUFBTUosUUFBUW1CLEtBQUs7WUFBQztRQUM5QyxFQUFFLE9BQU9kLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLGlDQUFpQ0E7WUFDL0MsT0FBTztnQkFBRUYsU0FBUztnQkFBT0UsT0FBTztZQUErQjtRQUNqRTtJQUNGO0lBckJBc0IsYUFBYztRQUNaLEtBQUssQ0FBQztJQUNSO0FBb0JGO0FBRUE7O0NBRUMsR0FDTSxNQUFNdUMsMkJBQTJCcEU7SUFLdEM7O0dBRUMsR0FDRCxNQUFNcUUsWUFBWUMsTUFBYyxFQUErQjtRQUM3RCxJQUFJO1lBQ0YsTUFBTXBFLFVBQVUsTUFBTUgsR0FDbkJJLFVBQVUsQ0FBQyxJQUFJLENBQUNBLFVBQVUsRUFDMUJpQixPQUFPLENBQUMsR0FBRyxLQUFLO2dCQUNmYSxRQUFRLFdBQWtCLE9BQVBxQyxRQUFPO2dCQUMxQnBDLE1BQU07WUFDUjtZQUVGLE9BQU87Z0JBQUU3QixTQUFTO2dCQUFNQyxNQUFNSixRQUFRbUIsS0FBSztZQUFDO1FBQzlDLEVBQUUsT0FBT2QsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsZ0NBQWdDQTtZQUM5QyxPQUFPO2dCQUFFRixTQUFTO2dCQUFPRSxPQUFPO1lBQWtDO1FBQ3BFO0lBQ0Y7SUFyQkFzQixhQUFjO1FBQ1osS0FBSyxDQUFDO0lBQ1I7QUFvQkY7QUFFQTs7Q0FFQyxHQUNNLE1BQU0wQywwQkFBMEJ2RTtJQUNyQzZCLGFBQWM7UUFDWixLQUFLLENBQUM7SUFDUjtBQUNGO0FBRUE7O0NBRUMsR0FDTSxNQUFNMkM7SUFDWDs7R0FFQyxHQUNELE1BQU1DLFNBQVNDLFFBS2QsRUFBOEI7UUFDN0IsSUFBSTtZQUNGLE1BQU1wRSxPQUFPO2dCQUNYcUUsTUFBTUQsU0FBU0MsSUFBSTtnQkFDbkJDLE9BQU9GLFNBQVNFLEtBQUs7Z0JBQ3JCQyxVQUFVSCxTQUFTRyxRQUFRO2dCQUMzQkMsaUJBQWlCSixTQUFTSSxlQUFlO1lBQzNDO1lBRUEsTUFBTW5FLFNBQVMsTUFBTVosR0FBR0ksVUFBVSxDQUFDLFNBQVNVLE1BQU0sQ0FBQ1A7WUFFbkQsT0FBTztnQkFBRUQsU0FBUztnQkFBTUMsTUFBTUs7WUFBMEI7UUFDMUQsRUFBRSxPQUFPSixPQUFZO1lBQ25CQyxRQUFRRCxLQUFLLENBQUMsdUJBQXVCQTtZQUNyQyxPQUFPO2dCQUNMRixTQUFTO2dCQUNURSxPQUFPQSxNQUFNd0UsT0FBTyxJQUFJO1lBQzFCO1FBQ0Y7SUFDRjtJQUVBOztHQUVDLEdBQ0QsTUFBTUMsTUFBTUosS0FBYSxFQUFFQyxRQUFnQixFQUE4QjtRQUN2RSxJQUFJO1lBQ0YsTUFBTUksV0FBVyxNQUFNbEYsR0FDcEJJLFVBQVUsQ0FBQyxTQUNYK0UsZ0JBQWdCLENBQUNOLE9BQU9DO1lBRTNCLE9BQU87Z0JBQ0x4RSxTQUFTO2dCQUNUQyxNQUFNMkUsU0FBU3RFLE1BQU07WUFDdkI7UUFDRixFQUFFLE9BQU9KLE9BQVk7WUFDbkJDLFFBQVFELEtBQUssQ0FBQyxnQkFBZ0JBO1lBQzlCLE9BQU87Z0JBQ0xGLFNBQVM7Z0JBQ1RFLE9BQU9BLE1BQU13RSxPQUFPLElBQUk7WUFDMUI7UUFDRjtJQUNGO0lBRUE7O0dBRUMsR0FDREksU0FBZTtRQUNicEYsR0FBR3FGLFNBQVMsQ0FBQ0MsS0FBSztJQUNwQjtJQUVBOztHQUVDLEdBQ0RDLGlCQUE4QjtRQUM1QixJQUFJLENBQUN2RixHQUFHcUYsU0FBUyxDQUFDRyxPQUFPLEVBQUU7WUFDekIsT0FBTztRQUNUO1FBRUEsTUFBTUMsUUFBUXpGLEdBQUdxRixTQUFTLENBQUNJLEtBQUs7UUFDaEMsSUFBSSxDQUFDQSxPQUFPO1lBQ1YsT0FBTztRQUNUO1FBRUEsT0FBTztZQUNMOUUsSUFBSThFLE1BQU05RSxFQUFFO1lBQ1orRSxjQUFjRCxNQUFNQyxZQUFZO1lBQ2hDQyxnQkFBZ0JGLE1BQU1FLGNBQWM7WUFDcENDLFNBQVNILE1BQU1HLE9BQU87WUFDdEJDLFNBQVNKLE1BQU1JLE9BQU87WUFDdEJoQixPQUFPWSxNQUFNWixLQUFLO1lBQ2xCRCxNQUFNYSxNQUFNYixJQUFJO1lBQ2hCa0IsUUFBUUwsTUFBTUssTUFBTTtZQUNwQkMsaUJBQWlCTixNQUFNTSxlQUFlO1lBQ3RDQyxVQUFVUCxNQUFNTyxRQUFRO1FBQzFCO0lBQ0Y7SUFFQTs7R0FFQyxHQUNEQyxrQkFBMkI7UUFDekIsT0FBT2pHLEdBQUdxRixTQUFTLENBQUNHLE9BQU87SUFDN0I7SUFFQTs7R0FFQyxHQUNELE1BQU1VLGNBQWN2QixRQUduQixFQUE4QjtRQUM3QixJQUFJO1lBQ0YsSUFBSSxDQUFDM0UsR0FBR3FGLFNBQVMsQ0FBQ0csT0FBTyxJQUFJLENBQUN4RixHQUFHcUYsU0FBUyxDQUFDSSxLQUFLLEVBQUU7Z0JBQ2hELE9BQU87b0JBQUVuRixTQUFTO29CQUFPRSxPQUFPO2dCQUF5QjtZQUMzRDtZQUVBLE1BQU0rRCxTQUFTdkUsR0FBR3FGLFNBQVMsQ0FBQ0ksS0FBSyxDQUFDOUUsRUFBRTtZQUNwQyxNQUFNQyxTQUFTLE1BQU1aLEdBQUdJLFVBQVUsQ0FBQyxTQUFTVyxNQUFNLENBQUN3RCxRQUFRSTtZQUUzRCxPQUFPO2dCQUFFckUsU0FBUztnQkFBTUMsTUFBTUs7WUFBMEI7UUFDMUQsRUFBRSxPQUFPSixPQUFZO1lBQ25CQyxRQUFRRCxLQUFLLENBQUMseUJBQXlCQTtZQUN2QyxPQUFPO2dCQUNMRixTQUFTO2dCQUNURSxPQUFPQSxNQUFNd0UsT0FBTyxJQUFJO1lBQzFCO1FBQ0Y7SUFDRjtJQUVBOztHQUVDLEdBQ0QsTUFBTW1CLHFCQUFxQnRCLEtBQWEsRUFBaUM7UUFDdkUsSUFBSTtZQUNGLE1BQU03RSxHQUFHSSxVQUFVLENBQUMsU0FBUytGLG9CQUFvQixDQUFDdEI7WUFDbEQsT0FBTztnQkFBRXZFLFNBQVM7Z0JBQU1DLE1BQU07WUFBSztRQUNyQyxFQUFFLE9BQU9DLE9BQVk7WUFDbkJDLFFBQVFELEtBQUssQ0FBQyxpQ0FBaUNBO1lBQy9DLE9BQU87Z0JBQ0xGLFNBQVM7Z0JBQ1RFLE9BQU9BLE1BQU13RSxPQUFPLElBQUk7WUFDMUI7UUFDRjtJQUNGO0lBRUE7O0dBRUMsR0FDRCxNQUFNb0IscUJBQ0pDLEtBQWEsRUFDYnZCLFFBQWdCLEVBQ2hCQyxlQUF1QixFQUNRO1FBQy9CLElBQUk7WUFDRixNQUFNL0UsR0FBR0ksVUFBVSxDQUFDLFNBQVNnRyxvQkFBb0IsQ0FDL0NDLE9BQ0F2QixVQUNBQztZQUVGLE9BQU87Z0JBQUV6RSxTQUFTO2dCQUFNQyxNQUFNO1lBQUs7UUFDckMsRUFBRSxPQUFPQyxPQUFZO1lBQ25CQyxRQUFRRCxLQUFLLENBQUMsc0NBQXNDQTtZQUNwRCxPQUFPO2dCQUNMRixTQUFTO2dCQUNURSxPQUFPQSxNQUFNd0UsT0FBTyxJQUFJO1lBQzFCO1FBQ0Y7SUFDRjtJQUVBOztHQUVDLEdBQ0QsTUFBTXNCLFlBQVlELEtBQWEsRUFBaUM7UUFDOUQsSUFBSTtZQUNGLE1BQU1yRyxHQUFHSSxVQUFVLENBQUMsU0FBU21HLG1CQUFtQixDQUFDRjtZQUNqRCxPQUFPO2dCQUFFL0YsU0FBUztnQkFBTUMsTUFBTTtZQUFLO1FBQ3JDLEVBQUUsT0FBT0MsT0FBWTtZQUNuQkMsUUFBUUQsS0FBSyxDQUFDLDZCQUE2QkE7WUFDM0MsT0FBTztnQkFDTEYsU0FBUztnQkFDVEUsT0FBT0EsTUFBTXdFLE9BQU8sSUFBSTtZQUMxQjtRQUNGO0lBQ0Y7QUFDRjtBQUVBLDZDQUE2QztBQUN0QyxNQUFNd0IsV0FBVyxJQUFJL0IsVUFBVTtBQUMvQixNQUFNZ0MsbUJBQW1CLElBQUkxRSxtQkFBbUI7QUFDaEQsTUFBTTJFLHFCQUFxQixJQUFJMUUscUJBQXFCO0FBQ3BELE1BQU0yRSxlQUFlLElBQUlyRSxlQUFlO0FBQ3hDLE1BQU1zRSxtQkFBbUIsSUFBSXpDLG1CQUFtQjtBQUNoRCxNQUFNMEMscUJBQXFCLElBQUl4QyxxQkFBcUI7QUFDcEQsTUFBTXlDLG9CQUFvQixJQUFJdEMsb0JBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9saWIvYXBpLnRzPzJmYWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0UG9ja2V0QmFzZSwgUE9DS0VUQkFTRV9VUkwgfSBmcm9tICcuL3BvY2tldGJhc2UnO1xuaW1wb3J0IHR5cGUgeyBcbiAgSGlzdG9yaWNhbEFnZSxcbiAgQ29udGVudENhdGVnb3J5LFxuICBIaXN0b3JpY2FsRG9jdW1lbnQsXG4gIERvY3VtZW50TWVkaWEsXG4gIERvY3VtZW50UmVxdWVzdCxcbiAgQ29udGFjdE1lc3NhZ2UsXG4gIFVzZXIsXG4gIERvY3VtZW50U3RhdHVzLFxuICBSZXF1ZXN0U3RhdHVzXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHJlbW92ZUVtcHR5VmFsdWVzIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgUG9ja2V0QmFzZSwgeyBSZWNvcmRNb2RlbCwgUmVjb3JkU3Vic2NyaXB0aW9uIH0gZnJvbSAncG9ja2V0YmFzZSc7XG5cbi8vIEluaXRpYWxpemUgUG9ja2V0QmFzZVxuY29uc3QgcGIgPSBuZXcgUG9ja2V0QmFzZSgnaHR0cDovLzEyNy4wLjAuMTo4MDkwJyk7XG5cbi8vIFR5cGVzIGZvciBBUEkgcmVzcG9uc2VzXG5leHBvcnQgaW50ZXJmYWNlIEFwaVJlc3BvbnNlPFQ+IHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgZGF0YT86IFQ7XG4gIGVycm9yPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhZ2luYXRlZFJlc3BvbnNlPFQ+IHtcbiAgaXRlbXM6IFRbXTtcbiAgdG90YWxJdGVtczogbnVtYmVyO1xuICBwYWdlOiBudW1iZXI7XG4gIHBlclBhZ2U6IG51bWJlcjtcbiAgdG90YWxQYWdlczogbnVtYmVyO1xufVxuXG4vKipcbiAqIEJhc2UgQVBJIGNsYXNzIHdpdGggY29tbW9uIENSVUQgb3BlcmF0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgQmFzZUFQSTxUPiB7XG4gIHByb3RlY3RlZCBjb2xsZWN0aW9uOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoY29sbGVjdGlvbjogc3RyaW5nKSB7XG4gICAgdGhpcy5jb2xsZWN0aW9uID0gY29sbGVjdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHJlY29yZHMgZnJvbSB0aGUgY29sbGVjdGlvblxuICAgKi9cbiAgYXN5bmMgZ2V0QWxsKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8VFtdPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZWNvcmRzID0gYXdhaXQgcGIuY29sbGVjdGlvbih0aGlzLmNvbGxlY3Rpb24pLmdldEZ1bGxMaXN0PFQ+KCk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZWNvcmRzIGFzIHVua25vd24gYXMgVFtdIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGdldHRpbmcgYWxsICR7dGhpcy5jb2xsZWN0aW9ufTpgLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBGYWlsZWQgdG8gZ2V0ICR7dGhpcy5jb2xsZWN0aW9ufWAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgc2luZ2xlIHJlY29yZCBieSBJRFxuICAgKi9cbiAgYXN5bmMgZ2V0QnlJZChpZDogc3RyaW5nKTogUHJvbWlzZTxBcGlSZXNwb25zZTxUPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZWNvcmQgPSBhd2FpdCBwYi5jb2xsZWN0aW9uKHRoaXMuY29sbGVjdGlvbikuZ2V0T25lPFQ+KGlkKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlY29yZCBhcyB1bmtub3duIGFzIFQgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZ2V0dGluZyAke3RoaXMuY29sbGVjdGlvbn0gYnkgSUQ6YCwgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgJHt0aGlzLmNvbGxlY3Rpb259IG5vdCBmb3VuZGAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHJlY29yZFxuICAgKi9cbiAgYXN5bmMgY3JlYXRlKGRhdGE6IGFueSk6IFByb21pc2U8QXBpUmVzcG9uc2U8VD4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVjb3JkID0gYXdhaXQgcGIuY29sbGVjdGlvbih0aGlzLmNvbGxlY3Rpb24pLmNyZWF0ZTxUPihkYXRhKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlY29yZCBhcyB1bmtub3duIGFzIFQgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgY3JlYXRpbmcgJHt0aGlzLmNvbGxlY3Rpb259OmAsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYEZhaWxlZCB0byBjcmVhdGUgJHt0aGlzLmNvbGxlY3Rpb259YCB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYSByZWNvcmRcbiAgICovXG4gIGFzeW5jIHVwZGF0ZShpZDogc3RyaW5nLCBkYXRhOiBhbnkpOiBQcm9taXNlPEFwaVJlc3BvbnNlPFQ+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlY29yZCA9IGF3YWl0IHBiLmNvbGxlY3Rpb24odGhpcy5jb2xsZWN0aW9uKS51cGRhdGU8VD4oaWQsIGRhdGEpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVjb3JkIGFzIHVua25vd24gYXMgVCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciB1cGRhdGluZyAke3RoaXMuY29sbGVjdGlvbn06YCwgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRmFpbGVkIHRvIHVwZGF0ZSAke3RoaXMuY29sbGVjdGlvbn1gIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIHJlY29yZFxuICAgKi9cbiAgYXN5bmMgZGVsZXRlKGlkOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPGJvb2xlYW4+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHBiLmNvbGxlY3Rpb24odGhpcy5jb2xsZWN0aW9uKS5kZWxldGUoaWQpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdHJ1ZSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBkZWxldGluZyAke3RoaXMuY29sbGVjdGlvbn06YCwgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRmFpbGVkIHRvIGRlbGV0ZSAke3RoaXMuY29sbGVjdGlvbn1gIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBwYWdpbmF0ZWQgcmVjb3Jkc1xuICAgKi9cbiAgYXN5bmMgZ2V0UGFnaW5hdGVkKHBhZ2U6IG51bWJlciA9IDEsIHBlclBhZ2U6IG51bWJlciA9IDIwKTogUHJvbWlzZTxBcGlSZXNwb25zZTxQYWdpbmF0ZWRSZXNwb25zZTxUPj4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBwYi5jb2xsZWN0aW9uKHRoaXMuY29sbGVjdGlvbikuZ2V0TGlzdDxUPihwYWdlLCBwZXJQYWdlKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGl0ZW1zOiByZXNwb25zZS5pdGVtcyBhcyB1bmtub3duIGFzIFRbXSxcbiAgICAgICAgICB0b3RhbEl0ZW1zOiByZXNwb25zZS50b3RhbEl0ZW1zLFxuICAgICAgICAgIHBhZ2U6IHJlc3BvbnNlLnBhZ2UsXG4gICAgICAgICAgcGVyUGFnZTogcmVzcG9uc2UucGVyUGFnZSxcbiAgICAgICAgICB0b3RhbFBhZ2VzOiByZXNwb25zZS50b3RhbFBhZ2VzLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZ2V0dGluZyBwYWdpbmF0ZWQgJHt0aGlzLmNvbGxlY3Rpb259OmAsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYEZhaWxlZCB0byBnZXQgJHt0aGlzLmNvbGxlY3Rpb259YCB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gcmVhbC10aW1lIGNoYW5nZXNcbiAgICovXG4gIHN1YnNjcmliZShjYWxsYmFjazogKGRhdGE6IFJlY29yZFN1YnNjcmlwdGlvbjxUPikgPT4gdm9pZCk6ICgoKSA9PiB2b2lkKSB7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBwYi5jb2xsZWN0aW9uKHRoaXMuY29sbGVjdGlvbikuc3Vic2NyaWJlPFQ+KCcqJywgY2FsbGJhY2spO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB1bnN1YnNjcmliZS50aGVuKHVuc3ViID0+IHVuc3ViKCkpO1xuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBIaXN0b3JpY2FsIEFnZSBBUEkgZm9yIGZldGNoaW5nIGhpc3RvcmljYWwgcGVyaW9kc1xuICovXG5leHBvcnQgY2xhc3MgSGlzdG9yaWNhbEFnZUFQSSBleHRlbmRzIEJhc2VBUEk8YW55PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdoaXN0b3JpY2FsX2FnZXMnKTtcbiAgfVxufVxuXG4vKipcbiAqIENvbnRlbnQgQ2F0ZWdvcnkgQVBJIGZvciBkb2N1bWVudCBjYXRlZ29yaWVzXG4gKi9cbmV4cG9ydCBjbGFzcyBDb250ZW50Q2F0ZWdvcnlBUEkgZXh0ZW5kcyBCYXNlQVBJPGFueT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignY29udGVudF9jYXRlZ29yaWVzJyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRvcCBsZXZlbCBjYXRlZ29yaWVzXG4gICAqL1xuICBhc3luYyBnZXRUb3BDYXRlZ29yaWVzKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8YW55W10+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBwYlxuICAgICAgICAuY29sbGVjdGlvbih0aGlzLmNvbGxlY3Rpb24pXG4gICAgICAgIC5nZXRGdWxsTGlzdCh7XG4gICAgICAgICAgZmlsdGVyOiAnaXNNYWluID0gdHJ1ZScsXG4gICAgICAgICAgc29ydDogJ25hbWUnLFxuICAgICAgICB9KTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlY29yZHMgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB0b3AgY2F0ZWdvcmllczonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gZ2V0IHRvcCBjYXRlZ29yaWVzJyB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgc3ViY2F0ZWdvcmllcyBmb3IgYSBnaXZlbiBwYXJlbnQgY2F0ZWdvcnlcbiAgICovXG4gIGFzeW5jIGdldFN1YmNhdGVnb3JpZXMocGFyZW50SWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8YW55W10+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBwYlxuICAgICAgICAuY29sbGVjdGlvbih0aGlzLmNvbGxlY3Rpb24pXG4gICAgICAgIC5nZXRGdWxsTGlzdCh7XG4gICAgICAgICAgZmlsdGVyOiBgcGFyZW50SWQgPSBcIiR7cGFyZW50SWR9XCJgLFxuICAgICAgICAgIHNvcnQ6ICduYW1lJyxcbiAgICAgICAgfSk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZWNvcmRzIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgc3ViY2F0ZWdvcmllczonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gZ2V0IHN1YmNhdGVnb3JpZXMnIH07XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRG9jdW1lbnRzIEFQSSBmb3IgaGFuZGxpbmcgaGlzdG9yaWNhbCBkb2N1bWVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIERvY3VtZW50c0FQSSBleHRlbmRzIEJhc2VBUEk8YW55PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdkb2N1bWVudHMnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZmlsdGVyZWQgZG9jdW1lbnRzIHdpdGggcGFnaW5hdGlvbiBhbmQgc29ydGluZ1xuICAgKi9cbiAgYXN5bmMgZ2V0RmlsdGVyZWQoXG4gICAgZmlsdGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcbiAgICBwYWdlOiBudW1iZXIgPSAxLFxuICAgIHBlclBhZ2U6IG51bWJlciA9IDIwLFxuICAgIHNvcnRCeTogc3RyaW5nID0gJ2NyZWF0ZWREZXNjJ1xuICApOiBQcm9taXNlPEFwaVJlc3BvbnNlPFBhZ2luYXRlZFJlc3BvbnNlPGFueT4+PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEJ1aWxkIGZpbHRlciBzdHJpbmdcbiAgICAgIGNvbnN0IGZpbHRlclBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgXG4gICAgICBpZiAoZmlsdGVycy5zZWFyY2gpIHtcbiAgICAgICAgZmlsdGVyUGFydHMucHVzaChgKHRpdGxlIH4gXCIke2ZpbHRlcnMuc2VhcmNofVwiIHx8IGF1dGhvciB+IFwiJHtmaWx0ZXJzLnNlYXJjaH1cIiB8fCBkZXNjcmlwdGlvbiB+IFwiJHtmaWx0ZXJzLnNlYXJjaH1cIilgKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGZpbHRlcnMuYWdlKSB7XG4gICAgICAgIGZpbHRlclBhcnRzLnB1c2goYGFnZSA9IFwiJHtmaWx0ZXJzLmFnZX1cImApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoZmlsdGVycy5jYXRlZ29yeSkge1xuICAgICAgICBmaWx0ZXJQYXJ0cy5wdXNoKGBjYXRlZ29yeSA9IFwiJHtmaWx0ZXJzLmNhdGVnb3J5fVwiYCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGZpbHRlclN0cmluZyA9IGZpbHRlclBhcnRzLmxlbmd0aCA+IDAgPyBmaWx0ZXJQYXJ0cy5qb2luKCcgJiYgJykgOiAnJztcbiAgICAgIFxuICAgICAgLy8gQnVpbGQgc29ydCBzdHJpbmdcbiAgICAgIGxldCBzb3J0U3RyaW5nID0gJyc7XG4gICAgICBzd2l0Y2goc29ydEJ5KSB7XG4gICAgICAgIGNhc2UgJ2NyZWF0ZWREZXNjJzpcbiAgICAgICAgICBzb3J0U3RyaW5nID0gJy1jcmVhdGVkJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY3JlYXRlZEFzYyc6XG4gICAgICAgICAgc29ydFN0cmluZyA9ICcrY3JlYXRlZCc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RpdGxlQXNjJzpcbiAgICAgICAgICBzb3J0U3RyaW5nID0gJyt0aXRsZSc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RpdGxlRGVzYyc6XG4gICAgICAgICAgc29ydFN0cmluZyA9ICctdGl0bGUnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd2aWV3Q291bnREZXNjJzpcbiAgICAgICAgICBzb3J0U3RyaW5nID0gJy12aWV3Q291bnQnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkb3dubG9hZENvdW50RGVzYyc6XG4gICAgICAgICAgc29ydFN0cmluZyA9ICctZG93bmxvYWRDb3VudCc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgc29ydFN0cmluZyA9ICctY3JlYXRlZCc7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZldGNoIHJlY29yZHNcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcGIuY29sbGVjdGlvbih0aGlzLmNvbGxlY3Rpb24pLmdldExpc3QocGFnZSwgcGVyUGFnZSwge1xuICAgICAgICBmaWx0ZXI6IGZpbHRlclN0cmluZyxcbiAgICAgICAgc29ydDogc29ydFN0cmluZyxcbiAgICAgICAgZXhwYW5kOiAnYWdlLGNhdGVnb3J5JyxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaXRlbXM6IHJlc3BvbnNlLml0ZW1zLFxuICAgICAgICAgIHRvdGFsSXRlbXM6IHJlc3BvbnNlLnRvdGFsSXRlbXMsXG4gICAgICAgICAgcGFnZTogcmVzcG9uc2UucGFnZSxcbiAgICAgICAgICBwZXJQYWdlOiByZXNwb25zZS5wZXJQYWdlLFxuICAgICAgICAgIHRvdGFsUGFnZXM6IHJlc3BvbnNlLnRvdGFsUGFnZXMsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGZpbHRlcmVkIGRvY3VtZW50czonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gZ2V0IGRvY3VtZW50cycgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5jcmVtZW50IHZpZXcgY291bnQgZm9yIGEgZG9jdW1lbnRcbiAgICovXG4gIGFzeW5jIGluY3JlbWVudFZpZXdDb3VudChkb2N1bWVudElkOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPGJvb2xlYW4+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRvY3VtZW50ID0gYXdhaXQgcGIuY29sbGVjdGlvbih0aGlzLmNvbGxlY3Rpb24pLmdldE9uZShkb2N1bWVudElkKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRWaWV3Q291bnQgPSBkb2N1bWVudC52aWV3Q291bnQgfHwgMDtcbiAgICAgIFxuICAgICAgYXdhaXQgcGIuY29sbGVjdGlvbih0aGlzLmNvbGxlY3Rpb24pLnVwZGF0ZShkb2N1bWVudElkLCB7XG4gICAgICAgIHZpZXdDb3VudDogY3VycmVudFZpZXdDb3VudCArIDEsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdHJ1ZSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbmNyZW1lbnRpbmcgdmlldyBjb3VudDonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIHZpZXcgY291bnQnIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluY3JlbWVudCBkb3dubG9hZCBjb3VudCBmb3IgYSBkb2N1bWVudFxuICAgKi9cbiAgYXN5bmMgaW5jcmVtZW50RG93bmxvYWRDb3VudChkb2N1bWVudElkOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPGJvb2xlYW4+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRvY3VtZW50ID0gYXdhaXQgcGIuY29sbGVjdGlvbih0aGlzLmNvbGxlY3Rpb24pLmdldE9uZShkb2N1bWVudElkKTtcbiAgICAgIGNvbnN0IGN1cnJlbnREb3dubG9hZENvdW50ID0gZG9jdW1lbnQuZG93bmxvYWRDb3VudCB8fCAwO1xuICAgICAgXG4gICAgICBhd2FpdCBwYi5jb2xsZWN0aW9uKHRoaXMuY29sbGVjdGlvbikudXBkYXRlKGRvY3VtZW50SWQsIHtcbiAgICAgICAgZG93bmxvYWRDb3VudDogY3VycmVudERvd25sb2FkQ291bnQgKyAxLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHRydWUgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5jcmVtZW50aW5nIGRvd25sb2FkIGNvdW50OicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZhaWxlZCB0byB1cGRhdGUgZG93bmxvYWQgY291bnQnIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBmZWF0dXJlZCBkb2N1bWVudHNcbiAgICovXG4gIGFzeW5jIGdldEZlYXR1cmVkKGxpbWl0OiBudW1iZXIgPSA0KTogUHJvbWlzZTxBcGlSZXNwb25zZTxhbnlbXT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVjb3JkcyA9IGF3YWl0IHBiXG4gICAgICAgIC5jb2xsZWN0aW9uKHRoaXMuY29sbGVjdGlvbilcbiAgICAgICAgLmdldExpc3QoMSwgbGltaXQsIHtcbiAgICAgICAgICBzb3J0OiAnLXZpZXdDb3VudCcsXG4gICAgICAgICAgZXhwYW5kOiAnYWdlLGNhdGVnb3J5JyxcbiAgICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlY29yZHMuaXRlbXMgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBmZWF0dXJlZCBkb2N1bWVudHM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIGdldCBmZWF0dXJlZCBkb2N1bWVudHMnIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkb2N1bWVudHMgYnkgaGlzdG9yaWNhbCBhZ2VcbiAgICovXG4gIGFzeW5jIGdldEJ5SGlzdG9yaWNhbEFnZShhZ2VJZDogc3RyaW5nLCBsaW1pdDogbnVtYmVyID0gOCk6IFByb21pc2U8QXBpUmVzcG9uc2U8YW55W10+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBwYlxuICAgICAgICAuY29sbGVjdGlvbih0aGlzLmNvbGxlY3Rpb24pXG4gICAgICAgIC5nZXRMaXN0KDEsIGxpbWl0LCB7XG4gICAgICAgICAgZmlsdGVyOiBgYWdlID0gXCIke2FnZUlkfVwiYCxcbiAgICAgICAgICBzb3J0OiAnLWNyZWF0ZWQnLFxuICAgICAgICAgIGV4cGFuZDogJ2FnZSxjYXRlZ29yeScsXG4gICAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZWNvcmRzLml0ZW1zIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgZG9jdW1lbnRzIGJ5IGFnZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gZ2V0IGRvY3VtZW50cycgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGRvY3VtZW50cyBieSBjYXRlZ29yeVxuICAgKi9cbiAgYXN5bmMgZ2V0QnlDYXRlZ29yeShjYXRlZ29yeUlkOiBzdHJpbmcsIGxpbWl0OiBudW1iZXIgPSA4KTogUHJvbWlzZTxBcGlSZXNwb25zZTxhbnlbXT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVjb3JkcyA9IGF3YWl0IHBiXG4gICAgICAgIC5jb2xsZWN0aW9uKHRoaXMuY29sbGVjdGlvbilcbiAgICAgICAgLmdldExpc3QoMSwgbGltaXQsIHtcbiAgICAgICAgICBmaWx0ZXI6IGBjYXRlZ29yeSA9IFwiJHtjYXRlZ29yeUlkfVwiYCxcbiAgICAgICAgICBzb3J0OiAnLWNyZWF0ZWQnLFxuICAgICAgICAgIGV4cGFuZDogJ2FnZSxjYXRlZ29yeScsXG4gICAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZWNvcmRzLml0ZW1zIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgZG9jdW1lbnRzIGJ5IGNhdGVnb3J5OicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZhaWxlZCB0byBnZXQgZG9jdW1lbnRzJyB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZWFyY2ggZG9jdW1lbnRzXG4gICAqL1xuICBhc3luYyBzZWFyY2gocXVlcnk6IHN0cmluZywgbGltaXQ6IG51bWJlciA9IDIwKTogUHJvbWlzZTxBcGlSZXNwb25zZTxhbnlbXT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVjb3JkcyA9IGF3YWl0IHBiXG4gICAgICAgIC5jb2xsZWN0aW9uKHRoaXMuY29sbGVjdGlvbilcbiAgICAgICAgLmdldExpc3QoMSwgbGltaXQsIHtcbiAgICAgICAgICBmaWx0ZXI6IGB0aXRsZSB+IFwiJHtxdWVyeX1cIiB8fCBhdXRob3IgfiBcIiR7cXVlcnl9XCIgfHwgZGVzY3JpcHRpb24gfiBcIiR7cXVlcnl9XCJgLFxuICAgICAgICAgIHNvcnQ6ICctY3JlYXRlZCcsXG4gICAgICAgICAgZXhwYW5kOiAnYWdlLGNhdGVnb3J5JyxcbiAgICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlY29yZHMuaXRlbXMgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VhcmNoaW5nIGRvY3VtZW50czonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gc2VhcmNoIGRvY3VtZW50cycgfTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBEb2N1bWVudCBNZWRpYSBBUEkgZm9yIGhhbmRsaW5nIGRvY3VtZW50IG1lZGlhIGZpbGVzXG4gKi9cbmV4cG9ydCBjbGFzcyBEb2N1bWVudE1lZGlhQVBJIGV4dGVuZHMgQmFzZUFQSTxhbnk+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ2RvY3VtZW50X21lZGlhJyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IG1lZGlhIGZpbGVzIGZvciBhIGRvY3VtZW50XG4gICAqL1xuICBhc3luYyBnZXRCeURvY3VtZW50SWQoZG9jdW1lbnRJZDogc3RyaW5nKTogUHJvbWlzZTxBcGlSZXNwb25zZTxhbnlbXT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVjb3JkcyA9IGF3YWl0IHBiXG4gICAgICAgIC5jb2xsZWN0aW9uKHRoaXMuY29sbGVjdGlvbilcbiAgICAgICAgLmdldExpc3QoMSwgMTAwLCB7XG4gICAgICAgICAgZmlsdGVyOiBgZG9jdW1lbnQgPSBcIiR7ZG9jdW1lbnRJZH1cImAsXG4gICAgICAgICAgc29ydDogJ2NyZWF0ZWQnLFxuICAgICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVjb3Jkcy5pdGVtcyB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGRvY3VtZW50IG1lZGlhOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZhaWxlZCB0byBnZXQgZG9jdW1lbnQgbWVkaWEnIH07XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRG9jdW1lbnQgUmVxdWVzdCBBUEkgZm9yIGhhbmRsaW5nIGRvY3VtZW50IHJlcXVlc3RzXG4gKi9cbmV4cG9ydCBjbGFzcyBEb2N1bWVudFJlcXVlc3RBUEkgZXh0ZW5kcyBCYXNlQVBJPGFueT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignZG9jdW1lbnRfcmVxdWVzdHMnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcmVxdWVzdHMgYnkgdXNlclxuICAgKi9cbiAgYXN5bmMgZ2V0QnlVc2VySWQodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPGFueVtdPj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZWNvcmRzID0gYXdhaXQgcGJcbiAgICAgICAgLmNvbGxlY3Rpb24odGhpcy5jb2xsZWN0aW9uKVxuICAgICAgICAuZ2V0TGlzdCgxLCAxMDAsIHtcbiAgICAgICAgICBmaWx0ZXI6IGB1c2VyID0gXCIke3VzZXJJZH1cImAsXG4gICAgICAgICAgc29ydDogJy1jcmVhdGVkJyxcbiAgICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlY29yZHMuaXRlbXMgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB1c2VyIHJlcXVlc3RzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZhaWxlZCB0byBnZXQgZG9jdW1lbnQgcmVxdWVzdHMnIH07XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ29udGFjdCBNZXNzYWdlIEFQSSBmb3IgaGFuZGxpbmcgY29udGFjdCBmb3JtIHN1Ym1pc3Npb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBDb250YWN0TWVzc2FnZUFQSSBleHRlbmRzIEJhc2VBUEk8YW55PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdjb250YWN0X21lc3NhZ2VzJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBVc2VyIEFQSSBmb3IgYXV0aGVudGljYXRpb24gYW5kIHVzZXIgbWFuYWdlbWVudFxuICovXG5leHBvcnQgY2xhc3MgVXNlckFQSSB7XG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIG5ldyB1c2VyXG4gICAqL1xuICBhc3luYyByZWdpc3Rlcih1c2VyRGF0YToge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIHBhc3N3b3JkOiBzdHJpbmc7XG4gICAgcGFzc3dvcmRDb25maXJtOiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPEFwaVJlc3BvbnNlPFVzZXI+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIG5hbWU6IHVzZXJEYXRhLm5hbWUsXG4gICAgICAgIGVtYWlsOiB1c2VyRGF0YS5lbWFpbCxcbiAgICAgICAgcGFzc3dvcmQ6IHVzZXJEYXRhLnBhc3N3b3JkLFxuICAgICAgICBwYXNzd29yZENvbmZpcm06IHVzZXJEYXRhLnBhc3N3b3JkQ29uZmlybSxcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IHJlY29yZCA9IGF3YWl0IHBiLmNvbGxlY3Rpb24oJ3VzZXJzJykuY3JlYXRlKGRhdGEpO1xuICAgICAgXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZWNvcmQgYXMgdW5rbm93biBhcyBVc2VyIH07XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignUmVnaXN0cmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGNyZWF0ZSBhY2NvdW50JyxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvZ2luIGEgdXNlclxuICAgKi9cbiAgYXN5bmMgbG9naW4oZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8VXNlcj4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXV0aERhdGEgPSBhd2FpdCBwYlxuICAgICAgICAuY29sbGVjdGlvbigndXNlcnMnKVxuICAgICAgICAuYXV0aFdpdGhQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBhdXRoRGF0YS5yZWNvcmQgYXMgdW5rbm93biBhcyBVc2VyLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdMb2dpbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ludmFsaWQgZW1haWwgb3IgcGFzc3dvcmQnLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9nb3V0IHRoZSBjdXJyZW50IHVzZXJcbiAgICovXG4gIGxvZ291dCgpOiB2b2lkIHtcbiAgICBwYi5hdXRoU3RvcmUuY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgYXV0aGVudGljYXRlZCB1c2VyXG4gICAqL1xuICBnZXRDdXJyZW50VXNlcigpOiBVc2VyIHwgbnVsbCB7XG4gICAgaWYgKCFwYi5hdXRoU3RvcmUuaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG1vZGVsID0gcGIuYXV0aFN0b3JlLm1vZGVsO1xuICAgIGlmICghbW9kZWwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IG1vZGVsLmlkLFxuICAgICAgY29sbGVjdGlvbklkOiBtb2RlbC5jb2xsZWN0aW9uSWQsXG4gICAgICBjb2xsZWN0aW9uTmFtZTogbW9kZWwuY29sbGVjdGlvbk5hbWUsXG4gICAgICBjcmVhdGVkOiBtb2RlbC5jcmVhdGVkLFxuICAgICAgdXBkYXRlZDogbW9kZWwudXBkYXRlZCxcbiAgICAgIGVtYWlsOiBtb2RlbC5lbWFpbCxcbiAgICAgIG5hbWU6IG1vZGVsLm5hbWUsXG4gICAgICBhdmF0YXI6IG1vZGVsLmF2YXRhcixcbiAgICAgIGVtYWlsVmlzaWJpbGl0eTogbW9kZWwuZW1haWxWaXNpYmlsaXR5LFxuICAgICAgdmVyaWZpZWQ6IG1vZGVsLnZlcmlmaWVkLFxuICAgIH0gYXMgVXNlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHVzZXIgaXMgYXV0aGVudGljYXRlZFxuICAgKi9cbiAgaXNBdXRoZW50aWNhdGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBwYi5hdXRoU3RvcmUuaXNWYWxpZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdXNlciBwcm9maWxlXG4gICAqL1xuICBhc3luYyB1cGRhdGVQcm9maWxlKHVzZXJEYXRhOiB7XG4gICAgbmFtZT86IHN0cmluZztcbiAgICBhdmF0YXI/OiBGaWxlO1xuICB9KTogUHJvbWlzZTxBcGlSZXNwb25zZTxVc2VyPj4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXBiLmF1dGhTdG9yZS5pc1ZhbGlkIHx8ICFwYi5hdXRoU3RvcmUubW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVXNlciBub3QgYXV0aGVudGljYXRlZCcgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgdXNlcklkID0gcGIuYXV0aFN0b3JlLm1vZGVsLmlkO1xuICAgICAgY29uc3QgcmVjb3JkID0gYXdhaXQgcGIuY29sbGVjdGlvbigndXNlcnMnKS51cGRhdGUodXNlcklkLCB1c2VyRGF0YSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlY29yZCBhcyB1bmtub3duIGFzIFVzZXIgfTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdQcm9maWxlIHVwZGF0ZSBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB1cGRhdGUgcHJvZmlsZScsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IHBhc3N3b3JkIHJlc2V0XG4gICAqL1xuICBhc3luYyByZXF1ZXN0UGFzc3dvcmRSZXNldChlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxBcGlSZXNwb25zZTxib29sZWFuPj4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBwYi5jb2xsZWN0aW9uKCd1c2VycycpLnJlcXVlc3RQYXNzd29yZFJlc2V0KGVtYWlsKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHRydWUgfTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdQYXNzd29yZCByZXNldCByZXF1ZXN0IGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHJlcXVlc3QgcGFzc3dvcmQgcmVzZXQnLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29uZmlybSBwYXNzd29yZCByZXNldFxuICAgKi9cbiAgYXN5bmMgY29uZmlybVBhc3N3b3JkUmVzZXQoXG4gICAgdG9rZW46IHN0cmluZyxcbiAgICBwYXNzd29yZDogc3RyaW5nLFxuICAgIHBhc3N3b3JkQ29uZmlybTogc3RyaW5nXG4gICk6IFByb21pc2U8QXBpUmVzcG9uc2U8Ym9vbGVhbj4+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgcGIuY29sbGVjdGlvbigndXNlcnMnKS5jb25maXJtUGFzc3dvcmRSZXNldChcbiAgICAgICAgdG9rZW4sXG4gICAgICAgIHBhc3N3b3JkLFxuICAgICAgICBwYXNzd29yZENvbmZpcm1cbiAgICAgICk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiB0cnVlIH07XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignUGFzc3dvcmQgcmVzZXQgY29uZmlybWF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHJlc2V0IHBhc3N3b3JkJyxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmeSBlbWFpbFxuICAgKi9cbiAgYXN5bmMgdmVyaWZ5RW1haWwodG9rZW46IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8Ym9vbGVhbj4+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgcGIuY29sbGVjdGlvbigndXNlcnMnKS5jb25maXJtVmVyaWZpY2F0aW9uKHRva2VuKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHRydWUgfTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFbWFpbCB2ZXJpZmljYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gdmVyaWZ5IGVtYWlsJyxcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5cbi8vIENyZWF0ZSBpbnN0YW5jZXMgb2YgQVBJIGNsYXNzZXMgZm9yIGV4cG9ydFxuZXhwb3J0IGNvbnN0IHVzZXJzQXBpID0gbmV3IFVzZXJBUEkoKTtcbmV4cG9ydCBjb25zdCBoaXN0b3JpY2FsQWdlQXBpID0gbmV3IEhpc3RvcmljYWxBZ2VBUEkoKTtcbmV4cG9ydCBjb25zdCBjb250ZW50Q2F0ZWdvcnlBcGkgPSBuZXcgQ29udGVudENhdGVnb3J5QVBJKCk7XG5leHBvcnQgY29uc3QgZG9jdW1lbnRzQXBpID0gbmV3IERvY3VtZW50c0FQSSgpO1xuZXhwb3J0IGNvbnN0IGRvY3VtZW50TWVkaWFBcGkgPSBuZXcgRG9jdW1lbnRNZWRpYUFQSSgpO1xuZXhwb3J0IGNvbnN0IGRvY3VtZW50UmVxdWVzdEFwaSA9IG5ldyBEb2N1bWVudFJlcXVlc3RBUEkoKTtcbmV4cG9ydCBjb25zdCBjb250YWN0TWVzc2FnZUFwaSA9IG5ldyBDb250YWN0TWVzc2FnZUFQSSgpOyAiXSwibmFtZXMiOlsiUG9ja2V0QmFzZSIsInBiIiwiQmFzZUFQSSIsImdldEFsbCIsInJlY29yZHMiLCJjb2xsZWN0aW9uIiwiZ2V0RnVsbExpc3QiLCJzdWNjZXNzIiwiZGF0YSIsImVycm9yIiwiY29uc29sZSIsImdldEJ5SWQiLCJpZCIsInJlY29yZCIsImdldE9uZSIsImNyZWF0ZSIsInVwZGF0ZSIsImRlbGV0ZSIsImdldFBhZ2luYXRlZCIsInBhZ2UiLCJwZXJQYWdlIiwicmVzcG9uc2UiLCJnZXRMaXN0IiwiaXRlbXMiLCJ0b3RhbEl0ZW1zIiwidG90YWxQYWdlcyIsInN1YnNjcmliZSIsImNhbGxiYWNrIiwidW5zdWJzY3JpYmUiLCJ0aGVuIiwidW5zdWIiLCJjb25zdHJ1Y3RvciIsIkhpc3RvcmljYWxBZ2VBUEkiLCJDb250ZW50Q2F0ZWdvcnlBUEkiLCJnZXRUb3BDYXRlZ29yaWVzIiwiZmlsdGVyIiwic29ydCIsImdldFN1YmNhdGVnb3JpZXMiLCJwYXJlbnRJZCIsIkRvY3VtZW50c0FQSSIsImdldEZpbHRlcmVkIiwiZmlsdGVycyIsInNvcnRCeSIsImZpbHRlclBhcnRzIiwic2VhcmNoIiwicHVzaCIsImFnZSIsImNhdGVnb3J5IiwiZmlsdGVyU3RyaW5nIiwibGVuZ3RoIiwiam9pbiIsInNvcnRTdHJpbmciLCJleHBhbmQiLCJpbmNyZW1lbnRWaWV3Q291bnQiLCJkb2N1bWVudElkIiwiZG9jdW1lbnQiLCJjdXJyZW50Vmlld0NvdW50Iiwidmlld0NvdW50IiwiaW5jcmVtZW50RG93bmxvYWRDb3VudCIsImN1cnJlbnREb3dubG9hZENvdW50IiwiZG93bmxvYWRDb3VudCIsImdldEZlYXR1cmVkIiwibGltaXQiLCJnZXRCeUhpc3RvcmljYWxBZ2UiLCJhZ2VJZCIsImdldEJ5Q2F0ZWdvcnkiLCJjYXRlZ29yeUlkIiwicXVlcnkiLCJEb2N1bWVudE1lZGlhQVBJIiwiZ2V0QnlEb2N1bWVudElkIiwiRG9jdW1lbnRSZXF1ZXN0QVBJIiwiZ2V0QnlVc2VySWQiLCJ1c2VySWQiLCJDb250YWN0TWVzc2FnZUFQSSIsIlVzZXJBUEkiLCJyZWdpc3RlciIsInVzZXJEYXRhIiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJwYXNzd29yZENvbmZpcm0iLCJtZXNzYWdlIiwibG9naW4iLCJhdXRoRGF0YSIsImF1dGhXaXRoUGFzc3dvcmQiLCJsb2dvdXQiLCJhdXRoU3RvcmUiLCJjbGVhciIsImdldEN1cnJlbnRVc2VyIiwiaXNWYWxpZCIsIm1vZGVsIiwiY29sbGVjdGlvbklkIiwiY29sbGVjdGlvbk5hbWUiLCJjcmVhdGVkIiwidXBkYXRlZCIsImF2YXRhciIsImVtYWlsVmlzaWJpbGl0eSIsInZlcmlmaWVkIiwiaXNBdXRoZW50aWNhdGVkIiwidXBkYXRlUHJvZmlsZSIsInJlcXVlc3RQYXNzd29yZFJlc2V0IiwiY29uZmlybVBhc3N3b3JkUmVzZXQiLCJ0b2tlbiIsInZlcmlmeUVtYWlsIiwiY29uZmlybVZlcmlmaWNhdGlvbiIsInVzZXJzQXBpIiwiaGlzdG9yaWNhbEFnZUFwaSIsImNvbnRlbnRDYXRlZ29yeUFwaSIsImRvY3VtZW50c0FwaSIsImRvY3VtZW50TWVkaWFBcGkiLCJkb2N1bWVudFJlcXVlc3RBcGkiLCJjb250YWN0TWVzc2FnZUFwaSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/api.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/pocketbase/dist/pocketbase.es.mjs":
/*!********************************************************!*\
  !*** ./node_modules/pocketbase/dist/pocketbase.es.mjs ***!
  \********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdminService: function() { return /* binding */ AdminService; },\n/* harmony export */   AsyncAuthStore: function() { return /* binding */ AsyncAuthStore; },\n/* harmony export */   BaseAuthStore: function() { return /* binding */ BaseAuthStore; },\n/* harmony export */   ClientResponseError: function() { return /* binding */ ClientResponseError; },\n/* harmony export */   CollectionService: function() { return /* binding */ CollectionService; },\n/* harmony export */   CrudService: function() { return /* binding */ CrudService; },\n/* harmony export */   LocalAuthStore: function() { return /* binding */ LocalAuthStore; },\n/* harmony export */   LogService: function() { return /* binding */ LogService; },\n/* harmony export */   RealtimeService: function() { return /* binding */ RealtimeService; },\n/* harmony export */   RecordService: function() { return /* binding */ RecordService; },\n/* harmony export */   cookieParse: function() { return /* binding */ cookieParse; },\n/* harmony export */   cookieSerialize: function() { return /* binding */ cookieSerialize; },\n/* harmony export */   \"default\": function() { return /* binding */ Client; },\n/* harmony export */   getTokenPayload: function() { return /* binding */ getTokenPayload; },\n/* harmony export */   isTokenExpired: function() { return /* binding */ isTokenExpired; },\n/* harmony export */   normalizeUnknownQueryParams: function() { return /* binding */ normalizeUnknownQueryParams; }\n/* harmony export */ });\nclass ClientResponseError extends Error{constructor(e){super(\"ClientResponseError\"),this.url=\"\",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,ClientResponseError.prototype),null!==e&&\"object\"==typeof e&&(this.url=\"string\"==typeof e.url?e.url:\"\",this.status=\"number\"==typeof e.status?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,null!==e.response&&\"object\"==typeof e.response?this.response=e.response:null!==e.data&&\"object\"==typeof e.data?this.response=e.data:this.response={}),this.originalError||e instanceof ClientResponseError||(this.originalError=e),\"undefined\"!=typeof DOMException&&e instanceof DOMException&&(this.isAbort=!0),this.name=\"ClientResponseError \"+this.status,this.message=this.response?.message,this.message||(this.isAbort?this.message=\"The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.\":this.originalError?.cause?.message?.includes(\"ECONNREFUSED ::1\")?this.message=\"Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).\":this.message=\"Something went wrong while processing your request.\")}get data(){return this.response}toJSON(){return{...this}}}const e=/^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;function cookieParse(e,t){const s={};if(\"string\"!=typeof e)return s;const i=Object.assign({},t||{}).decode||defaultDecode;let n=0;for(;n<e.length;){const t=e.indexOf(\"=\",n);if(-1===t)break;let r=e.indexOf(\";\",n);if(-1===r)r=e.length;else if(r<t){n=e.lastIndexOf(\";\",t-1)+1;continue}const o=e.slice(n,t).trim();if(void 0===s[o]){let n=e.slice(t+1,r).trim();34===n.charCodeAt(0)&&(n=n.slice(1,-1));try{s[o]=i(n)}catch(e){s[o]=n}}n=r+1}return s}function cookieSerialize(t,s,i){const n=Object.assign({},i||{}),r=n.encode||defaultEncode;if(!e.test(t))throw new TypeError(\"argument name is invalid\");const o=r(s);if(o&&!e.test(o))throw new TypeError(\"argument val is invalid\");let a=t+\"=\"+o;if(null!=n.maxAge){const e=n.maxAge-0;if(isNaN(e)||!isFinite(e))throw new TypeError(\"option maxAge is invalid\");a+=\"; Max-Age=\"+Math.floor(e)}if(n.domain){if(!e.test(n.domain))throw new TypeError(\"option domain is invalid\");a+=\"; Domain=\"+n.domain}if(n.path){if(!e.test(n.path))throw new TypeError(\"option path is invalid\");a+=\"; Path=\"+n.path}if(n.expires){if(!function isDate(e){return\"[object Date]\"===Object.prototype.toString.call(e)||e instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError(\"option expires is invalid\");a+=\"; Expires=\"+n.expires.toUTCString()}if(n.httpOnly&&(a+=\"; HttpOnly\"),n.secure&&(a+=\"; Secure\"),n.priority){switch(\"string\"==typeof n.priority?n.priority.toLowerCase():n.priority){case\"low\":a+=\"; Priority=Low\";break;case\"medium\":a+=\"; Priority=Medium\";break;case\"high\":a+=\"; Priority=High\";break;default:throw new TypeError(\"option priority is invalid\")}}if(n.sameSite){switch(\"string\"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:a+=\"; SameSite=Strict\";break;case\"lax\":a+=\"; SameSite=Lax\";break;case\"strict\":a+=\"; SameSite=Strict\";break;case\"none\":a+=\"; SameSite=None\";break;default:throw new TypeError(\"option sameSite is invalid\")}}return a}function defaultDecode(e){return-1!==e.indexOf(\"%\")?decodeURIComponent(e):e}function defaultEncode(e){return encodeURIComponent(e)}let t;function getTokenPayload(e){if(e)try{const s=decodeURIComponent(t(e.split(\".\")[1]).split(\"\").map((function(e){return\"%\"+(\"00\"+e.charCodeAt(0).toString(16)).slice(-2)})).join(\"\"));return JSON.parse(s)||{}}catch(e){}return{}}function isTokenExpired(e,t=0){let s=getTokenPayload(e);return!(Object.keys(s).length>0&&(!s.exp||s.exp-t>Date.now()/1e3))}t=\"function\"==typeof atob?atob:e=>{let t=String(e).replace(/=+$/,\"\");if(t.length%4==1)throw new Error(\"'atob' failed: The string to be decoded is not correctly encoded.\");for(var s,i,n=0,r=0,o=\"\";i=t.charAt(r++);~i&&(s=n%4?64*s+i:i,n++%4)?o+=String.fromCharCode(255&s>>(-2*n&6)):0)i=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".indexOf(i);return o};const s=\"pb_auth\";class BaseAuthStore{constructor(){this.baseToken=\"\",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!isTokenExpired(this.token)}get isAdmin(){return\"admin\"===getTokenPayload(this.token).type}get isAuthRecord(){return\"authRecord\"===getTokenPayload(this.token).type}save(e,t){this.baseToken=e||\"\",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken=\"\",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=s){const i=cookieParse(e||\"\")[t]||\"\";let n={};try{n=JSON.parse(i),(null===typeof n||\"object\"!=typeof n||Array.isArray(n))&&(n={})}catch(e){}this.save(n.token||\"\",n.model||null)}exportToCookie(e,t=s){const i={secure:!0,sameSite:!0,httpOnly:!0,path:\"/\"},n=getTokenPayload(this.token);i.expires=n?.exp?new Date(1e3*n.exp):new Date(\"1970-01-01\"),e=Object.assign({},i,e);const r={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let o=cookieSerialize(t,JSON.stringify(r),e);const a=\"undefined\"!=typeof Blob?new Blob([o]).size:o.length;if(r.model&&a>4096){r.model={id:r?.model?.id,email:r?.model?.email};const s=[\"collectionId\",\"username\",\"verified\"];for(const e in this.model)s.includes(e)&&(r.model[e]=this.model[e]);o=cookieSerialize(t,JSON.stringify(r),e)}return o}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.model),()=>{for(let t=this._onChangeCallbacks.length-1;t>=0;t--)if(this._onChangeCallbacks[t]==e)return delete this._onChangeCallbacks[t],void this._onChangeCallbacks.splice(t,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.model)}}class LocalAuthStore extends BaseAuthStore{constructor(e=\"pocketbase_auth\"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||\"\"}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(e,t){this._storageSet(this.storageKey,{token:e,model:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(\"undefined\"!=typeof window&&window?.localStorage){const t=window.localStorage.getItem(e)||\"\";try{return JSON.parse(t)}catch(e){return t}}return this.storageFallback[e]}_storageSet(e,t){if(\"undefined\"!=typeof window&&window?.localStorage){let s=t;\"string\"!=typeof t&&(s=JSON.stringify(t)),window.localStorage.setItem(e,s)}else this.storageFallback[e]=t}_storageRemove(e){\"undefined\"!=typeof window&&window?.localStorage&&window.localStorage?.removeItem(e),delete this.storageFallback[e]}_bindStorageEvent(){\"undefined\"!=typeof window&&window?.localStorage&&window.addEventListener&&window.addEventListener(\"storage\",(e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||\"\",t.model||null)}))}}class BaseService{constructor(e){this.client=e}}class SettingsService extends BaseService{async getAll(e){return e=Object.assign({method:\"GET\"},e),this.client.send(\"/api/settings\",e)}async update(e,t){return t=Object.assign({method:\"PATCH\",body:e},t),this.client.send(\"/api/settings\",t)}async testS3(e=\"storage\",t){return t=Object.assign({method:\"POST\",body:{filesystem:e}},t),this.client.send(\"/api/settings/test/s3\",t).then((()=>!0))}async testEmail(e,t,s){return s=Object.assign({method:\"POST\",body:{email:e,template:t}},s),this.client.send(\"/api/settings/test/email\",s).then((()=>!0))}async generateAppleClientSecret(e,t,s,i,n,r){return r=Object.assign({method:\"POST\",body:{clientId:e,teamId:t,keyId:s,privateKey:i,duration:n}},r),this.client.send(\"/api/settings/apple/generate-client-secret\",r)}}class CrudService extends BaseService{decode(e){return e}async getFullList(e,t){if(\"number\"==typeof e)return this._getFullList(e,t);let s=500;return(t=Object.assign({},e,t)).batch&&(s=t.batch,delete t.batch),this._getFullList(s,t)}async getList(e=1,t=30,s){return(s=Object.assign({method:\"GET\"},s)).query=Object.assign({page:e,perPage:t},s.query),this.client.send(this.baseCrudPath,s).then((e=>(e.items=e.items?.map((e=>this.decode(e)))||[],e)))}async getFirstListItem(e,t){return(t=Object.assign({requestKey:\"one_by_filter_\"+this.baseCrudPath+\"_\"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then((e=>{if(!e?.items?.length)throw new ClientResponseError({status:404,response:{code:404,message:\"The requested resource wasn't found.\",data:{}}});return e.items[0]}))}async getOne(e,t){if(!e)throw new ClientResponseError({url:this.client.buildUrl(this.baseCrudPath+\"/\"),status:404,response:{code:404,message:\"Missing required record id.\",data:{}}});return t=Object.assign({method:\"GET\"},t),this.client.send(this.baseCrudPath+\"/\"+encodeURIComponent(e),t).then((e=>this.decode(e)))}async create(e,t){return t=Object.assign({method:\"POST\",body:e},t),this.client.send(this.baseCrudPath,t).then((e=>this.decode(e)))}async update(e,t,s){return s=Object.assign({method:\"PATCH\",body:t},s),this.client.send(this.baseCrudPath+\"/\"+encodeURIComponent(e),s).then((e=>this.decode(e)))}async delete(e,t){return t=Object.assign({method:\"DELETE\"},t),this.client.send(this.baseCrudPath+\"/\"+encodeURIComponent(e),t).then((()=>!0))}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let s=[],request=async i=>this.getList(i,e||500,t).then((e=>{const t=e.items;return s=s.concat(t),t.length==e.perPage?request(i+1):s}));return request(1)}}function normalizeLegacyOptionsArgs(e,t,s,i){const n=void 0!==i;return n||void 0!==s?n?(console.warn(e),t.body=Object.assign({},t.body,s),t.query=Object.assign({},t.query,i),t):Object.assign(t,s):t}function resetAutoRefresh(e){e._resetAutoRefresh?.()}class AdminService extends CrudService{get baseCrudPath(){return\"/api/admins\"}async update(e,t,s){return super.update(e,t,s).then((e=>(this.client.authStore.model?.id===e.id&&void 0===this.client.authStore.model?.collectionId&&this.client.authStore.save(this.client.authStore.token,e),e)))}async delete(e,t){return super.delete(e,t).then((t=>(t&&this.client.authStore.model?.id===e&&void 0===this.client.authStore.model?.collectionId&&this.client.authStore.clear(),t)))}authResponse(e){const t=this.decode(e?.admin||{});return e?.token&&e?.admin&&this.client.authStore.save(e.token,t),Object.assign({},e,{token:e?.token||\"\",admin:t})}async authWithPassword(e,t,s,i){let n={method:\"POST\",body:{identity:e,password:t}};n=normalizeLegacyOptionsArgs(\"This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).\",n,s,i);const r=n.autoRefreshThreshold;delete n.autoRefreshThreshold,n.autoRefresh||resetAutoRefresh(this.client);let o=await this.client.send(this.baseCrudPath+\"/auth-with-password\",n);return o=this.authResponse(o),r&&function registerAutoRefresh(e,t,s,i){resetAutoRefresh(e);const n=e.beforeSend,r=e.authStore.model,o=e.authStore.onChange(((t,s)=>{(!t||s?.id!=r?.id||(s?.collectionId||r?.collectionId)&&s?.collectionId!=r?.collectionId)&&resetAutoRefresh(e)}));e._resetAutoRefresh=function(){o(),e.beforeSend=n,delete e._resetAutoRefresh},e.beforeSend=async(r,o)=>{const a=e.authStore.token;if(o.query?.autoRefresh)return n?n(r,o):{url:r,sendOptions:o};let c=e.authStore.isValid;if(c&&isTokenExpired(e.authStore.token,t))try{await s()}catch(e){c=!1}c||await i();const l=o.headers||{};for(let t in l)if(\"authorization\"==t.toLowerCase()&&a==l[t]&&e.authStore.token){l[t]=e.authStore.token;break}return o.headers=l,n?n(r,o):{url:r,sendOptions:o}}}(this.client,r,(()=>this.authRefresh({autoRefresh:!0})),(()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},n)))),o}async authRefresh(e,t){let s={method:\"POST\"};return s=normalizeLegacyOptionsArgs(\"This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).\",s,e,t),this.client.send(this.baseCrudPath+\"/auth-refresh\",s).then(this.authResponse.bind(this))}async requestPasswordReset(e,t,s){let i={method:\"POST\",body:{email:e}};return i=normalizeLegacyOptionsArgs(\"This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).\",i,t,s),this.client.send(this.baseCrudPath+\"/request-password-reset\",i).then((()=>!0))}async confirmPasswordReset(e,t,s,i,n){let r={method:\"POST\",body:{token:e,password:t,passwordConfirm:s}};return r=normalizeLegacyOptionsArgs(\"This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).\",r,i,n),this.client.send(this.baseCrudPath+\"/confirm-password-reset\",r).then((()=>!0))}}const i=[\"requestKey\",\"$cancelKey\",\"$autoCancel\",\"fetch\",\"headers\",\"body\",\"query\",\"params\",\"cache\",\"credentials\",\"headers\",\"integrity\",\"keepalive\",\"method\",\"mode\",\"redirect\",\"referrer\",\"referrerPolicy\",\"signal\",\"window\"];function normalizeUnknownQueryParams(e){if(e){e.query=e.query||{};for(let t in e)i.includes(t)||(e.query[t]=e[t],delete e[t])}}class RealtimeService extends BaseService{constructor(){super(...arguments),this.clientId=\"\",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,s){if(!e)throw new Error(\"topic must be set.\");let i=e;if(s){normalizeUnknownQueryParams(s);const e=\"options=\"+encodeURIComponent(JSON.stringify({query:s.query,headers:s.headers}));i+=(i.includes(\"?\")?\"&\":\"?\")+e}const listener=function(e){const s=e;let i;try{i=JSON.parse(s?.data)}catch{}t(i||{})};return this.subscriptions[i]||(this.subscriptions[i]=[]),this.subscriptions[i].push(listener),this.isConnected?1===this.subscriptions[i].length?await this.submitSubscriptions():this.eventSource?.addEventListener(i,listener):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,listener)}async unsubscribe(e){let t=!1;if(e){const s=this.getSubscriptionsByTopic(e);for(let e in s)if(this.hasSubscriptionListeners(e)){for(let t of this.subscriptions[e])this.eventSource?.removeEventListener(e,t);delete this.subscriptions[e],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){let t=!1;for(let s in this.subscriptions)if((s+\"?\").startsWith(e)){t=!0;for(let e of this.subscriptions[s])this.eventSource?.removeEventListener(s,e);delete this.subscriptions[s]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){let s=!1;const i=this.getSubscriptionsByTopic(e);for(let e in i){if(!Array.isArray(this.subscriptions[e])||!this.subscriptions[e].length)continue;let i=!1;for(let s=this.subscriptions[e].length-1;s>=0;s--)this.subscriptions[e][s]===t&&(i=!0,delete this.subscriptions[e][s],this.subscriptions[e].splice(s,1),this.eventSource?.removeEventListener(e,t));i&&(this.subscriptions[e].length||delete this.subscriptions[e],s||this.hasSubscriptionListeners(e)||(s=!0))}this.hasSubscriptionListeners()?s&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){if(this.subscriptions=this.subscriptions||{},e)return!!this.subscriptions[e]?.length;for(let e in this.subscriptions)if(this.subscriptions[e]?.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send(\"/api/realtime\",{method:\"POST\",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch((e=>{if(!e?.isAbort)throw e}))}getSubscriptionsCancelKey(){return\"realtime_\"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes(\"?\")?e:e+\"?\";for(let s in this.subscriptions)(s+\"?\").startsWith(e)&&(t[s]=this.subscriptions[s]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise(((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()}))}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout((()=>{this.connectErrorHandler(new Error(\"EventSource connect took too long.\"))}),this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl(\"/api/realtime\")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error(\"Failed to establish realtime connection.\"))},this.eventSource.addEventListener(\"PB_CONNECT\",(e=>{const t=e;this.clientId=t?.lastEventId,this.submitSubscriptions().then((async()=>{let e=3;for(;this.hasUnsentSubscriptions()&&e>0;)e--,await this.submitSubscriptions()})).then((()=>{for(let e of this.pendingConnects)e.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const t=this.getSubscriptionsByTopic(\"PB_CONNECT\");for(let s in t)for(let i of t[s])i(e)})).catch((e=>{this.clientId=\"\",this.connectErrorHandler(e)}))}))}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let t of this.pendingConnects)t.reject(new ClientResponseError(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout((()=>{this.initConnect()}),t)}disconnect(e=!1){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),this.eventSource?.close(),this.eventSource=null,this.clientId=\"\",!e){this.reconnectAttempts=0;for(let e of this.pendingConnects)e.resolve();this.pendingConnects=[]}}}class RecordService extends CrudService{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+\"/records\"}get baseCollectionPath(){return\"/api/collections/\"+encodeURIComponent(this.collectionIdOrName)}async subscribe(e,t,s){if(!e)throw new Error(\"Missing topic.\");if(!t)throw new Error(\"Missing subscription callback.\");return this.client.realtime.subscribe(this.collectionIdOrName+\"/\"+e,t,s)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+\"/\"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(\"number\"==typeof e)return super.getFullList(e,t);const s=Object.assign({},e,t);return super.getFullList(s)}async getList(e=1,t=30,s){return super.getList(e,t,s)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,s){return super.update(e,t,s).then((e=>(this.client.authStore.model?.id!==e?.id||this.client.authStore.model?.collectionId!==this.collectionIdOrName&&this.client.authStore.model?.collectionName!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,e),e)))}async delete(e,t){return super.delete(e,t).then((t=>(!t||this.client.authStore.model?.id!==e||this.client.authStore.model?.collectionId!==this.collectionIdOrName&&this.client.authStore.model?.collectionName!==this.collectionIdOrName||this.client.authStore.clear(),t)))}authResponse(e){const t=this.decode(e?.record||{});return this.client.authStore.save(e?.token,t),Object.assign({},e,{token:e?.token||\"\",record:t})}async listAuthMethods(e){return e=Object.assign({method:\"GET\"},e),this.client.send(this.baseCollectionPath+\"/auth-methods\",e).then((e=>Object.assign({},e,{usernamePassword:!!e?.usernamePassword,emailPassword:!!e?.emailPassword,authProviders:Array.isArray(e?.authProviders)?e?.authProviders:[]})))}async authWithPassword(e,t,s,i){let n={method:\"POST\",body:{identity:e,password:t}};return n=normalizeLegacyOptionsArgs(\"This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).\",n,s,i),this.client.send(this.baseCollectionPath+\"/auth-with-password\",n).then((e=>this.authResponse(e)))}async authWithOAuth2Code(e,t,s,i,n,r,o){let a={method:\"POST\",body:{provider:e,code:t,codeVerifier:s,redirectUrl:i,createData:n}};return a=normalizeLegacyOptionsArgs(\"This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).\",a,r,o),this.client.send(this.baseCollectionPath+\"/auth-with-oauth2\",a).then((e=>this.authResponse(e)))}async authWithOAuth2(...e){if(e.length>1||\"string\"==typeof e?.[0])return console.warn(\"PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration.\"),this.authWithOAuth2Code(e?.[0]||\"\",e?.[1]||\"\",e?.[2]||\"\",e?.[3]||\"\",e?.[4]||{},e?.[5]||{},e?.[6]||{});const t=e?.[0]||{},s=(await this.listAuthMethods()).authProviders.find((e=>e.name===t.provider));if(!s)throw new ClientResponseError(new Error(`Missing or invalid provider \"${t.provider}\".`));const i=this.client.buildUrl(\"/api/oauth2-redirect\"),n=new RealtimeService(this.client);let r=null;function cleanup(){r?.close(),n.unsubscribe()}return t.urlCallback||(r=openBrowserPopup(void 0)),new Promise((async(e,o)=>{try{await n.subscribe(\"@oauth2\",(async r=>{const a=n.clientId;try{if(!r.state||a!==r.state)throw new Error(\"State parameters don't match.\");const n=Object.assign({},t);delete n.provider,delete n.scopes,delete n.createData,delete n.urlCallback;const o=await this.authWithOAuth2Code(s.name,r.code,s.codeVerifier,i,t.createData,n);e(o)}catch(e){o(new ClientResponseError(e))}cleanup()}));const a={state:n.clientId};t.scopes?.length&&(a.scope=t.scopes.join(\" \"));const c=this._replaceQueryParams(s.authUrl+i,a);let l=t.urlCallback||function(e){r?r.location.href=e:r=openBrowserPopup(e)};await l(c)}catch(e){cleanup(),o(new ClientResponseError(e))}}))}async authRefresh(e,t){let s={method:\"POST\"};return s=normalizeLegacyOptionsArgs(\"This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).\",s,e,t),this.client.send(this.baseCollectionPath+\"/auth-refresh\",s).then((e=>this.authResponse(e)))}async requestPasswordReset(e,t,s){let i={method:\"POST\",body:{email:e}};return i=normalizeLegacyOptionsArgs(\"This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).\",i,t,s),this.client.send(this.baseCollectionPath+\"/request-password-reset\",i).then((()=>!0))}async confirmPasswordReset(e,t,s,i,n){let r={method:\"POST\",body:{token:e,password:t,passwordConfirm:s}};return r=normalizeLegacyOptionsArgs(\"This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).\",r,i,n),this.client.send(this.baseCollectionPath+\"/confirm-password-reset\",r).then((()=>!0))}async requestVerification(e,t,s){let i={method:\"POST\",body:{email:e}};return i=normalizeLegacyOptionsArgs(\"This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).\",i,t,s),this.client.send(this.baseCollectionPath+\"/request-verification\",i).then((()=>!0))}async confirmVerification(e,t,s){let i={method:\"POST\",body:{token:e}};return i=normalizeLegacyOptionsArgs(\"This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).\",i,t,s),this.client.send(this.baseCollectionPath+\"/confirm-verification\",i).then((()=>!0))}async requestEmailChange(e,t,s){let i={method:\"POST\",body:{newEmail:e}};return i=normalizeLegacyOptionsArgs(\"This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).\",i,t,s),this.client.send(this.baseCollectionPath+\"/request-email-change\",i).then((()=>!0))}async confirmEmailChange(e,t,s,i){let n={method:\"POST\",body:{token:e,password:t}};return n=normalizeLegacyOptionsArgs(\"This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).\",n,s,i),this.client.send(this.baseCollectionPath+\"/confirm-email-change\",n).then((()=>!0))}async listExternalAuths(e,t){return t=Object.assign({method:\"GET\"},t),this.client.send(this.baseCrudPath+\"/\"+encodeURIComponent(e)+\"/external-auths\",t)}async unlinkExternalAuth(e,t,s){return s=Object.assign({method:\"DELETE\"},s),this.client.send(this.baseCrudPath+\"/\"+encodeURIComponent(e)+\"/external-auths/\"+encodeURIComponent(t),s).then((()=>!0))}_replaceQueryParams(e,t={}){let s=e,i=\"\";e.indexOf(\"?\")>=0&&(s=e.substring(0,e.indexOf(\"?\")),i=e.substring(e.indexOf(\"?\")+1));const n={},r=i.split(\"&\");for(const e of r){if(\"\"==e)continue;const t=e.split(\"=\");n[decodeURIComponent(t[0].replace(/\\+/g,\" \"))]=decodeURIComponent((t[1]||\"\").replace(/\\+/g,\" \"))}for(let e in t)t.hasOwnProperty(e)&&(null==t[e]?delete n[e]:n[e]=t[e]);i=\"\";for(let e in n)n.hasOwnProperty(e)&&(\"\"!=i&&(i+=\"&\"),i+=encodeURIComponent(e.replace(/%20/g,\"+\"))+\"=\"+encodeURIComponent(n[e].replace(/%20/g,\"+\")));return\"\"!=i?s+\"?\"+i:s}}function openBrowserPopup(e){if(\"undefined\"==typeof window||!window?.open)throw new ClientResponseError(new Error(\"Not in a browser context - please pass a custom urlCallback function.\"));let t=1024,s=768,i=window.innerWidth,n=window.innerHeight;t=t>i?i:t,s=s>n?n:s;let r=i/2-t/2,o=n/2-s/2;return window.open(e,\"popup_window\",\"width=\"+t+\",height=\"+s+\",top=\"+o+\",left=\"+r+\",resizable,menubar=no\")}class CollectionService extends CrudService{get baseCrudPath(){return\"/api/collections\"}async import(e,t=!1,s){return s=Object.assign({method:\"PUT\",body:{collections:e,deleteMissing:t}},s),this.client.send(this.baseCrudPath+\"/import\",s).then((()=>!0))}}class LogService extends BaseService{async getList(e=1,t=30,s){return(s=Object.assign({method:\"GET\"},s)).query=Object.assign({page:e,perPage:t},s.query),this.client.send(\"/api/logs\",s)}async getOne(e,t){if(!e)throw new ClientResponseError({url:this.client.buildUrl(\"/api/logs/\"),status:404,response:{code:404,message:\"Missing required log id.\",data:{}}});return t=Object.assign({method:\"GET\"},t),this.client.send(\"/api/logs/\"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:\"GET\"},e),this.client.send(\"/api/logs/stats\",e)}}class HealthService extends BaseService{async check(e){return e=Object.assign({method:\"GET\"},e),this.client.send(\"/api/health\",e)}}class FileService extends BaseService{getUrl(e,t,s={}){if(!t||!e?.id||!e?.collectionId&&!e?.collectionName)return\"\";const i=[];i.push(\"api\"),i.push(\"files\"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(t));let n=this.client.buildUrl(i.join(\"/\"));if(Object.keys(s).length){!1===s.download&&delete s.download;const e=new URLSearchParams(s);n+=(n.includes(\"?\")?\"&\":\"?\")+e}return n}async getToken(e){return e=Object.assign({method:\"POST\"},e),this.client.send(\"/api/files/token\",e).then((e=>e?.token||\"\"))}}class BackupService extends BaseService{async getFullList(e){return e=Object.assign({method:\"GET\"},e),this.client.send(\"/api/backups\",e)}async create(e,t){return t=Object.assign({method:\"POST\",body:{name:e}},t),this.client.send(\"/api/backups\",t).then((()=>!0))}async upload(e,t){return t=Object.assign({method:\"POST\",body:e},t),this.client.send(\"/api/backups/upload\",t).then((()=>!0))}async delete(e,t){return t=Object.assign({method:\"DELETE\"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then((()=>!0))}async restore(e,t){return t=Object.assign({method:\"POST\"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then((()=>!0))}getDownloadUrl(e,t){return this.client.buildUrl(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class Client{constructor(e=\"/\",t,s=\"en-US\"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=s,this.authStore=t||new LocalAuthStore,this.admins=new AdminService(this),this.collections=new CollectionService(this),this.files=new FileService(this),this.logs=new LogService(this),this.settings=new SettingsService(this),this.realtime=new RealtimeService(this),this.health=new HealthService(this),this.backups=new BackupService(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new RecordService(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let s in t){let i=t[s];switch(typeof i){case\"boolean\":case\"number\":i=\"\"+i;break;case\"string\":i=\"'\"+i.replace(/'/g,\"\\\\'\")+\"'\";break;default:i=null===i?\"null\":i instanceof Date?\"'\"+i.toISOString().replace(\"T\",\" \")+\"'\":\"'\"+JSON.stringify(i).replace(/'/g,\"\\\\'\")+\"'\"}e=e.replaceAll(\"{:\"+s+\"}\",i)}return e}getFileUrl(e,t,s={}){return this.files.getUrl(e,t,s)}buildUrl(e){let t=this.baseUrl;return\"undefined\"==typeof window||!window.location||t.startsWith(\"https://\")||t.startsWith(\"http://\")||(t=window.location.origin?.endsWith(\"/\")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||\"\",this.baseUrl.startsWith(\"/\")||(t+=window.location.pathname||\"/\",t+=t.endsWith(\"/\")?\"\":\"/\"),t+=this.baseUrl),e&&(t+=t.endsWith(\"/\")?\"\":\"/\",t+=e.startsWith(\"/\")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let s=this.buildUrl(e);if(this.beforeSend){const e=Object.assign({},await this.beforeSend(s,t));void 0!==e.url||void 0!==e.options?(s=e.url||s,t=e.options||t):Object.keys(e).length&&(t=e,console?.warn&&console.warn(\"Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.\"))}if(void 0!==t.query){const e=this.serializeQueryParams(t.query);e&&(s+=(s.includes(\"?\")?\"&\":\"?\")+e),delete t.query}\"application/json\"==this.getHeader(t.headers,\"Content-Type\")&&t.body&&\"string\"!=typeof t.body&&(t.body=JSON.stringify(t.body));return(t.fetch||fetch)(s,t).then((async e=>{let t={};try{t=await e.json()}catch(e){}if(this.afterSend&&(t=await this.afterSend(e,t)),e.status>=400)throw new ClientResponseError({url:e.url,status:e.status,data:t});return t})).catch((e=>{throw new ClientResponseError(e)}))}initSendOptions(e,t){if((t=Object.assign({method:\"GET\"},t)).body=this.convertToFormDataIfNeeded(t.body),normalizeUnknownQueryParams(t),t.query=Object.assign({},t.params,t.query),void 0===t.requestKey&&(!1===t.$autoCancel||!1===t.query.$autoCancel?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,null!==this.getHeader(t.headers,\"Content-Type\")||this.isFormData(t.body)||(t.headers=Object.assign({},t.headers,{\"Content-Type\":\"application/json\"})),null===this.getHeader(t.headers,\"Accept-Language\")&&(t.headers=Object.assign({},t.headers,{\"Accept-Language\":this.lang})),this.authStore.token&&null===this.getHeader(t.headers,\"Authorization\")&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&null!==t.requestKey){const s=t.requestKey||(t.method||\"GET\")+e;delete t.requestKey,this.cancelRequest(s);const i=new AbortController;this.cancelControllers[s]=i,t.signal=i.signal}return t}convertToFormDataIfNeeded(e){if(\"undefined\"==typeof FormData||void 0===e||\"object\"!=typeof e||null===e||this.isFormData(e)||!this.hasBlobField(e))return e;const t=new FormData;for(let s in e){const i=this.normalizeFormDataValue(e[s]),n=Array.isArray(i)?i:[i];if(n.length)for(const e of n)t.append(s,e);else t.append(s,\"\")}return t}normalizeFormDataValue(e){return null===e||\"object\"!=typeof e||e instanceof Date||this.hasBlobField({data:e})||Array.isArray(e)&&!e.filter((e=>\"string\"!=typeof e)).length?e:JSON.stringify(e)}hasBlobField(e){for(let t in e){const s=Array.isArray(e[t])?e[t]:[e[t]];for(let e of s)if(\"undefined\"!=typeof Blob&&e instanceof Blob||\"undefined\"!=typeof File&&e instanceof File)return!0}return!1}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let s in e)if(s.toLowerCase()==t)return e[s];return null}isFormData(e){return e&&(\"FormData\"===e.constructor.name||\"undefined\"!=typeof FormData&&e instanceof FormData)}serializeQueryParams(e){const t=[];for(const s in e){if(null===e[s])continue;const i=e[s],n=encodeURIComponent(s);if(Array.isArray(i))for(const e of i)t.push(n+\"=\"+encodeURIComponent(e));else i instanceof Date?t.push(n+\"=\"+encodeURIComponent(i.toISOString())):null!==typeof i&&\"object\"==typeof i?t.push(n+\"=\"+encodeURIComponent(JSON.stringify(i))):t.push(n+\"=\"+encodeURIComponent(i))}return t.join(\"&\")}}class AsyncAuthStore extends BaseAuthStore{constructor(e){super(),this.queue=[],this.saveFunc=e.save,this.clearFunc=e.clear,this._enqueue((()=>this._loadInitial(e.initial)))}save(e,t){super.save(e,t);let s=\"\";try{s=JSON.stringify({token:e,model:t})}catch(e){console.warn(\"AsyncAuthStore: failed to stringify the new state\")}this._enqueue((()=>this.saveFunc(s)))}clear(){super.clear(),this.clearFunc?this._enqueue((()=>this.clearFunc())):this._enqueue((()=>this.saveFunc(\"\")))}async _loadInitial(e){try{if(e=await e){let t;\"string\"==typeof e?t=JSON.parse(e)||{}:\"object\"==typeof e&&(t=e),this.save(t.token||\"\",t.model||null)}}catch(e){}}_enqueue(e){this.queue.push(e),1==this.queue.length&&this._dequeue()}_dequeue(){this.queue.length&&this.queue[0]().finally((()=>{this.queue.shift(),this.queue.length&&this._dequeue()}))}}\n//# sourceMappingURL=pocketbase.es.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9wb2NrZXRiYXNlL2Rpc3QvcG9ja2V0YmFzZS5lcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHdDQUF3QyxlQUFlLHVFQUF1RSw0YUFBNGEsa3JCQUFrckIsV0FBVyxxQkFBcUIsU0FBUyxPQUFPLFVBQVUsZ0RBQWdELDBCQUEwQixXQUFXLCtCQUErQix3QkFBd0IsTUFBTSx3QkFBd0IsUUFBUSxLQUFLLFdBQVcsRUFBRSx5QkFBeUIsZ0JBQWdCLGtCQUFrQixLQUFLLHFCQUFxQixhQUFhLGtCQUFrQixTQUFTLFNBQVMsNEJBQTRCLGtCQUFrQiw0QkFBNEIsd0NBQXdDLElBQUksVUFBVSxTQUFTLFFBQVEsTUFBTSxTQUFTLGdDQUFnQyx3QkFBd0IsTUFBTSw0QkFBNEIsOERBQThELGFBQWEsZ0VBQWdFLGNBQWMsbUJBQW1CLG1CQUFtQiwwRUFBMEUsTUFBTSx3QkFBd0IsYUFBYSxxRUFBcUUsTUFBTSxrQkFBa0IsV0FBVyxpRUFBaUUsTUFBTSxjQUFjLGNBQWMsdUJBQXVCLDZFQUE2RSx5RkFBeUYsTUFBTSxrQ0FBa0Msc0JBQXNCLDRCQUE0QixxQkFBcUIsd0VBQXdFLGdCQUFnQixjQUFjLE1BQU0sbUJBQW1CLGlCQUFpQixNQUFNLGlCQUFpQixlQUFlLE1BQU0sMkRBQTJELGVBQWUsd0VBQXdFLGFBQWEsaUJBQWlCLE1BQU0sZ0JBQWdCLGNBQWMsTUFBTSxtQkFBbUIsaUJBQWlCLE1BQU0saUJBQWlCLGVBQWUsTUFBTSwyREFBMkQsU0FBUywwQkFBMEIsa0RBQWtELDBCQUEwQiw2QkFBNkIsTUFBTSw0QkFBNEIsU0FBUyx5RUFBeUUsd0RBQXdELGFBQWEseUJBQXlCLFVBQVUsU0FBUywrQkFBK0IseUJBQXlCLG1FQUFtRSxtQ0FBbUMsa0NBQWtDLHNHQUFzRyx5QkFBeUIsZ0JBQWdCLHNKQUFzSixVQUFVLGtCQUFrQixvQkFBb0IsY0FBYyxpRUFBaUUsWUFBWSxzQkFB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d0NBQXdDLG9IQUFvSCxTQUFTLGVBQWUsT0FBTyxtQkFBbUIsaURBQWlELFlBQVksY0FBYyxpR0FBaUcsd0JBQXdCLFdBQVcsa0JBQWtCLHdCQUF3QixxQ0FBcUMseUVBQXlFLHFNQUFxTSxvQkFBb0IsMkNBQTJDLGVBQWUsb0hBQW9ILFVBQVUsZ0JBQWdCLFNBQVMsSUFBSSxrQkFBa0IsZ0JBQWdCLEVBQUUsU0FBUyxrRUFBa0Usc0NBQXNDLFFBQVEsMEdBQTBHLHNCQUFzQixJQUFJLGNBQWMsTUFBTSxzQ0FBc0MsaUVBQWlFLFdBQVcsWUFBWSx5REFBeUQsV0FBVyxpREFBaUQsc0RBQXNELElBQXlRO0FBQ2xsbEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3BvY2tldGJhc2UvZGlzdC9wb2NrZXRiYXNlLmVzLm1qcz8xZWM1Il0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIENsaWVudFJlc3BvbnNlRXJyb3IgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlKXtzdXBlcihcIkNsaWVudFJlc3BvbnNlRXJyb3JcIiksdGhpcy51cmw9XCJcIix0aGlzLnN0YXR1cz0wLHRoaXMucmVzcG9uc2U9e30sdGhpcy5pc0Fib3J0PSExLHRoaXMub3JpZ2luYWxFcnJvcj1udWxsLE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLENsaWVudFJlc3BvbnNlRXJyb3IucHJvdG90eXBlKSxudWxsIT09ZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJih0aGlzLnVybD1cInN0cmluZ1wiPT10eXBlb2YgZS51cmw/ZS51cmw6XCJcIix0aGlzLnN0YXR1cz1cIm51bWJlclwiPT10eXBlb2YgZS5zdGF0dXM/ZS5zdGF0dXM6MCx0aGlzLmlzQWJvcnQ9ISFlLmlzQWJvcnQsdGhpcy5vcmlnaW5hbEVycm9yPWUub3JpZ2luYWxFcnJvcixudWxsIT09ZS5yZXNwb25zZSYmXCJvYmplY3RcIj09dHlwZW9mIGUucmVzcG9uc2U/dGhpcy5yZXNwb25zZT1lLnJlc3BvbnNlOm51bGwhPT1lLmRhdGEmJlwib2JqZWN0XCI9PXR5cGVvZiBlLmRhdGE/dGhpcy5yZXNwb25zZT1lLmRhdGE6dGhpcy5yZXNwb25zZT17fSksdGhpcy5vcmlnaW5hbEVycm9yfHxlIGluc3RhbmNlb2YgQ2xpZW50UmVzcG9uc2VFcnJvcnx8KHRoaXMub3JpZ2luYWxFcnJvcj1lKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgRE9NRXhjZXB0aW9uJiZlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiYodGhpcy5pc0Fib3J0PSEwKSx0aGlzLm5hbWU9XCJDbGllbnRSZXNwb25zZUVycm9yIFwiK3RoaXMuc3RhdHVzLHRoaXMubWVzc2FnZT10aGlzLnJlc3BvbnNlPy5tZXNzYWdlLHRoaXMubWVzc2FnZXx8KHRoaXMuaXNBYm9ydD90aGlzLm1lc3NhZ2U9XCJUaGUgcmVxdWVzdCB3YXMgYXV0b2NhbmNlbGxlZC4gWW91IGNhbiBmaW5kIG1vcmUgaW5mbyBpbiBodHRwczovL2dpdGh1Yi5jb20vcG9ja2V0YmFzZS9qcy1zZGsjYXV0by1jYW5jZWxsYXRpb24uXCI6dGhpcy5vcmlnaW5hbEVycm9yPy5jYXVzZT8ubWVzc2FnZT8uaW5jbHVkZXMoXCJFQ09OTlJFRlVTRUQgOjoxXCIpP3RoaXMubWVzc2FnZT1cIkZhaWxlZCB0byBjb25uZWN0IHRvIHRoZSBQb2NrZXRCYXNlIHNlcnZlci4gVHJ5IGNoYW5naW5nIHRoZSBTREsgVVJMIGZyb20gbG9jYWxob3N0IHRvIDEyNy4wLjAuMSAoaHR0cHM6Ly9naXRodWIuY29tL3BvY2tldGJhc2UvanMtc2RrL2lzc3Vlcy8yMSkuXCI6dGhpcy5tZXNzYWdlPVwiU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgcHJvY2Vzc2luZyB5b3VyIHJlcXVlc3QuXCIpfWdldCBkYXRhKCl7cmV0dXJuIHRoaXMucmVzcG9uc2V9dG9KU09OKCl7cmV0dXJuey4uLnRoaXN9fX1jb25zdCBlPS9eW1xcdTAwMDlcXHUwMDIwLVxcdTAwN2VcXHUwMDgwLVxcdTAwZmZdKyQvO2Z1bmN0aW9uIGNvb2tpZVBhcnNlKGUsdCl7Y29uc3Qgcz17fTtpZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gcztjb25zdCBpPU9iamVjdC5hc3NpZ24oe30sdHx8e30pLmRlY29kZXx8ZGVmYXVsdERlY29kZTtsZXQgbj0wO2Zvcig7bjxlLmxlbmd0aDspe2NvbnN0IHQ9ZS5pbmRleE9mKFwiPVwiLG4pO2lmKC0xPT09dClicmVhaztsZXQgcj1lLmluZGV4T2YoXCI7XCIsbik7aWYoLTE9PT1yKXI9ZS5sZW5ndGg7ZWxzZSBpZihyPHQpe249ZS5sYXN0SW5kZXhPZihcIjtcIix0LTEpKzE7Y29udGludWV9Y29uc3Qgbz1lLnNsaWNlKG4sdCkudHJpbSgpO2lmKHZvaWQgMD09PXNbb10pe2xldCBuPWUuc2xpY2UodCsxLHIpLnRyaW0oKTszND09PW4uY2hhckNvZGVBdCgwKSYmKG49bi5zbGljZSgxLC0xKSk7dHJ5e3Nbb109aShuKX1jYXRjaChlKXtzW29dPW59fW49cisxfXJldHVybiBzfWZ1bmN0aW9uIGNvb2tpZVNlcmlhbGl6ZSh0LHMsaSl7Y29uc3Qgbj1PYmplY3QuYXNzaWduKHt9LGl8fHt9KSxyPW4uZW5jb2RlfHxkZWZhdWx0RW5jb2RlO2lmKCFlLnRlc3QodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImFyZ3VtZW50IG5hbWUgaXMgaW52YWxpZFwiKTtjb25zdCBvPXIocyk7aWYobyYmIWUudGVzdChvKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXJndW1lbnQgdmFsIGlzIGludmFsaWRcIik7bGV0IGE9dCtcIj1cIitvO2lmKG51bGwhPW4ubWF4QWdlKXtjb25zdCBlPW4ubWF4QWdlLTA7aWYoaXNOYU4oZSl8fCFpc0Zpbml0ZShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwib3B0aW9uIG1heEFnZSBpcyBpbnZhbGlkXCIpO2ErPVwiOyBNYXgtQWdlPVwiK01hdGguZmxvb3IoZSl9aWYobi5kb21haW4pe2lmKCFlLnRlc3Qobi5kb21haW4pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJvcHRpb24gZG9tYWluIGlzIGludmFsaWRcIik7YSs9XCI7IERvbWFpbj1cIituLmRvbWFpbn1pZihuLnBhdGgpe2lmKCFlLnRlc3Qobi5wYXRoKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwib3B0aW9uIHBhdGggaXMgaW52YWxpZFwiKTthKz1cIjsgUGF0aD1cIituLnBhdGh9aWYobi5leHBpcmVzKXtpZighZnVuY3Rpb24gaXNEYXRlKGUpe3JldHVyblwiW29iamVjdCBEYXRlXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfHxlIGluc3RhbmNlb2YgRGF0ZX0obi5leHBpcmVzKXx8aXNOYU4obi5leHBpcmVzLnZhbHVlT2YoKSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm9wdGlvbiBleHBpcmVzIGlzIGludmFsaWRcIik7YSs9XCI7IEV4cGlyZXM9XCIrbi5leHBpcmVzLnRvVVRDU3RyaW5nKCl9aWYobi5odHRwT25seSYmKGErPVwiOyBIdHRwT25seVwiKSxuLnNlY3VyZSYmKGErPVwiOyBTZWN1cmVcIiksbi5wcmlvcml0eSl7c3dpdGNoKFwic3RyaW5nXCI9PXR5cGVvZiBuLnByaW9yaXR5P24ucHJpb3JpdHkudG9Mb3dlckNhc2UoKTpuLnByaW9yaXR5KXtjYXNlXCJsb3dcIjphKz1cIjsgUHJpb3JpdHk9TG93XCI7YnJlYWs7Y2FzZVwibWVkaXVtXCI6YSs9XCI7IFByaW9yaXR5PU1lZGl1bVwiO2JyZWFrO2Nhc2VcImhpZ2hcIjphKz1cIjsgUHJpb3JpdHk9SGlnaFwiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihcIm9wdGlvbiBwcmlvcml0eSBpcyBpbnZhbGlkXCIpfX1pZihuLnNhbWVTaXRlKXtzd2l0Y2goXCJzdHJpbmdcIj09dHlwZW9mIG4uc2FtZVNpdGU/bi5zYW1lU2l0ZS50b0xvd2VyQ2FzZSgpOm4uc2FtZVNpdGUpe2Nhc2UhMDphKz1cIjsgU2FtZVNpdGU9U3RyaWN0XCI7YnJlYWs7Y2FzZVwibGF4XCI6YSs9XCI7IFNhbWVTaXRlPUxheFwiO2JyZWFrO2Nhc2VcInN0cmljdFwiOmErPVwiOyBTYW1lU2l0ZT1TdHJpY3RcIjticmVhaztjYXNlXCJub25lXCI6YSs9XCI7IFNhbWVTaXRlPU5vbmVcIjticmVhaztkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJvcHRpb24gc2FtZVNpdGUgaXMgaW52YWxpZFwiKX19cmV0dXJuIGF9ZnVuY3Rpb24gZGVmYXVsdERlY29kZShlKXtyZXR1cm4tMSE9PWUuaW5kZXhPZihcIiVcIik/ZGVjb2RlVVJJQ29tcG9uZW50KGUpOmV9ZnVuY3Rpb24gZGVmYXVsdEVuY29kZShlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpfWxldCB0O2Z1bmN0aW9uIGdldFRva2VuUGF5bG9hZChlKXtpZihlKXRyeXtjb25zdCBzPWRlY29kZVVSSUNvbXBvbmVudCh0KGUuc3BsaXQoXCIuXCIpWzFdKS5zcGxpdChcIlwiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVyblwiJVwiKyhcIjAwXCIrZS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpfSkpLmpvaW4oXCJcIikpO3JldHVybiBKU09OLnBhcnNlKHMpfHx7fX1jYXRjaChlKXt9cmV0dXJue319ZnVuY3Rpb24gaXNUb2tlbkV4cGlyZWQoZSx0PTApe2xldCBzPWdldFRva2VuUGF5bG9hZChlKTtyZXR1cm4hKE9iamVjdC5rZXlzKHMpLmxlbmd0aD4wJiYoIXMuZXhwfHxzLmV4cC10PkRhdGUubm93KCkvMWUzKSl9dD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhdG9iP2F0b2I6ZT0+e2xldCB0PVN0cmluZyhlKS5yZXBsYWNlKC89KyQvLFwiXCIpO2lmKHQubGVuZ3RoJTQ9PTEpdGhyb3cgbmV3IEVycm9yKFwiJ2F0b2InIGZhaWxlZDogVGhlIHN0cmluZyB0byBiZSBkZWNvZGVkIGlzIG5vdCBjb3JyZWN0bHkgZW5jb2RlZC5cIik7Zm9yKHZhciBzLGksbj0wLHI9MCxvPVwiXCI7aT10LmNoYXJBdChyKyspO35pJiYocz1uJTQ/NjQqcytpOmksbisrJTQpP28rPVN0cmluZy5mcm9tQ2hhckNvZGUoMjU1JnM+PigtMipuJjYpKTowKWk9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLmluZGV4T2YoaSk7cmV0dXJuIG99O2NvbnN0IHM9XCJwYl9hdXRoXCI7Y2xhc3MgQmFzZUF1dGhTdG9yZXtjb25zdHJ1Y3Rvcigpe3RoaXMuYmFzZVRva2VuPVwiXCIsdGhpcy5iYXNlTW9kZWw9bnVsbCx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrcz1bXX1nZXQgdG9rZW4oKXtyZXR1cm4gdGhpcy5iYXNlVG9rZW59Z2V0IG1vZGVsKCl7cmV0dXJuIHRoaXMuYmFzZU1vZGVsfWdldCBpc1ZhbGlkKCl7cmV0dXJuIWlzVG9rZW5FeHBpcmVkKHRoaXMudG9rZW4pfWdldCBpc0FkbWluKCl7cmV0dXJuXCJhZG1pblwiPT09Z2V0VG9rZW5QYXlsb2FkKHRoaXMudG9rZW4pLnR5cGV9Z2V0IGlzQXV0aFJlY29yZCgpe3JldHVyblwiYXV0aFJlY29yZFwiPT09Z2V0VG9rZW5QYXlsb2FkKHRoaXMudG9rZW4pLnR5cGV9c2F2ZShlLHQpe3RoaXMuYmFzZVRva2VuPWV8fFwiXCIsdGhpcy5iYXNlTW9kZWw9dHx8bnVsbCx0aGlzLnRyaWdnZXJDaGFuZ2UoKX1jbGVhcigpe3RoaXMuYmFzZVRva2VuPVwiXCIsdGhpcy5iYXNlTW9kZWw9bnVsbCx0aGlzLnRyaWdnZXJDaGFuZ2UoKX1sb2FkRnJvbUNvb2tpZShlLHQ9cyl7Y29uc3QgaT1jb29raWVQYXJzZShlfHxcIlwiKVt0XXx8XCJcIjtsZXQgbj17fTt0cnl7bj1KU09OLnBhcnNlKGkpLChudWxsPT09dHlwZW9mIG58fFwib2JqZWN0XCIhPXR5cGVvZiBufHxBcnJheS5pc0FycmF5KG4pKSYmKG49e30pfWNhdGNoKGUpe310aGlzLnNhdmUobi50b2tlbnx8XCJcIixuLm1vZGVsfHxudWxsKX1leHBvcnRUb0Nvb2tpZShlLHQ9cyl7Y29uc3QgaT17c2VjdXJlOiEwLHNhbWVTaXRlOiEwLGh0dHBPbmx5OiEwLHBhdGg6XCIvXCJ9LG49Z2V0VG9rZW5QYXlsb2FkKHRoaXMudG9rZW4pO2kuZXhwaXJlcz1uPy5leHA/bmV3IERhdGUoMWUzKm4uZXhwKTpuZXcgRGF0ZShcIjE5NzAtMDEtMDFcIiksZT1PYmplY3QuYXNzaWduKHt9LGksZSk7Y29uc3Qgcj17dG9rZW46dGhpcy50b2tlbixtb2RlbDp0aGlzLm1vZGVsP0pTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5tb2RlbCkpOm51bGx9O2xldCBvPWNvb2tpZVNlcmlhbGl6ZSh0LEpTT04uc3RyaW5naWZ5KHIpLGUpO2NvbnN0IGE9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEJsb2I/bmV3IEJsb2IoW29dKS5zaXplOm8ubGVuZ3RoO2lmKHIubW9kZWwmJmE+NDA5Nil7ci5tb2RlbD17aWQ6cj8ubW9kZWw/LmlkLGVtYWlsOnI/Lm1vZGVsPy5lbWFpbH07Y29uc3Qgcz1bXCJjb2xsZWN0aW9uSWRcIixcInVzZXJuYW1lXCIsXCJ2ZXJpZmllZFwiXTtmb3IoY29uc3QgZSBpbiB0aGlzLm1vZGVsKXMuaW5jbHVkZXMoZSkmJihyLm1vZGVsW2VdPXRoaXMubW9kZWxbZV0pO289Y29va2llU2VyaWFsaXplKHQsSlNPTi5zdHJpbmdpZnkociksZSl9cmV0dXJuIG99b25DaGFuZ2UoZSx0PSExKXtyZXR1cm4gdGhpcy5fb25DaGFuZ2VDYWxsYmFja3MucHVzaChlKSx0JiZlKHRoaXMudG9rZW4sdGhpcy5tb2RlbCksKCk9Pntmb3IobGV0IHQ9dGhpcy5fb25DaGFuZ2VDYWxsYmFja3MubGVuZ3RoLTE7dD49MDt0LS0paWYodGhpcy5fb25DaGFuZ2VDYWxsYmFja3NbdF09PWUpcmV0dXJuIGRlbGV0ZSB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrc1t0XSx2b2lkIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2tzLnNwbGljZSh0LDEpfX10cmlnZ2VyQ2hhbmdlKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fb25DaGFuZ2VDYWxsYmFja3MpZSYmZSh0aGlzLnRva2VuLHRoaXMubW9kZWwpfX1jbGFzcyBMb2NhbEF1dGhTdG9yZSBleHRlbmRzIEJhc2VBdXRoU3RvcmV7Y29uc3RydWN0b3IoZT1cInBvY2tldGJhc2VfYXV0aFwiKXtzdXBlcigpLHRoaXMuc3RvcmFnZUZhbGxiYWNrPXt9LHRoaXMuc3RvcmFnZUtleT1lLHRoaXMuX2JpbmRTdG9yYWdlRXZlbnQoKX1nZXQgdG9rZW4oKXtyZXR1cm4odGhpcy5fc3RvcmFnZUdldCh0aGlzLnN0b3JhZ2VLZXkpfHx7fSkudG9rZW58fFwiXCJ9Z2V0IG1vZGVsKCl7cmV0dXJuKHRoaXMuX3N0b3JhZ2VHZXQodGhpcy5zdG9yYWdlS2V5KXx8e30pLm1vZGVsfHxudWxsfXNhdmUoZSx0KXt0aGlzLl9zdG9yYWdlU2V0KHRoaXMuc3RvcmFnZUtleSx7dG9rZW46ZSxtb2RlbDp0fSksc3VwZXIuc2F2ZShlLHQpfWNsZWFyKCl7dGhpcy5fc3RvcmFnZVJlbW92ZSh0aGlzLnN0b3JhZ2VLZXkpLHN1cGVyLmNsZWFyKCl9X3N0b3JhZ2VHZXQoZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Py5sb2NhbFN0b3JhZ2Upe2NvbnN0IHQ9d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGUpfHxcIlwiO3RyeXtyZXR1cm4gSlNPTi5wYXJzZSh0KX1jYXRjaChlKXtyZXR1cm4gdH19cmV0dXJuIHRoaXMuc3RvcmFnZUZhbGxiYWNrW2VdfV9zdG9yYWdlU2V0KGUsdCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Py5sb2NhbFN0b3JhZ2Upe2xldCBzPXQ7XCJzdHJpbmdcIiE9dHlwZW9mIHQmJihzPUpTT04uc3RyaW5naWZ5KHQpKSx3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oZSxzKX1lbHNlIHRoaXMuc3RvcmFnZUZhbGxiYWNrW2VdPXR9X3N0b3JhZ2VSZW1vdmUoZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Py5sb2NhbFN0b3JhZ2UmJndpbmRvdy5sb2NhbFN0b3JhZ2U/LnJlbW92ZUl0ZW0oZSksZGVsZXRlIHRoaXMuc3RvcmFnZUZhbGxiYWNrW2VdfV9iaW5kU3RvcmFnZUV2ZW50KCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Py5sb2NhbFN0b3JhZ2UmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInN0b3JhZ2VcIiwoZT0+e2lmKGUua2V5IT10aGlzLnN0b3JhZ2VLZXkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fc3RvcmFnZUdldCh0aGlzLnN0b3JhZ2VLZXkpfHx7fTtzdXBlci5zYXZlKHQudG9rZW58fFwiXCIsdC5tb2RlbHx8bnVsbCl9KSl9fWNsYXNzIEJhc2VTZXJ2aWNle2NvbnN0cnVjdG9yKGUpe3RoaXMuY2xpZW50PWV9fWNsYXNzIFNldHRpbmdzU2VydmljZSBleHRlbmRzIEJhc2VTZXJ2aWNle2FzeW5jIGdldEFsbChlKXtyZXR1cm4gZT1PYmplY3QuYXNzaWduKHttZXRob2Q6XCJHRVRcIn0sZSksdGhpcy5jbGllbnQuc2VuZChcIi9hcGkvc2V0dGluZ3NcIixlKX1hc3luYyB1cGRhdGUoZSx0KXtyZXR1cm4gdD1PYmplY3QuYXNzaWduKHttZXRob2Q6XCJQQVRDSFwiLGJvZHk6ZX0sdCksdGhpcy5jbGllbnQuc2VuZChcIi9hcGkvc2V0dGluZ3NcIix0KX1hc3luYyB0ZXN0UzMoZT1cInN0b3JhZ2VcIix0KXtyZXR1cm4gdD1PYmplY3QuYXNzaWduKHttZXRob2Q6XCJQT1NUXCIsYm9keTp7ZmlsZXN5c3RlbTplfX0sdCksdGhpcy5jbGllbnQuc2VuZChcIi9hcGkvc2V0dGluZ3MvdGVzdC9zM1wiLHQpLnRoZW4oKCgpPT4hMCkpfWFzeW5jIHRlc3RFbWFpbChlLHQscyl7cmV0dXJuIHM9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiUE9TVFwiLGJvZHk6e2VtYWlsOmUsdGVtcGxhdGU6dH19LHMpLHRoaXMuY2xpZW50LnNlbmQoXCIvYXBpL3NldHRpbmdzL3Rlc3QvZW1haWxcIixzKS50aGVuKCgoKT0+ITApKX1hc3luYyBnZW5lcmF0ZUFwcGxlQ2xpZW50U2VjcmV0KGUsdCxzLGksbixyKXtyZXR1cm4gcj1PYmplY3QuYXNzaWduKHttZXRob2Q6XCJQT1NUXCIsYm9keTp7Y2xpZW50SWQ6ZSx0ZWFtSWQ6dCxrZXlJZDpzLHByaXZhdGVLZXk6aSxkdXJhdGlvbjpufX0sciksdGhpcy5jbGllbnQuc2VuZChcIi9hcGkvc2V0dGluZ3MvYXBwbGUvZ2VuZXJhdGUtY2xpZW50LXNlY3JldFwiLHIpfX1jbGFzcyBDcnVkU2VydmljZSBleHRlbmRzIEJhc2VTZXJ2aWNle2RlY29kZShlKXtyZXR1cm4gZX1hc3luYyBnZXRGdWxsTGlzdChlLHQpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVybiB0aGlzLl9nZXRGdWxsTGlzdChlLHQpO2xldCBzPTUwMDtyZXR1cm4odD1PYmplY3QuYXNzaWduKHt9LGUsdCkpLmJhdGNoJiYocz10LmJhdGNoLGRlbGV0ZSB0LmJhdGNoKSx0aGlzLl9nZXRGdWxsTGlzdChzLHQpfWFzeW5jIGdldExpc3QoZT0xLHQ9MzAscyl7cmV0dXJuKHM9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiR0VUXCJ9LHMpKS5xdWVyeT1PYmplY3QuYXNzaWduKHtwYWdlOmUscGVyUGFnZTp0fSxzLnF1ZXJ5KSx0aGlzLmNsaWVudC5zZW5kKHRoaXMuYmFzZUNydWRQYXRoLHMpLnRoZW4oKGU9PihlLml0ZW1zPWUuaXRlbXM/Lm1hcCgoZT0+dGhpcy5kZWNvZGUoZSkpKXx8W10sZSkpKX1hc3luYyBnZXRGaXJzdExpc3RJdGVtKGUsdCl7cmV0dXJuKHQ9T2JqZWN0LmFzc2lnbih7cmVxdWVzdEtleTpcIm9uZV9ieV9maWx0ZXJfXCIrdGhpcy5iYXNlQ3J1ZFBhdGgrXCJfXCIrZX0sdCkpLnF1ZXJ5PU9iamVjdC5hc3NpZ24oe2ZpbHRlcjplLHNraXBUb3RhbDoxfSx0LnF1ZXJ5KSx0aGlzLmdldExpc3QoMSwxLHQpLnRoZW4oKGU9PntpZighZT8uaXRlbXM/Lmxlbmd0aCl0aHJvdyBuZXcgQ2xpZW50UmVzcG9uc2VFcnJvcih7c3RhdHVzOjQwNCxyZXNwb25zZTp7Y29kZTo0MDQsbWVzc2FnZTpcIlRoZSByZXF1ZXN0ZWQgcmVzb3VyY2Ugd2Fzbid0IGZvdW5kLlwiLGRhdGE6e319fSk7cmV0dXJuIGUuaXRlbXNbMF19KSl9YXN5bmMgZ2V0T25lKGUsdCl7aWYoIWUpdGhyb3cgbmV3IENsaWVudFJlc3BvbnNlRXJyb3Ioe3VybDp0aGlzLmNsaWVudC5idWlsZFVybCh0aGlzLmJhc2VDcnVkUGF0aCtcIi9cIiksc3RhdHVzOjQwNCxyZXNwb25zZTp7Y29kZTo0MDQsbWVzc2FnZTpcIk1pc3NpbmcgcmVxdWlyZWQgcmVjb3JkIGlkLlwiLGRhdGE6e319fSk7cmV0dXJuIHQ9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiR0VUXCJ9LHQpLHRoaXMuY2xpZW50LnNlbmQodGhpcy5iYXNlQ3J1ZFBhdGgrXCIvXCIrZW5jb2RlVVJJQ29tcG9uZW50KGUpLHQpLnRoZW4oKGU9PnRoaXMuZGVjb2RlKGUpKSl9YXN5bmMgY3JlYXRlKGUsdCl7cmV0dXJuIHQ9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiUE9TVFwiLGJvZHk6ZX0sdCksdGhpcy5jbGllbnQuc2VuZCh0aGlzLmJhc2VDcnVkUGF0aCx0KS50aGVuKChlPT50aGlzLmRlY29kZShlKSkpfWFzeW5jIHVwZGF0ZShlLHQscyl7cmV0dXJuIHM9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiUEFUQ0hcIixib2R5OnR9LHMpLHRoaXMuY2xpZW50LnNlbmQodGhpcy5iYXNlQ3J1ZFBhdGgrXCIvXCIrZW5jb2RlVVJJQ29tcG9uZW50KGUpLHMpLnRoZW4oKGU9PnRoaXMuZGVjb2RlKGUpKSl9YXN5bmMgZGVsZXRlKGUsdCl7cmV0dXJuIHQ9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiREVMRVRFXCJ9LHQpLHRoaXMuY2xpZW50LnNlbmQodGhpcy5iYXNlQ3J1ZFBhdGgrXCIvXCIrZW5jb2RlVVJJQ29tcG9uZW50KGUpLHQpLnRoZW4oKCgpPT4hMCkpfV9nZXRGdWxsTGlzdChlPTUwMCx0KXsodD10fHx7fSkucXVlcnk9T2JqZWN0LmFzc2lnbih7c2tpcFRvdGFsOjF9LHQucXVlcnkpO2xldCBzPVtdLHJlcXVlc3Q9YXN5bmMgaT0+dGhpcy5nZXRMaXN0KGksZXx8NTAwLHQpLnRoZW4oKGU9Pntjb25zdCB0PWUuaXRlbXM7cmV0dXJuIHM9cy5jb25jYXQodCksdC5sZW5ndGg9PWUucGVyUGFnZT9yZXF1ZXN0KGkrMSk6c30pKTtyZXR1cm4gcmVxdWVzdCgxKX19ZnVuY3Rpb24gbm9ybWFsaXplTGVnYWN5T3B0aW9uc0FyZ3MoZSx0LHMsaSl7Y29uc3Qgbj12b2lkIDAhPT1pO3JldHVybiBufHx2b2lkIDAhPT1zP24/KGNvbnNvbGUud2FybihlKSx0LmJvZHk9T2JqZWN0LmFzc2lnbih7fSx0LmJvZHkscyksdC5xdWVyeT1PYmplY3QuYXNzaWduKHt9LHQucXVlcnksaSksdCk6T2JqZWN0LmFzc2lnbih0LHMpOnR9ZnVuY3Rpb24gcmVzZXRBdXRvUmVmcmVzaChlKXtlLl9yZXNldEF1dG9SZWZyZXNoPy4oKX1jbGFzcyBBZG1pblNlcnZpY2UgZXh0ZW5kcyBDcnVkU2VydmljZXtnZXQgYmFzZUNydWRQYXRoKCl7cmV0dXJuXCIvYXBpL2FkbWluc1wifWFzeW5jIHVwZGF0ZShlLHQscyl7cmV0dXJuIHN1cGVyLnVwZGF0ZShlLHQscykudGhlbigoZT0+KHRoaXMuY2xpZW50LmF1dGhTdG9yZS5tb2RlbD8uaWQ9PT1lLmlkJiZ2b2lkIDA9PT10aGlzLmNsaWVudC5hdXRoU3RvcmUubW9kZWw/LmNvbGxlY3Rpb25JZCYmdGhpcy5jbGllbnQuYXV0aFN0b3JlLnNhdmUodGhpcy5jbGllbnQuYXV0aFN0b3JlLnRva2VuLGUpLGUpKSl9YXN5bmMgZGVsZXRlKGUsdCl7cmV0dXJuIHN1cGVyLmRlbGV0ZShlLHQpLnRoZW4oKHQ9Pih0JiZ0aGlzLmNsaWVudC5hdXRoU3RvcmUubW9kZWw/LmlkPT09ZSYmdm9pZCAwPT09dGhpcy5jbGllbnQuYXV0aFN0b3JlLm1vZGVsPy5jb2xsZWN0aW9uSWQmJnRoaXMuY2xpZW50LmF1dGhTdG9yZS5jbGVhcigpLHQpKSl9YXV0aFJlc3BvbnNlKGUpe2NvbnN0IHQ9dGhpcy5kZWNvZGUoZT8uYWRtaW58fHt9KTtyZXR1cm4gZT8udG9rZW4mJmU/LmFkbWluJiZ0aGlzLmNsaWVudC5hdXRoU3RvcmUuc2F2ZShlLnRva2VuLHQpLE9iamVjdC5hc3NpZ24oe30sZSx7dG9rZW46ZT8udG9rZW58fFwiXCIsYWRtaW46dH0pfWFzeW5jIGF1dGhXaXRoUGFzc3dvcmQoZSx0LHMsaSl7bGV0IG49e21ldGhvZDpcIlBPU1RcIixib2R5OntpZGVudGl0eTplLHBhc3N3b3JkOnR9fTtuPW5vcm1hbGl6ZUxlZ2FjeU9wdGlvbnNBcmdzKFwiVGhpcyBmb3JtIG9mIGF1dGhXaXRoUGFzc3dvcmQoZW1haWwsIHBhc3MsIGJvZHk/LCBxdWVyeT8pIGlzIGRlcHJlY2F0ZWQuIENvbnNpZGVyIHJlcGxhY2luZyBpdCB3aXRoIGF1dGhXaXRoUGFzc3dvcmQoZW1haWwsIHBhc3MsIG9wdGlvbnM/KS5cIixuLHMsaSk7Y29uc3Qgcj1uLmF1dG9SZWZyZXNoVGhyZXNob2xkO2RlbGV0ZSBuLmF1dG9SZWZyZXNoVGhyZXNob2xkLG4uYXV0b1JlZnJlc2h8fHJlc2V0QXV0b1JlZnJlc2godGhpcy5jbGllbnQpO2xldCBvPWF3YWl0IHRoaXMuY2xpZW50LnNlbmQodGhpcy5iYXNlQ3J1ZFBhdGgrXCIvYXV0aC13aXRoLXBhc3N3b3JkXCIsbik7cmV0dXJuIG89dGhpcy5hdXRoUmVzcG9uc2UobyksciYmZnVuY3Rpb24gcmVnaXN0ZXJBdXRvUmVmcmVzaChlLHQscyxpKXtyZXNldEF1dG9SZWZyZXNoKGUpO2NvbnN0IG49ZS5iZWZvcmVTZW5kLHI9ZS5hdXRoU3RvcmUubW9kZWwsbz1lLmF1dGhTdG9yZS5vbkNoYW5nZSgoKHQscyk9PnsoIXR8fHM/LmlkIT1yPy5pZHx8KHM/LmNvbGxlY3Rpb25JZHx8cj8uY29sbGVjdGlvbklkKSYmcz8uY29sbGVjdGlvbklkIT1yPy5jb2xsZWN0aW9uSWQpJiZyZXNldEF1dG9SZWZyZXNoKGUpfSkpO2UuX3Jlc2V0QXV0b1JlZnJlc2g9ZnVuY3Rpb24oKXtvKCksZS5iZWZvcmVTZW5kPW4sZGVsZXRlIGUuX3Jlc2V0QXV0b1JlZnJlc2h9LGUuYmVmb3JlU2VuZD1hc3luYyhyLG8pPT57Y29uc3QgYT1lLmF1dGhTdG9yZS50b2tlbjtpZihvLnF1ZXJ5Py5hdXRvUmVmcmVzaClyZXR1cm4gbj9uKHIsbyk6e3VybDpyLHNlbmRPcHRpb25zOm99O2xldCBjPWUuYXV0aFN0b3JlLmlzVmFsaWQ7aWYoYyYmaXNUb2tlbkV4cGlyZWQoZS5hdXRoU3RvcmUudG9rZW4sdCkpdHJ5e2F3YWl0IHMoKX1jYXRjaChlKXtjPSExfWN8fGF3YWl0IGkoKTtjb25zdCBsPW8uaGVhZGVyc3x8e307Zm9yKGxldCB0IGluIGwpaWYoXCJhdXRob3JpemF0aW9uXCI9PXQudG9Mb3dlckNhc2UoKSYmYT09bFt0XSYmZS5hdXRoU3RvcmUudG9rZW4pe2xbdF09ZS5hdXRoU3RvcmUudG9rZW47YnJlYWt9cmV0dXJuIG8uaGVhZGVycz1sLG4/bihyLG8pOnt1cmw6cixzZW5kT3B0aW9uczpvfX19KHRoaXMuY2xpZW50LHIsKCgpPT50aGlzLmF1dGhSZWZyZXNoKHthdXRvUmVmcmVzaDohMH0pKSwoKCk9PnRoaXMuYXV0aFdpdGhQYXNzd29yZChlLHQsT2JqZWN0LmFzc2lnbih7YXV0b1JlZnJlc2g6ITB9LG4pKSkpLG99YXN5bmMgYXV0aFJlZnJlc2goZSx0KXtsZXQgcz17bWV0aG9kOlwiUE9TVFwifTtyZXR1cm4gcz1ub3JtYWxpemVMZWdhY3lPcHRpb25zQXJncyhcIlRoaXMgZm9ybSBvZiBhdXRoUmVmcmVzaChib2R5PywgcXVlcnk/KSBpcyBkZXByZWNhdGVkLiBDb25zaWRlciByZXBsYWNpbmcgaXQgd2l0aCBhdXRoUmVmcmVzaChvcHRpb25zPykuXCIscyxlLHQpLHRoaXMuY2xpZW50LnNlbmQodGhpcy5iYXNlQ3J1ZFBhdGgrXCIvYXV0aC1yZWZyZXNoXCIscykudGhlbih0aGlzLmF1dGhSZXNwb25zZS5iaW5kKHRoaXMpKX1hc3luYyByZXF1ZXN0UGFzc3dvcmRSZXNldChlLHQscyl7bGV0IGk9e21ldGhvZDpcIlBPU1RcIixib2R5OntlbWFpbDplfX07cmV0dXJuIGk9bm9ybWFsaXplTGVnYWN5T3B0aW9uc0FyZ3MoXCJUaGlzIGZvcm0gb2YgcmVxdWVzdFBhc3N3b3JkUmVzZXQoZW1haWwsIGJvZHk/LCBxdWVyeT8pIGlzIGRlcHJlY2F0ZWQuIENvbnNpZGVyIHJlcGxhY2luZyBpdCB3aXRoIHJlcXVlc3RQYXNzd29yZFJlc2V0KGVtYWlsLCBvcHRpb25zPykuXCIsaSx0LHMpLHRoaXMuY2xpZW50LnNlbmQodGhpcy5iYXNlQ3J1ZFBhdGgrXCIvcmVxdWVzdC1wYXNzd29yZC1yZXNldFwiLGkpLnRoZW4oKCgpPT4hMCkpfWFzeW5jIGNvbmZpcm1QYXNzd29yZFJlc2V0KGUsdCxzLGksbil7bGV0IHI9e21ldGhvZDpcIlBPU1RcIixib2R5Ont0b2tlbjplLHBhc3N3b3JkOnQscGFzc3dvcmRDb25maXJtOnN9fTtyZXR1cm4gcj1ub3JtYWxpemVMZWdhY3lPcHRpb25zQXJncyhcIlRoaXMgZm9ybSBvZiBjb25maXJtUGFzc3dvcmRSZXNldChyZXNldFRva2VuLCBwYXNzd29yZCwgcGFzc3dvcmRDb25maXJtLCBib2R5PywgcXVlcnk/KSBpcyBkZXByZWNhdGVkLiBDb25zaWRlciByZXBsYWNpbmcgaXQgd2l0aCBjb25maXJtUGFzc3dvcmRSZXNldChyZXNldFRva2VuLCBwYXNzd29yZCwgcGFzc3dvcmRDb25maXJtLCBvcHRpb25zPykuXCIscixpLG4pLHRoaXMuY2xpZW50LnNlbmQodGhpcy5iYXNlQ3J1ZFBhdGgrXCIvY29uZmlybS1wYXNzd29yZC1yZXNldFwiLHIpLnRoZW4oKCgpPT4hMCkpfX1jb25zdCBpPVtcInJlcXVlc3RLZXlcIixcIiRjYW5jZWxLZXlcIixcIiRhdXRvQ2FuY2VsXCIsXCJmZXRjaFwiLFwiaGVhZGVyc1wiLFwiYm9keVwiLFwicXVlcnlcIixcInBhcmFtc1wiLFwiY2FjaGVcIixcImNyZWRlbnRpYWxzXCIsXCJoZWFkZXJzXCIsXCJpbnRlZ3JpdHlcIixcImtlZXBhbGl2ZVwiLFwibWV0aG9kXCIsXCJtb2RlXCIsXCJyZWRpcmVjdFwiLFwicmVmZXJyZXJcIixcInJlZmVycmVyUG9saWN5XCIsXCJzaWduYWxcIixcIndpbmRvd1wiXTtmdW5jdGlvbiBub3JtYWxpemVVbmtub3duUXVlcnlQYXJhbXMoZSl7aWYoZSl7ZS5xdWVyeT1lLnF1ZXJ5fHx7fTtmb3IobGV0IHQgaW4gZSlpLmluY2x1ZGVzKHQpfHwoZS5xdWVyeVt0XT1lW3RdLGRlbGV0ZSBlW3RdKX19Y2xhc3MgUmVhbHRpbWVTZXJ2aWNlIGV4dGVuZHMgQmFzZVNlcnZpY2V7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuY2xpZW50SWQ9XCJcIix0aGlzLmV2ZW50U291cmNlPW51bGwsdGhpcy5zdWJzY3JpcHRpb25zPXt9LHRoaXMubGFzdFNlbnRTdWJzY3JpcHRpb25zPVtdLHRoaXMubWF4Q29ubmVjdFRpbWVvdXQ9MTVlMyx0aGlzLnJlY29ubmVjdEF0dGVtcHRzPTAsdGhpcy5tYXhSZWNvbm5lY3RBdHRlbXB0cz0xLzAsdGhpcy5wcmVkZWZpbmVkUmVjb25uZWN0SW50ZXJ2YWxzPVsyMDAsMzAwLDUwMCwxZTMsMTIwMCwxNTAwLDJlM10sdGhpcy5wZW5kaW5nQ29ubmVjdHM9W119Z2V0IGlzQ29ubmVjdGVkKCl7cmV0dXJuISF0aGlzLmV2ZW50U291cmNlJiYhIXRoaXMuY2xpZW50SWQmJiF0aGlzLnBlbmRpbmdDb25uZWN0cy5sZW5ndGh9YXN5bmMgc3Vic2NyaWJlKGUsdCxzKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJ0b3BpYyBtdXN0IGJlIHNldC5cIik7bGV0IGk9ZTtpZihzKXtub3JtYWxpemVVbmtub3duUXVlcnlQYXJhbXMocyk7Y29uc3QgZT1cIm9wdGlvbnM9XCIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHtxdWVyeTpzLnF1ZXJ5LGhlYWRlcnM6cy5oZWFkZXJzfSkpO2krPShpLmluY2x1ZGVzKFwiP1wiKT9cIiZcIjpcIj9cIikrZX1jb25zdCBsaXN0ZW5lcj1mdW5jdGlvbihlKXtjb25zdCBzPWU7bGV0IGk7dHJ5e2k9SlNPTi5wYXJzZShzPy5kYXRhKX1jYXRjaHt9dChpfHx7fSl9O3JldHVybiB0aGlzLnN1YnNjcmlwdGlvbnNbaV18fCh0aGlzLnN1YnNjcmlwdGlvbnNbaV09W10pLHRoaXMuc3Vic2NyaXB0aW9uc1tpXS5wdXNoKGxpc3RlbmVyKSx0aGlzLmlzQ29ubmVjdGVkPzE9PT10aGlzLnN1YnNjcmlwdGlvbnNbaV0ubGVuZ3RoP2F3YWl0IHRoaXMuc3VibWl0U3Vic2NyaXB0aW9ucygpOnRoaXMuZXZlbnRTb3VyY2U/LmFkZEV2ZW50TGlzdGVuZXIoaSxsaXN0ZW5lcik6YXdhaXQgdGhpcy5jb25uZWN0KCksYXN5bmMoKT0+dGhpcy51bnN1YnNjcmliZUJ5VG9waWNBbmRMaXN0ZW5lcihlLGxpc3RlbmVyKX1hc3luYyB1bnN1YnNjcmliZShlKXtsZXQgdD0hMTtpZihlKXtjb25zdCBzPXRoaXMuZ2V0U3Vic2NyaXB0aW9uc0J5VG9waWMoZSk7Zm9yKGxldCBlIGluIHMpaWYodGhpcy5oYXNTdWJzY3JpcHRpb25MaXN0ZW5lcnMoZSkpe2ZvcihsZXQgdCBvZiB0aGlzLnN1YnNjcmlwdGlvbnNbZV0pdGhpcy5ldmVudFNvdXJjZT8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQpO2RlbGV0ZSB0aGlzLnN1YnNjcmlwdGlvbnNbZV0sdHx8KHQ9ITApfX1lbHNlIHRoaXMuc3Vic2NyaXB0aW9ucz17fTt0aGlzLmhhc1N1YnNjcmlwdGlvbkxpc3RlbmVycygpP3QmJmF3YWl0IHRoaXMuc3VibWl0U3Vic2NyaXB0aW9ucygpOnRoaXMuZGlzY29ubmVjdCgpfWFzeW5jIHVuc3Vic2NyaWJlQnlQcmVmaXgoZSl7bGV0IHQ9ITE7Zm9yKGxldCBzIGluIHRoaXMuc3Vic2NyaXB0aW9ucylpZigocytcIj9cIikuc3RhcnRzV2l0aChlKSl7dD0hMDtmb3IobGV0IGUgb2YgdGhpcy5zdWJzY3JpcHRpb25zW3NdKXRoaXMuZXZlbnRTb3VyY2U/LnJlbW92ZUV2ZW50TGlzdGVuZXIocyxlKTtkZWxldGUgdGhpcy5zdWJzY3JpcHRpb25zW3NdfXQmJih0aGlzLmhhc1N1YnNjcmlwdGlvbkxpc3RlbmVycygpP2F3YWl0IHRoaXMuc3VibWl0U3Vic2NyaXB0aW9ucygpOnRoaXMuZGlzY29ubmVjdCgpKX1hc3luYyB1bnN1YnNjcmliZUJ5VG9waWNBbmRMaXN0ZW5lcihlLHQpe2xldCBzPSExO2NvbnN0IGk9dGhpcy5nZXRTdWJzY3JpcHRpb25zQnlUb3BpYyhlKTtmb3IobGV0IGUgaW4gaSl7aWYoIUFycmF5LmlzQXJyYXkodGhpcy5zdWJzY3JpcHRpb25zW2VdKXx8IXRoaXMuc3Vic2NyaXB0aW9uc1tlXS5sZW5ndGgpY29udGludWU7bGV0IGk9ITE7Zm9yKGxldCBzPXRoaXMuc3Vic2NyaXB0aW9uc1tlXS5sZW5ndGgtMTtzPj0wO3MtLSl0aGlzLnN1YnNjcmlwdGlvbnNbZV1bc109PT10JiYoaT0hMCxkZWxldGUgdGhpcy5zdWJzY3JpcHRpb25zW2VdW3NdLHRoaXMuc3Vic2NyaXB0aW9uc1tlXS5zcGxpY2UocywxKSx0aGlzLmV2ZW50U291cmNlPy5yZW1vdmVFdmVudExpc3RlbmVyKGUsdCkpO2kmJih0aGlzLnN1YnNjcmlwdGlvbnNbZV0ubGVuZ3RofHxkZWxldGUgdGhpcy5zdWJzY3JpcHRpb25zW2VdLHN8fHRoaXMuaGFzU3Vic2NyaXB0aW9uTGlzdGVuZXJzKGUpfHwocz0hMCkpfXRoaXMuaGFzU3Vic2NyaXB0aW9uTGlzdGVuZXJzKCk/cyYmYXdhaXQgdGhpcy5zdWJtaXRTdWJzY3JpcHRpb25zKCk6dGhpcy5kaXNjb25uZWN0KCl9aGFzU3Vic2NyaXB0aW9uTGlzdGVuZXJzKGUpe2lmKHRoaXMuc3Vic2NyaXB0aW9ucz10aGlzLnN1YnNjcmlwdGlvbnN8fHt9LGUpcmV0dXJuISF0aGlzLnN1YnNjcmlwdGlvbnNbZV0/Lmxlbmd0aDtmb3IobGV0IGUgaW4gdGhpcy5zdWJzY3JpcHRpb25zKWlmKHRoaXMuc3Vic2NyaXB0aW9uc1tlXT8ubGVuZ3RoKXJldHVybiEwO3JldHVybiExfWFzeW5jIHN1Ym1pdFN1YnNjcmlwdGlvbnMoKXtpZih0aGlzLmNsaWVudElkKXJldHVybiB0aGlzLmFkZEFsbFN1YnNjcmlwdGlvbkxpc3RlbmVycygpLHRoaXMubGFzdFNlbnRTdWJzY3JpcHRpb25zPXRoaXMuZ2V0Tm9uRW1wdHlTdWJzY3JpcHRpb25LZXlzKCksdGhpcy5jbGllbnQuc2VuZChcIi9hcGkvcmVhbHRpbWVcIix7bWV0aG9kOlwiUE9TVFwiLGJvZHk6e2NsaWVudElkOnRoaXMuY2xpZW50SWQsc3Vic2NyaXB0aW9uczp0aGlzLmxhc3RTZW50U3Vic2NyaXB0aW9uc30scmVxdWVzdEtleTp0aGlzLmdldFN1YnNjcmlwdGlvbnNDYW5jZWxLZXkoKX0pLmNhdGNoKChlPT57aWYoIWU/LmlzQWJvcnQpdGhyb3cgZX0pKX1nZXRTdWJzY3JpcHRpb25zQ2FuY2VsS2V5KCl7cmV0dXJuXCJyZWFsdGltZV9cIit0aGlzLmNsaWVudElkfWdldFN1YnNjcmlwdGlvbnNCeVRvcGljKGUpe2NvbnN0IHQ9e307ZT1lLmluY2x1ZGVzKFwiP1wiKT9lOmUrXCI/XCI7Zm9yKGxldCBzIGluIHRoaXMuc3Vic2NyaXB0aW9ucykocytcIj9cIikuc3RhcnRzV2l0aChlKSYmKHRbc109dGhpcy5zdWJzY3JpcHRpb25zW3NdKTtyZXR1cm4gdH1nZXROb25FbXB0eVN1YnNjcmlwdGlvbktleXMoKXtjb25zdCBlPVtdO2ZvcihsZXQgdCBpbiB0aGlzLnN1YnNjcmlwdGlvbnMpdGhpcy5zdWJzY3JpcHRpb25zW3RdLmxlbmd0aCYmZS5wdXNoKHQpO3JldHVybiBlfWFkZEFsbFN1YnNjcmlwdGlvbkxpc3RlbmVycygpe2lmKHRoaXMuZXZlbnRTb3VyY2Upe3RoaXMucmVtb3ZlQWxsU3Vic2NyaXB0aW9uTGlzdGVuZXJzKCk7Zm9yKGxldCBlIGluIHRoaXMuc3Vic2NyaXB0aW9ucylmb3IobGV0IHQgb2YgdGhpcy5zdWJzY3JpcHRpb25zW2VdKXRoaXMuZXZlbnRTb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihlLHQpfX1yZW1vdmVBbGxTdWJzY3JpcHRpb25MaXN0ZW5lcnMoKXtpZih0aGlzLmV2ZW50U291cmNlKWZvcihsZXQgZSBpbiB0aGlzLnN1YnNjcmlwdGlvbnMpZm9yKGxldCB0IG9mIHRoaXMuc3Vic2NyaXB0aW9uc1tlXSl0aGlzLmV2ZW50U291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0KX1hc3luYyBjb25uZWN0KCl7aWYoISh0aGlzLnJlY29ubmVjdEF0dGVtcHRzPjApKXJldHVybiBuZXcgUHJvbWlzZSgoKGUsdCk9Pnt0aGlzLnBlbmRpbmdDb25uZWN0cy5wdXNoKHtyZXNvbHZlOmUscmVqZWN0OnR9KSx0aGlzLnBlbmRpbmdDb25uZWN0cy5sZW5ndGg+MXx8dGhpcy5pbml0Q29ubmVjdCgpfSkpfWluaXRDb25uZWN0KCl7dGhpcy5kaXNjb25uZWN0KCEwKSxjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0VGltZW91dElkKSx0aGlzLmNvbm5lY3RUaW1lb3V0SWQ9c2V0VGltZW91dCgoKCk9Pnt0aGlzLmNvbm5lY3RFcnJvckhhbmRsZXIobmV3IEVycm9yKFwiRXZlbnRTb3VyY2UgY29ubmVjdCB0b29rIHRvbyBsb25nLlwiKSl9KSx0aGlzLm1heENvbm5lY3RUaW1lb3V0KSx0aGlzLmV2ZW50U291cmNlPW5ldyBFdmVudFNvdXJjZSh0aGlzLmNsaWVudC5idWlsZFVybChcIi9hcGkvcmVhbHRpbWVcIikpLHRoaXMuZXZlbnRTb3VyY2Uub25lcnJvcj1lPT57dGhpcy5jb25uZWN0RXJyb3JIYW5kbGVyKG5ldyBFcnJvcihcIkZhaWxlZCB0byBlc3RhYmxpc2ggcmVhbHRpbWUgY29ubmVjdGlvbi5cIikpfSx0aGlzLmV2ZW50U291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJQQl9DT05ORUNUXCIsKGU9Pntjb25zdCB0PWU7dGhpcy5jbGllbnRJZD10Py5sYXN0RXZlbnRJZCx0aGlzLnN1Ym1pdFN1YnNjcmlwdGlvbnMoKS50aGVuKChhc3luYygpPT57bGV0IGU9Mztmb3IoO3RoaXMuaGFzVW5zZW50U3Vic2NyaXB0aW9ucygpJiZlPjA7KWUtLSxhd2FpdCB0aGlzLnN1Ym1pdFN1YnNjcmlwdGlvbnMoKX0pKS50aGVuKCgoKT0+e2ZvcihsZXQgZSBvZiB0aGlzLnBlbmRpbmdDb25uZWN0cyllLnJlc29sdmUoKTt0aGlzLnBlbmRpbmdDb25uZWN0cz1bXSx0aGlzLnJlY29ubmVjdEF0dGVtcHRzPTAsY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0VGltZW91dElkKSxjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0VGltZW91dElkKTtjb25zdCB0PXRoaXMuZ2V0U3Vic2NyaXB0aW9uc0J5VG9waWMoXCJQQl9DT05ORUNUXCIpO2ZvcihsZXQgcyBpbiB0KWZvcihsZXQgaSBvZiB0W3NdKWkoZSl9KSkuY2F0Y2goKGU9Pnt0aGlzLmNsaWVudElkPVwiXCIsdGhpcy5jb25uZWN0RXJyb3JIYW5kbGVyKGUpfSkpfSkpfWhhc1Vuc2VudFN1YnNjcmlwdGlvbnMoKXtjb25zdCBlPXRoaXMuZ2V0Tm9uRW1wdHlTdWJzY3JpcHRpb25LZXlzKCk7aWYoZS5sZW5ndGghPXRoaXMubGFzdFNlbnRTdWJzY3JpcHRpb25zLmxlbmd0aClyZXR1cm4hMDtmb3IoY29uc3QgdCBvZiBlKWlmKCF0aGlzLmxhc3RTZW50U3Vic2NyaXB0aW9ucy5pbmNsdWRlcyh0KSlyZXR1cm4hMDtyZXR1cm4hMX1jb25uZWN0RXJyb3JIYW5kbGVyKGUpe2lmKGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3RUaW1lb3V0SWQpLGNsZWFyVGltZW91dCh0aGlzLnJlY29ubmVjdFRpbWVvdXRJZCksIXRoaXMuY2xpZW50SWQmJiF0aGlzLnJlY29ubmVjdEF0dGVtcHRzfHx0aGlzLnJlY29ubmVjdEF0dGVtcHRzPnRoaXMubWF4UmVjb25uZWN0QXR0ZW1wdHMpe2ZvcihsZXQgdCBvZiB0aGlzLnBlbmRpbmdDb25uZWN0cyl0LnJlamVjdChuZXcgQ2xpZW50UmVzcG9uc2VFcnJvcihlKSk7cmV0dXJuIHRoaXMucGVuZGluZ0Nvbm5lY3RzPVtdLHZvaWQgdGhpcy5kaXNjb25uZWN0KCl9dGhpcy5kaXNjb25uZWN0KCEwKTtjb25zdCB0PXRoaXMucHJlZGVmaW5lZFJlY29ubmVjdEludGVydmFsc1t0aGlzLnJlY29ubmVjdEF0dGVtcHRzXXx8dGhpcy5wcmVkZWZpbmVkUmVjb25uZWN0SW50ZXJ2YWxzW3RoaXMucHJlZGVmaW5lZFJlY29ubmVjdEludGVydmFscy5sZW5ndGgtMV07dGhpcy5yZWNvbm5lY3RBdHRlbXB0cysrLHRoaXMucmVjb25uZWN0VGltZW91dElkPXNldFRpbWVvdXQoKCgpPT57dGhpcy5pbml0Q29ubmVjdCgpfSksdCl9ZGlzY29ubmVjdChlPSExKXtpZihjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0VGltZW91dElkKSxjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3RUaW1lb3V0SWQpLHRoaXMucmVtb3ZlQWxsU3Vic2NyaXB0aW9uTGlzdGVuZXJzKCksdGhpcy5jbGllbnQuY2FuY2VsUmVxdWVzdCh0aGlzLmdldFN1YnNjcmlwdGlvbnNDYW5jZWxLZXkoKSksdGhpcy5ldmVudFNvdXJjZT8uY2xvc2UoKSx0aGlzLmV2ZW50U291cmNlPW51bGwsdGhpcy5jbGllbnRJZD1cIlwiLCFlKXt0aGlzLnJlY29ubmVjdEF0dGVtcHRzPTA7Zm9yKGxldCBlIG9mIHRoaXMucGVuZGluZ0Nvbm5lY3RzKWUucmVzb2x2ZSgpO3RoaXMucGVuZGluZ0Nvbm5lY3RzPVtdfX19Y2xhc3MgUmVjb3JkU2VydmljZSBleHRlbmRzIENydWRTZXJ2aWNle2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSksdGhpcy5jb2xsZWN0aW9uSWRPck5hbWU9dH1nZXQgYmFzZUNydWRQYXRoKCl7cmV0dXJuIHRoaXMuYmFzZUNvbGxlY3Rpb25QYXRoK1wiL3JlY29yZHNcIn1nZXQgYmFzZUNvbGxlY3Rpb25QYXRoKCl7cmV0dXJuXCIvYXBpL2NvbGxlY3Rpb25zL1wiK2VuY29kZVVSSUNvbXBvbmVudCh0aGlzLmNvbGxlY3Rpb25JZE9yTmFtZSl9YXN5bmMgc3Vic2NyaWJlKGUsdCxzKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHRvcGljLlwiKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHN1YnNjcmlwdGlvbiBjYWxsYmFjay5cIik7cmV0dXJuIHRoaXMuY2xpZW50LnJlYWx0aW1lLnN1YnNjcmliZSh0aGlzLmNvbGxlY3Rpb25JZE9yTmFtZStcIi9cIitlLHQscyl9YXN5bmMgdW5zdWJzY3JpYmUoZSl7cmV0dXJuIGU/dGhpcy5jbGllbnQucmVhbHRpbWUudW5zdWJzY3JpYmUodGhpcy5jb2xsZWN0aW9uSWRPck5hbWUrXCIvXCIrZSk6dGhpcy5jbGllbnQucmVhbHRpbWUudW5zdWJzY3JpYmVCeVByZWZpeCh0aGlzLmNvbGxlY3Rpb25JZE9yTmFtZSl9YXN5bmMgZ2V0RnVsbExpc3QoZSx0KXtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gc3VwZXIuZ2V0RnVsbExpc3QoZSx0KTtjb25zdCBzPU9iamVjdC5hc3NpZ24oe30sZSx0KTtyZXR1cm4gc3VwZXIuZ2V0RnVsbExpc3Qocyl9YXN5bmMgZ2V0TGlzdChlPTEsdD0zMCxzKXtyZXR1cm4gc3VwZXIuZ2V0TGlzdChlLHQscyl9YXN5bmMgZ2V0Rmlyc3RMaXN0SXRlbShlLHQpe3JldHVybiBzdXBlci5nZXRGaXJzdExpc3RJdGVtKGUsdCl9YXN5bmMgZ2V0T25lKGUsdCl7cmV0dXJuIHN1cGVyLmdldE9uZShlLHQpfWFzeW5jIGNyZWF0ZShlLHQpe3JldHVybiBzdXBlci5jcmVhdGUoZSx0KX1hc3luYyB1cGRhdGUoZSx0LHMpe3JldHVybiBzdXBlci51cGRhdGUoZSx0LHMpLnRoZW4oKGU9Pih0aGlzLmNsaWVudC5hdXRoU3RvcmUubW9kZWw/LmlkIT09ZT8uaWR8fHRoaXMuY2xpZW50LmF1dGhTdG9yZS5tb2RlbD8uY29sbGVjdGlvbklkIT09dGhpcy5jb2xsZWN0aW9uSWRPck5hbWUmJnRoaXMuY2xpZW50LmF1dGhTdG9yZS5tb2RlbD8uY29sbGVjdGlvbk5hbWUhPT10aGlzLmNvbGxlY3Rpb25JZE9yTmFtZXx8dGhpcy5jbGllbnQuYXV0aFN0b3JlLnNhdmUodGhpcy5jbGllbnQuYXV0aFN0b3JlLnRva2VuLGUpLGUpKSl9YXN5bmMgZGVsZXRlKGUsdCl7cmV0dXJuIHN1cGVyLmRlbGV0ZShlLHQpLnRoZW4oKHQ9PighdHx8dGhpcy5jbGllbnQuYXV0aFN0b3JlLm1vZGVsPy5pZCE9PWV8fHRoaXMuY2xpZW50LmF1dGhTdG9yZS5tb2RlbD8uY29sbGVjdGlvbklkIT09dGhpcy5jb2xsZWN0aW9uSWRPck5hbWUmJnRoaXMuY2xpZW50LmF1dGhTdG9yZS5tb2RlbD8uY29sbGVjdGlvbk5hbWUhPT10aGlzLmNvbGxlY3Rpb25JZE9yTmFtZXx8dGhpcy5jbGllbnQuYXV0aFN0b3JlLmNsZWFyKCksdCkpKX1hdXRoUmVzcG9uc2UoZSl7Y29uc3QgdD10aGlzLmRlY29kZShlPy5yZWNvcmR8fHt9KTtyZXR1cm4gdGhpcy5jbGllbnQuYXV0aFN0b3JlLnNhdmUoZT8udG9rZW4sdCksT2JqZWN0LmFzc2lnbih7fSxlLHt0b2tlbjplPy50b2tlbnx8XCJcIixyZWNvcmQ6dH0pfWFzeW5jIGxpc3RBdXRoTWV0aG9kcyhlKXtyZXR1cm4gZT1PYmplY3QuYXNzaWduKHttZXRob2Q6XCJHRVRcIn0sZSksdGhpcy5jbGllbnQuc2VuZCh0aGlzLmJhc2VDb2xsZWN0aW9uUGF0aCtcIi9hdXRoLW1ldGhvZHNcIixlKS50aGVuKChlPT5PYmplY3QuYXNzaWduKHt9LGUse3VzZXJuYW1lUGFzc3dvcmQ6ISFlPy51c2VybmFtZVBhc3N3b3JkLGVtYWlsUGFzc3dvcmQ6ISFlPy5lbWFpbFBhc3N3b3JkLGF1dGhQcm92aWRlcnM6QXJyYXkuaXNBcnJheShlPy5hdXRoUHJvdmlkZXJzKT9lPy5hdXRoUHJvdmlkZXJzOltdfSkpKX1hc3luYyBhdXRoV2l0aFBhc3N3b3JkKGUsdCxzLGkpe2xldCBuPXttZXRob2Q6XCJQT1NUXCIsYm9keTp7aWRlbnRpdHk6ZSxwYXNzd29yZDp0fX07cmV0dXJuIG49bm9ybWFsaXplTGVnYWN5T3B0aW9uc0FyZ3MoXCJUaGlzIGZvcm0gb2YgYXV0aFdpdGhQYXNzd29yZCh1c2VybmFtZU9yRW1haWwsIHBhc3MsIGJvZHk/LCBxdWVyeT8pIGlzIGRlcHJlY2F0ZWQuIENvbnNpZGVyIHJlcGxhY2luZyBpdCB3aXRoIGF1dGhXaXRoUGFzc3dvcmQodXNlcm5hbWVPckVtYWlsLCBwYXNzLCBvcHRpb25zPykuXCIsbixzLGkpLHRoaXMuY2xpZW50LnNlbmQodGhpcy5iYXNlQ29sbGVjdGlvblBhdGgrXCIvYXV0aC13aXRoLXBhc3N3b3JkXCIsbikudGhlbigoZT0+dGhpcy5hdXRoUmVzcG9uc2UoZSkpKX1hc3luYyBhdXRoV2l0aE9BdXRoMkNvZGUoZSx0LHMsaSxuLHIsbyl7bGV0IGE9e21ldGhvZDpcIlBPU1RcIixib2R5Ontwcm92aWRlcjplLGNvZGU6dCxjb2RlVmVyaWZpZXI6cyxyZWRpcmVjdFVybDppLGNyZWF0ZURhdGE6bn19O3JldHVybiBhPW5vcm1hbGl6ZUxlZ2FjeU9wdGlvbnNBcmdzKFwiVGhpcyBmb3JtIG9mIGF1dGhXaXRoT0F1dGgyQ29kZShwcm92aWRlciwgY29kZSwgY29kZVZlcmlmaWVyLCByZWRpcmVjdFVybCwgY3JlYXRlRGF0YT8sIGJvZHk/LCBxdWVyeT8pIGlzIGRlcHJlY2F0ZWQuIENvbnNpZGVyIHJlcGxhY2luZyBpdCB3aXRoIGF1dGhXaXRoT0F1dGgyQ29kZShwcm92aWRlciwgY29kZSwgY29kZVZlcmlmaWVyLCByZWRpcmVjdFVybCwgY3JlYXRlRGF0YT8sIG9wdGlvbnM/KS5cIixhLHIsbyksdGhpcy5jbGllbnQuc2VuZCh0aGlzLmJhc2VDb2xsZWN0aW9uUGF0aCtcIi9hdXRoLXdpdGgtb2F1dGgyXCIsYSkudGhlbigoZT0+dGhpcy5hdXRoUmVzcG9uc2UoZSkpKX1hc3luYyBhdXRoV2l0aE9BdXRoMiguLi5lKXtpZihlLmxlbmd0aD4xfHxcInN0cmluZ1wiPT10eXBlb2YgZT8uWzBdKXJldHVybiBjb25zb2xlLndhcm4oXCJQb2NrZXRCYXNlOiBUaGlzIGZvcm0gb2YgYXV0aFdpdGhPQXV0aDIoKSBpcyBkZXByZWNhdGVkIGFuZCBtYXkgZ2V0IHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gUGxlYXNlIHJlcGxhY2Ugd2l0aCBhdXRoV2l0aE9BdXRoMkNvZGUoKSBPUiB1c2UgdGhlIGF1dGhXaXRoT0F1dGgyKCkgcmVhbHRpbWUgZm9ybSBhcyBzaG93biBpbiBodHRwczovL3BvY2tldGJhc2UuaW8vZG9jcy9hdXRoZW50aWNhdGlvbi8jb2F1dGgyLWludGVncmF0aW9uLlwiKSx0aGlzLmF1dGhXaXRoT0F1dGgyQ29kZShlPy5bMF18fFwiXCIsZT8uWzFdfHxcIlwiLGU/LlsyXXx8XCJcIixlPy5bM118fFwiXCIsZT8uWzRdfHx7fSxlPy5bNV18fHt9LGU/Lls2XXx8e30pO2NvbnN0IHQ9ZT8uWzBdfHx7fSxzPShhd2FpdCB0aGlzLmxpc3RBdXRoTWV0aG9kcygpKS5hdXRoUHJvdmlkZXJzLmZpbmQoKGU9PmUubmFtZT09PXQucHJvdmlkZXIpKTtpZighcyl0aHJvdyBuZXcgQ2xpZW50UmVzcG9uc2VFcnJvcihuZXcgRXJyb3IoYE1pc3Npbmcgb3IgaW52YWxpZCBwcm92aWRlciBcIiR7dC5wcm92aWRlcn1cIi5gKSk7Y29uc3QgaT10aGlzLmNsaWVudC5idWlsZFVybChcIi9hcGkvb2F1dGgyLXJlZGlyZWN0XCIpLG49bmV3IFJlYWx0aW1lU2VydmljZSh0aGlzLmNsaWVudCk7bGV0IHI9bnVsbDtmdW5jdGlvbiBjbGVhbnVwKCl7cj8uY2xvc2UoKSxuLnVuc3Vic2NyaWJlKCl9cmV0dXJuIHQudXJsQ2FsbGJhY2t8fChyPW9wZW5Ccm93c2VyUG9wdXAodm9pZCAwKSksbmV3IFByb21pc2UoKGFzeW5jKGUsbyk9Pnt0cnl7YXdhaXQgbi5zdWJzY3JpYmUoXCJAb2F1dGgyXCIsKGFzeW5jIHI9Pntjb25zdCBhPW4uY2xpZW50SWQ7dHJ5e2lmKCFyLnN0YXRlfHxhIT09ci5zdGF0ZSl0aHJvdyBuZXcgRXJyb3IoXCJTdGF0ZSBwYXJhbWV0ZXJzIGRvbid0IG1hdGNoLlwiKTtjb25zdCBuPU9iamVjdC5hc3NpZ24oe30sdCk7ZGVsZXRlIG4ucHJvdmlkZXIsZGVsZXRlIG4uc2NvcGVzLGRlbGV0ZSBuLmNyZWF0ZURhdGEsZGVsZXRlIG4udXJsQ2FsbGJhY2s7Y29uc3Qgbz1hd2FpdCB0aGlzLmF1dGhXaXRoT0F1dGgyQ29kZShzLm5hbWUsci5jb2RlLHMuY29kZVZlcmlmaWVyLGksdC5jcmVhdGVEYXRhLG4pO2Uobyl9Y2F0Y2goZSl7byhuZXcgQ2xpZW50UmVzcG9uc2VFcnJvcihlKSl9Y2xlYW51cCgpfSkpO2NvbnN0IGE9e3N0YXRlOm4uY2xpZW50SWR9O3Quc2NvcGVzPy5sZW5ndGgmJihhLnNjb3BlPXQuc2NvcGVzLmpvaW4oXCIgXCIpKTtjb25zdCBjPXRoaXMuX3JlcGxhY2VRdWVyeVBhcmFtcyhzLmF1dGhVcmwraSxhKTtsZXQgbD10LnVybENhbGxiYWNrfHxmdW5jdGlvbihlKXtyP3IubG9jYXRpb24uaHJlZj1lOnI9b3BlbkJyb3dzZXJQb3B1cChlKX07YXdhaXQgbChjKX1jYXRjaChlKXtjbGVhbnVwKCksbyhuZXcgQ2xpZW50UmVzcG9uc2VFcnJvcihlKSl9fSkpfWFzeW5jIGF1dGhSZWZyZXNoKGUsdCl7bGV0IHM9e21ldGhvZDpcIlBPU1RcIn07cmV0dXJuIHM9bm9ybWFsaXplTGVnYWN5T3B0aW9uc0FyZ3MoXCJUaGlzIGZvcm0gb2YgYXV0aFJlZnJlc2goYm9keT8sIHF1ZXJ5PykgaXMgZGVwcmVjYXRlZC4gQ29uc2lkZXIgcmVwbGFjaW5nIGl0IHdpdGggYXV0aFJlZnJlc2gob3B0aW9ucz8pLlwiLHMsZSx0KSx0aGlzLmNsaWVudC5zZW5kKHRoaXMuYmFzZUNvbGxlY3Rpb25QYXRoK1wiL2F1dGgtcmVmcmVzaFwiLHMpLnRoZW4oKGU9PnRoaXMuYXV0aFJlc3BvbnNlKGUpKSl9YXN5bmMgcmVxdWVzdFBhc3N3b3JkUmVzZXQoZSx0LHMpe2xldCBpPXttZXRob2Q6XCJQT1NUXCIsYm9keTp7ZW1haWw6ZX19O3JldHVybiBpPW5vcm1hbGl6ZUxlZ2FjeU9wdGlvbnNBcmdzKFwiVGhpcyBmb3JtIG9mIHJlcXVlc3RQYXNzd29yZFJlc2V0KGVtYWlsLCBib2R5PywgcXVlcnk/KSBpcyBkZXByZWNhdGVkLiBDb25zaWRlciByZXBsYWNpbmcgaXQgd2l0aCByZXF1ZXN0UGFzc3dvcmRSZXNldChlbWFpbCwgb3B0aW9ucz8pLlwiLGksdCxzKSx0aGlzLmNsaWVudC5zZW5kKHRoaXMuYmFzZUNvbGxlY3Rpb25QYXRoK1wiL3JlcXVlc3QtcGFzc3dvcmQtcmVzZXRcIixpKS50aGVuKCgoKT0+ITApKX1hc3luYyBjb25maXJtUGFzc3dvcmRSZXNldChlLHQscyxpLG4pe2xldCByPXttZXRob2Q6XCJQT1NUXCIsYm9keTp7dG9rZW46ZSxwYXNzd29yZDp0LHBhc3N3b3JkQ29uZmlybTpzfX07cmV0dXJuIHI9bm9ybWFsaXplTGVnYWN5T3B0aW9uc0FyZ3MoXCJUaGlzIGZvcm0gb2YgY29uZmlybVBhc3N3b3JkUmVzZXQodG9rZW4sIHBhc3N3b3JkLCBwYXNzd29yZENvbmZpcm0sIGJvZHk/LCBxdWVyeT8pIGlzIGRlcHJlY2F0ZWQuIENvbnNpZGVyIHJlcGxhY2luZyBpdCB3aXRoIGNvbmZpcm1QYXNzd29yZFJlc2V0KHRva2VuLCBwYXNzd29yZCwgcGFzc3dvcmRDb25maXJtLCBvcHRpb25zPykuXCIscixpLG4pLHRoaXMuY2xpZW50LnNlbmQodGhpcy5iYXNlQ29sbGVjdGlvblBhdGgrXCIvY29uZmlybS1wYXNzd29yZC1yZXNldFwiLHIpLnRoZW4oKCgpPT4hMCkpfWFzeW5jIHJlcXVlc3RWZXJpZmljYXRpb24oZSx0LHMpe2xldCBpPXttZXRob2Q6XCJQT1NUXCIsYm9keTp7ZW1haWw6ZX19O3JldHVybiBpPW5vcm1hbGl6ZUxlZ2FjeU9wdGlvbnNBcmdzKFwiVGhpcyBmb3JtIG9mIHJlcXVlc3RWZXJpZmljYXRpb24oZW1haWwsIGJvZHk/LCBxdWVyeT8pIGlzIGRlcHJlY2F0ZWQuIENvbnNpZGVyIHJlcGxhY2luZyBpdCB3aXRoIHJlcXVlc3RWZXJpZmljYXRpb24oZW1haWwsIG9wdGlvbnM/KS5cIixpLHQscyksdGhpcy5jbGllbnQuc2VuZCh0aGlzLmJhc2VDb2xsZWN0aW9uUGF0aCtcIi9yZXF1ZXN0LXZlcmlmaWNhdGlvblwiLGkpLnRoZW4oKCgpPT4hMCkpfWFzeW5jIGNvbmZpcm1WZXJpZmljYXRpb24oZSx0LHMpe2xldCBpPXttZXRob2Q6XCJQT1NUXCIsYm9keTp7dG9rZW46ZX19O3JldHVybiBpPW5vcm1hbGl6ZUxlZ2FjeU9wdGlvbnNBcmdzKFwiVGhpcyBmb3JtIG9mIGNvbmZpcm1WZXJpZmljYXRpb24odG9rZW4sIGJvZHk/LCBxdWVyeT8pIGlzIGRlcHJlY2F0ZWQuIENvbnNpZGVyIHJlcGxhY2luZyBpdCB3aXRoIGNvbmZpcm1WZXJpZmljYXRpb24odG9rZW4sIG9wdGlvbnM/KS5cIixpLHQscyksdGhpcy5jbGllbnQuc2VuZCh0aGlzLmJhc2VDb2xsZWN0aW9uUGF0aCtcIi9jb25maXJtLXZlcmlmaWNhdGlvblwiLGkpLnRoZW4oKCgpPT4hMCkpfWFzeW5jIHJlcXVlc3RFbWFpbENoYW5nZShlLHQscyl7bGV0IGk9e21ldGhvZDpcIlBPU1RcIixib2R5OntuZXdFbWFpbDplfX07cmV0dXJuIGk9bm9ybWFsaXplTGVnYWN5T3B0aW9uc0FyZ3MoXCJUaGlzIGZvcm0gb2YgcmVxdWVzdEVtYWlsQ2hhbmdlKG5ld0VtYWlsLCBib2R5PywgcXVlcnk/KSBpcyBkZXByZWNhdGVkLiBDb25zaWRlciByZXBsYWNpbmcgaXQgd2l0aCByZXF1ZXN0RW1haWxDaGFuZ2UobmV3RW1haWwsIG9wdGlvbnM/KS5cIixpLHQscyksdGhpcy5jbGllbnQuc2VuZCh0aGlzLmJhc2VDb2xsZWN0aW9uUGF0aCtcIi9yZXF1ZXN0LWVtYWlsLWNoYW5nZVwiLGkpLnRoZW4oKCgpPT4hMCkpfWFzeW5jIGNvbmZpcm1FbWFpbENoYW5nZShlLHQscyxpKXtsZXQgbj17bWV0aG9kOlwiUE9TVFwiLGJvZHk6e3Rva2VuOmUscGFzc3dvcmQ6dH19O3JldHVybiBuPW5vcm1hbGl6ZUxlZ2FjeU9wdGlvbnNBcmdzKFwiVGhpcyBmb3JtIG9mIGNvbmZpcm1FbWFpbENoYW5nZSh0b2tlbiwgcGFzc3dvcmQsIGJvZHk/LCBxdWVyeT8pIGlzIGRlcHJlY2F0ZWQuIENvbnNpZGVyIHJlcGxhY2luZyBpdCB3aXRoIGNvbmZpcm1FbWFpbENoYW5nZSh0b2tlbiwgcGFzc3dvcmQsIG9wdGlvbnM/KS5cIixuLHMsaSksdGhpcy5jbGllbnQuc2VuZCh0aGlzLmJhc2VDb2xsZWN0aW9uUGF0aCtcIi9jb25maXJtLWVtYWlsLWNoYW5nZVwiLG4pLnRoZW4oKCgpPT4hMCkpfWFzeW5jIGxpc3RFeHRlcm5hbEF1dGhzKGUsdCl7cmV0dXJuIHQ9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiR0VUXCJ9LHQpLHRoaXMuY2xpZW50LnNlbmQodGhpcy5iYXNlQ3J1ZFBhdGgrXCIvXCIrZW5jb2RlVVJJQ29tcG9uZW50KGUpK1wiL2V4dGVybmFsLWF1dGhzXCIsdCl9YXN5bmMgdW5saW5rRXh0ZXJuYWxBdXRoKGUsdCxzKXtyZXR1cm4gcz1PYmplY3QuYXNzaWduKHttZXRob2Q6XCJERUxFVEVcIn0scyksdGhpcy5jbGllbnQuc2VuZCh0aGlzLmJhc2VDcnVkUGF0aCtcIi9cIitlbmNvZGVVUklDb21wb25lbnQoZSkrXCIvZXh0ZXJuYWwtYXV0aHMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KHQpLHMpLnRoZW4oKCgpPT4hMCkpfV9yZXBsYWNlUXVlcnlQYXJhbXMoZSx0PXt9KXtsZXQgcz1lLGk9XCJcIjtlLmluZGV4T2YoXCI/XCIpPj0wJiYocz1lLnN1YnN0cmluZygwLGUuaW5kZXhPZihcIj9cIikpLGk9ZS5zdWJzdHJpbmcoZS5pbmRleE9mKFwiP1wiKSsxKSk7Y29uc3Qgbj17fSxyPWkuc3BsaXQoXCImXCIpO2Zvcihjb25zdCBlIG9mIHIpe2lmKFwiXCI9PWUpY29udGludWU7Y29uc3QgdD1lLnNwbGl0KFwiPVwiKTtuW2RlY29kZVVSSUNvbXBvbmVudCh0WzBdLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSldPWRlY29kZVVSSUNvbXBvbmVudCgodFsxXXx8XCJcIikucmVwbGFjZSgvXFwrL2csXCIgXCIpKX1mb3IobGV0IGUgaW4gdCl0Lmhhc093blByb3BlcnR5KGUpJiYobnVsbD09dFtlXT9kZWxldGUgbltlXTpuW2VdPXRbZV0pO2k9XCJcIjtmb3IobGV0IGUgaW4gbiluLmhhc093blByb3BlcnR5KGUpJiYoXCJcIiE9aSYmKGkrPVwiJlwiKSxpKz1lbmNvZGVVUklDb21wb25lbnQoZS5yZXBsYWNlKC8lMjAvZyxcIitcIikpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChuW2VdLnJlcGxhY2UoLyUyMC9nLFwiK1wiKSkpO3JldHVyblwiXCIhPWk/cytcIj9cIitpOnN9fWZ1bmN0aW9uIG9wZW5Ccm93c2VyUG9wdXAoZSl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8IXdpbmRvdz8ub3Blbil0aHJvdyBuZXcgQ2xpZW50UmVzcG9uc2VFcnJvcihuZXcgRXJyb3IoXCJOb3QgaW4gYSBicm93c2VyIGNvbnRleHQgLSBwbGVhc2UgcGFzcyBhIGN1c3RvbSB1cmxDYWxsYmFjayBmdW5jdGlvbi5cIikpO2xldCB0PTEwMjQscz03NjgsaT13aW5kb3cuaW5uZXJXaWR0aCxuPXdpbmRvdy5pbm5lckhlaWdodDt0PXQ+aT9pOnQscz1zPm4/bjpzO2xldCByPWkvMi10LzIsbz1uLzItcy8yO3JldHVybiB3aW5kb3cub3BlbihlLFwicG9wdXBfd2luZG93XCIsXCJ3aWR0aD1cIit0K1wiLGhlaWdodD1cIitzK1wiLHRvcD1cIitvK1wiLGxlZnQ9XCIrcitcIixyZXNpemFibGUsbWVudWJhcj1ub1wiKX1jbGFzcyBDb2xsZWN0aW9uU2VydmljZSBleHRlbmRzIENydWRTZXJ2aWNle2dldCBiYXNlQ3J1ZFBhdGgoKXtyZXR1cm5cIi9hcGkvY29sbGVjdGlvbnNcIn1hc3luYyBpbXBvcnQoZSx0PSExLHMpe3JldHVybiBzPU9iamVjdC5hc3NpZ24oe21ldGhvZDpcIlBVVFwiLGJvZHk6e2NvbGxlY3Rpb25zOmUsZGVsZXRlTWlzc2luZzp0fX0scyksdGhpcy5jbGllbnQuc2VuZCh0aGlzLmJhc2VDcnVkUGF0aCtcIi9pbXBvcnRcIixzKS50aGVuKCgoKT0+ITApKX19Y2xhc3MgTG9nU2VydmljZSBleHRlbmRzIEJhc2VTZXJ2aWNle2FzeW5jIGdldExpc3QoZT0xLHQ9MzAscyl7cmV0dXJuKHM9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiR0VUXCJ9LHMpKS5xdWVyeT1PYmplY3QuYXNzaWduKHtwYWdlOmUscGVyUGFnZTp0fSxzLnF1ZXJ5KSx0aGlzLmNsaWVudC5zZW5kKFwiL2FwaS9sb2dzXCIscyl9YXN5bmMgZ2V0T25lKGUsdCl7aWYoIWUpdGhyb3cgbmV3IENsaWVudFJlc3BvbnNlRXJyb3Ioe3VybDp0aGlzLmNsaWVudC5idWlsZFVybChcIi9hcGkvbG9ncy9cIiksc3RhdHVzOjQwNCxyZXNwb25zZTp7Y29kZTo0MDQsbWVzc2FnZTpcIk1pc3NpbmcgcmVxdWlyZWQgbG9nIGlkLlwiLGRhdGE6e319fSk7cmV0dXJuIHQ9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiR0VUXCJ9LHQpLHRoaXMuY2xpZW50LnNlbmQoXCIvYXBpL2xvZ3MvXCIrZW5jb2RlVVJJQ29tcG9uZW50KGUpLHQpfWFzeW5jIGdldFN0YXRzKGUpe3JldHVybiBlPU9iamVjdC5hc3NpZ24oe21ldGhvZDpcIkdFVFwifSxlKSx0aGlzLmNsaWVudC5zZW5kKFwiL2FwaS9sb2dzL3N0YXRzXCIsZSl9fWNsYXNzIEhlYWx0aFNlcnZpY2UgZXh0ZW5kcyBCYXNlU2VydmljZXthc3luYyBjaGVjayhlKXtyZXR1cm4gZT1PYmplY3QuYXNzaWduKHttZXRob2Q6XCJHRVRcIn0sZSksdGhpcy5jbGllbnQuc2VuZChcIi9hcGkvaGVhbHRoXCIsZSl9fWNsYXNzIEZpbGVTZXJ2aWNlIGV4dGVuZHMgQmFzZVNlcnZpY2V7Z2V0VXJsKGUsdCxzPXt9KXtpZighdHx8IWU/LmlkfHwhZT8uY29sbGVjdGlvbklkJiYhZT8uY29sbGVjdGlvbk5hbWUpcmV0dXJuXCJcIjtjb25zdCBpPVtdO2kucHVzaChcImFwaVwiKSxpLnB1c2goXCJmaWxlc1wiKSxpLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGUuY29sbGVjdGlvbklkfHxlLmNvbGxlY3Rpb25OYW1lKSksaS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChlLmlkKSksaS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudCh0KSk7bGV0IG49dGhpcy5jbGllbnQuYnVpbGRVcmwoaS5qb2luKFwiL1wiKSk7aWYoT2JqZWN0LmtleXMocykubGVuZ3RoKXshMT09PXMuZG93bmxvYWQmJmRlbGV0ZSBzLmRvd25sb2FkO2NvbnN0IGU9bmV3IFVSTFNlYXJjaFBhcmFtcyhzKTtuKz0obi5pbmNsdWRlcyhcIj9cIik/XCImXCI6XCI/XCIpK2V9cmV0dXJuIG59YXN5bmMgZ2V0VG9rZW4oZSl7cmV0dXJuIGU9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiUE9TVFwifSxlKSx0aGlzLmNsaWVudC5zZW5kKFwiL2FwaS9maWxlcy90b2tlblwiLGUpLnRoZW4oKGU9PmU/LnRva2VufHxcIlwiKSl9fWNsYXNzIEJhY2t1cFNlcnZpY2UgZXh0ZW5kcyBCYXNlU2VydmljZXthc3luYyBnZXRGdWxsTGlzdChlKXtyZXR1cm4gZT1PYmplY3QuYXNzaWduKHttZXRob2Q6XCJHRVRcIn0sZSksdGhpcy5jbGllbnQuc2VuZChcIi9hcGkvYmFja3Vwc1wiLGUpfWFzeW5jIGNyZWF0ZShlLHQpe3JldHVybiB0PU9iamVjdC5hc3NpZ24oe21ldGhvZDpcIlBPU1RcIixib2R5OntuYW1lOmV9fSx0KSx0aGlzLmNsaWVudC5zZW5kKFwiL2FwaS9iYWNrdXBzXCIsdCkudGhlbigoKCk9PiEwKSl9YXN5bmMgdXBsb2FkKGUsdCl7cmV0dXJuIHQ9T2JqZWN0LmFzc2lnbih7bWV0aG9kOlwiUE9TVFwiLGJvZHk6ZX0sdCksdGhpcy5jbGllbnQuc2VuZChcIi9hcGkvYmFja3Vwcy91cGxvYWRcIix0KS50aGVuKCgoKT0+ITApKX1hc3luYyBkZWxldGUoZSx0KXtyZXR1cm4gdD1PYmplY3QuYXNzaWduKHttZXRob2Q6XCJERUxFVEVcIn0sdCksdGhpcy5jbGllbnQuc2VuZChgL2FwaS9iYWNrdXBzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGUpfWAsdCkudGhlbigoKCk9PiEwKSl9YXN5bmMgcmVzdG9yZShlLHQpe3JldHVybiB0PU9iamVjdC5hc3NpZ24oe21ldGhvZDpcIlBPU1RcIn0sdCksdGhpcy5jbGllbnQuc2VuZChgL2FwaS9iYWNrdXBzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGUpfS9yZXN0b3JlYCx0KS50aGVuKCgoKT0+ITApKX1nZXREb3dubG9hZFVybChlLHQpe3JldHVybiB0aGlzLmNsaWVudC5idWlsZFVybChgL2FwaS9iYWNrdXBzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHQpfT90b2tlbj0ke2VuY29kZVVSSUNvbXBvbmVudChlKX1gKX19Y2xhc3MgQ2xpZW50e2NvbnN0cnVjdG9yKGU9XCIvXCIsdCxzPVwiZW4tVVNcIil7dGhpcy5jYW5jZWxDb250cm9sbGVycz17fSx0aGlzLnJlY29yZFNlcnZpY2VzPXt9LHRoaXMuZW5hYmxlQXV0b0NhbmNlbGxhdGlvbj0hMCx0aGlzLmJhc2VVcmw9ZSx0aGlzLmxhbmc9cyx0aGlzLmF1dGhTdG9yZT10fHxuZXcgTG9jYWxBdXRoU3RvcmUsdGhpcy5hZG1pbnM9bmV3IEFkbWluU2VydmljZSh0aGlzKSx0aGlzLmNvbGxlY3Rpb25zPW5ldyBDb2xsZWN0aW9uU2VydmljZSh0aGlzKSx0aGlzLmZpbGVzPW5ldyBGaWxlU2VydmljZSh0aGlzKSx0aGlzLmxvZ3M9bmV3IExvZ1NlcnZpY2UodGhpcyksdGhpcy5zZXR0aW5ncz1uZXcgU2V0dGluZ3NTZXJ2aWNlKHRoaXMpLHRoaXMucmVhbHRpbWU9bmV3IFJlYWx0aW1lU2VydmljZSh0aGlzKSx0aGlzLmhlYWx0aD1uZXcgSGVhbHRoU2VydmljZSh0aGlzKSx0aGlzLmJhY2t1cHM9bmV3IEJhY2t1cFNlcnZpY2UodGhpcyl9Y29sbGVjdGlvbihlKXtyZXR1cm4gdGhpcy5yZWNvcmRTZXJ2aWNlc1tlXXx8KHRoaXMucmVjb3JkU2VydmljZXNbZV09bmV3IFJlY29yZFNlcnZpY2UodGhpcyxlKSksdGhpcy5yZWNvcmRTZXJ2aWNlc1tlXX1hdXRvQ2FuY2VsbGF0aW9uKGUpe3JldHVybiB0aGlzLmVuYWJsZUF1dG9DYW5jZWxsYXRpb249ISFlLHRoaXN9Y2FuY2VsUmVxdWVzdChlKXtyZXR1cm4gdGhpcy5jYW5jZWxDb250cm9sbGVyc1tlXSYmKHRoaXMuY2FuY2VsQ29udHJvbGxlcnNbZV0uYWJvcnQoKSxkZWxldGUgdGhpcy5jYW5jZWxDb250cm9sbGVyc1tlXSksdGhpc31jYW5jZWxBbGxSZXF1ZXN0cygpe2ZvcihsZXQgZSBpbiB0aGlzLmNhbmNlbENvbnRyb2xsZXJzKXRoaXMuY2FuY2VsQ29udHJvbGxlcnNbZV0uYWJvcnQoKTtyZXR1cm4gdGhpcy5jYW5jZWxDb250cm9sbGVycz17fSx0aGlzfWZpbHRlcihlLHQpe2lmKCF0KXJldHVybiBlO2ZvcihsZXQgcyBpbiB0KXtsZXQgaT10W3NdO3N3aXRjaCh0eXBlb2YgaSl7Y2FzZVwiYm9vbGVhblwiOmNhc2VcIm51bWJlclwiOmk9XCJcIitpO2JyZWFrO2Nhc2VcInN0cmluZ1wiOmk9XCInXCIraS5yZXBsYWNlKC8nL2csXCJcXFxcJ1wiKStcIidcIjticmVhaztkZWZhdWx0Omk9bnVsbD09PWk/XCJudWxsXCI6aSBpbnN0YW5jZW9mIERhdGU/XCInXCIraS50b0lTT1N0cmluZygpLnJlcGxhY2UoXCJUXCIsXCIgXCIpK1wiJ1wiOlwiJ1wiK0pTT04uc3RyaW5naWZ5KGkpLnJlcGxhY2UoLycvZyxcIlxcXFwnXCIpK1wiJ1wifWU9ZS5yZXBsYWNlQWxsKFwiezpcIitzK1wifVwiLGkpfXJldHVybiBlfWdldEZpbGVVcmwoZSx0LHM9e30pe3JldHVybiB0aGlzLmZpbGVzLmdldFVybChlLHQscyl9YnVpbGRVcmwoZSl7bGV0IHQ9dGhpcy5iYXNlVXJsO3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fCF3aW5kb3cubG9jYXRpb258fHQuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpfHx0LnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpfHwodD13aW5kb3cubG9jYXRpb24ub3JpZ2luPy5lbmRzV2l0aChcIi9cIik/d2luZG93LmxvY2F0aW9uLm9yaWdpbi5zdWJzdHJpbmcoMCx3aW5kb3cubG9jYXRpb24ub3JpZ2luLmxlbmd0aC0xKTp3aW5kb3cubG9jYXRpb24ub3JpZ2lufHxcIlwiLHRoaXMuYmFzZVVybC5zdGFydHNXaXRoKFwiL1wiKXx8KHQrPXdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZXx8XCIvXCIsdCs9dC5lbmRzV2l0aChcIi9cIik/XCJcIjpcIi9cIiksdCs9dGhpcy5iYXNlVXJsKSxlJiYodCs9dC5lbmRzV2l0aChcIi9cIik/XCJcIjpcIi9cIix0Kz1lLnN0YXJ0c1dpdGgoXCIvXCIpP2Uuc3Vic3RyaW5nKDEpOmUpLHR9YXN5bmMgc2VuZChlLHQpe3Q9dGhpcy5pbml0U2VuZE9wdGlvbnMoZSx0KTtsZXQgcz10aGlzLmJ1aWxkVXJsKGUpO2lmKHRoaXMuYmVmb3JlU2VuZCl7Y29uc3QgZT1PYmplY3QuYXNzaWduKHt9LGF3YWl0IHRoaXMuYmVmb3JlU2VuZChzLHQpKTt2b2lkIDAhPT1lLnVybHx8dm9pZCAwIT09ZS5vcHRpb25zPyhzPWUudXJsfHxzLHQ9ZS5vcHRpb25zfHx0KTpPYmplY3Qua2V5cyhlKS5sZW5ndGgmJih0PWUsY29uc29sZT8ud2FybiYmY29uc29sZS53YXJuKFwiRGVwcmVjYXRlZCBmb3JtYXQgb2YgYmVmb3JlU2VuZCByZXR1cm46IHBsZWFzZSB1c2UgYHJldHVybiB7IHVybCwgb3B0aW9ucyB9YCwgaW5zdGVhZCBvZiBgcmV0dXJuIG9wdGlvbnNgLlwiKSl9aWYodm9pZCAwIT09dC5xdWVyeSl7Y29uc3QgZT10aGlzLnNlcmlhbGl6ZVF1ZXJ5UGFyYW1zKHQucXVlcnkpO2UmJihzKz0ocy5pbmNsdWRlcyhcIj9cIik/XCImXCI6XCI/XCIpK2UpLGRlbGV0ZSB0LnF1ZXJ5fVwiYXBwbGljYXRpb24vanNvblwiPT10aGlzLmdldEhlYWRlcih0LmhlYWRlcnMsXCJDb250ZW50LVR5cGVcIikmJnQuYm9keSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQuYm9keSYmKHQuYm9keT1KU09OLnN0cmluZ2lmeSh0LmJvZHkpKTtyZXR1cm4odC5mZXRjaHx8ZmV0Y2gpKHMsdCkudGhlbigoYXN5bmMgZT0+e2xldCB0PXt9O3RyeXt0PWF3YWl0IGUuanNvbigpfWNhdGNoKGUpe31pZih0aGlzLmFmdGVyU2VuZCYmKHQ9YXdhaXQgdGhpcy5hZnRlclNlbmQoZSx0KSksZS5zdGF0dXM+PTQwMCl0aHJvdyBuZXcgQ2xpZW50UmVzcG9uc2VFcnJvcih7dXJsOmUudXJsLHN0YXR1czplLnN0YXR1cyxkYXRhOnR9KTtyZXR1cm4gdH0pKS5jYXRjaCgoZT0+e3Rocm93IG5ldyBDbGllbnRSZXNwb25zZUVycm9yKGUpfSkpfWluaXRTZW5kT3B0aW9ucyhlLHQpe2lmKCh0PU9iamVjdC5hc3NpZ24oe21ldGhvZDpcIkdFVFwifSx0KSkuYm9keT10aGlzLmNvbnZlcnRUb0Zvcm1EYXRhSWZOZWVkZWQodC5ib2R5KSxub3JtYWxpemVVbmtub3duUXVlcnlQYXJhbXModCksdC5xdWVyeT1PYmplY3QuYXNzaWduKHt9LHQucGFyYW1zLHQucXVlcnkpLHZvaWQgMD09PXQucmVxdWVzdEtleSYmKCExPT09dC4kYXV0b0NhbmNlbHx8ITE9PT10LnF1ZXJ5LiRhdXRvQ2FuY2VsP3QucmVxdWVzdEtleT1udWxsOih0LiRjYW5jZWxLZXl8fHQucXVlcnkuJGNhbmNlbEtleSkmJih0LnJlcXVlc3RLZXk9dC4kY2FuY2VsS2V5fHx0LnF1ZXJ5LiRjYW5jZWxLZXkpKSxkZWxldGUgdC4kYXV0b0NhbmNlbCxkZWxldGUgdC5xdWVyeS4kYXV0b0NhbmNlbCxkZWxldGUgdC4kY2FuY2VsS2V5LGRlbGV0ZSB0LnF1ZXJ5LiRjYW5jZWxLZXksbnVsbCE9PXRoaXMuZ2V0SGVhZGVyKHQuaGVhZGVycyxcIkNvbnRlbnQtVHlwZVwiKXx8dGhpcy5pc0Zvcm1EYXRhKHQuYm9keSl8fCh0LmhlYWRlcnM9T2JqZWN0LmFzc2lnbih7fSx0LmhlYWRlcnMse1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9KSksbnVsbD09PXRoaXMuZ2V0SGVhZGVyKHQuaGVhZGVycyxcIkFjY2VwdC1MYW5ndWFnZVwiKSYmKHQuaGVhZGVycz1PYmplY3QuYXNzaWduKHt9LHQuaGVhZGVycyx7XCJBY2NlcHQtTGFuZ3VhZ2VcIjp0aGlzLmxhbmd9KSksdGhpcy5hdXRoU3RvcmUudG9rZW4mJm51bGw9PT10aGlzLmdldEhlYWRlcih0LmhlYWRlcnMsXCJBdXRob3JpemF0aW9uXCIpJiYodC5oZWFkZXJzPU9iamVjdC5hc3NpZ24oe30sdC5oZWFkZXJzLHtBdXRob3JpemF0aW9uOnRoaXMuYXV0aFN0b3JlLnRva2VufSkpLHRoaXMuZW5hYmxlQXV0b0NhbmNlbGxhdGlvbiYmbnVsbCE9PXQucmVxdWVzdEtleSl7Y29uc3Qgcz10LnJlcXVlc3RLZXl8fCh0Lm1ldGhvZHx8XCJHRVRcIikrZTtkZWxldGUgdC5yZXF1ZXN0S2V5LHRoaXMuY2FuY2VsUmVxdWVzdChzKTtjb25zdCBpPW5ldyBBYm9ydENvbnRyb2xsZXI7dGhpcy5jYW5jZWxDb250cm9sbGVyc1tzXT1pLHQuc2lnbmFsPWkuc2lnbmFsfXJldHVybiB0fWNvbnZlcnRUb0Zvcm1EYXRhSWZOZWVkZWQoZSl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIEZvcm1EYXRhfHx2b2lkIDA9PT1lfHxcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWV8fHRoaXMuaXNGb3JtRGF0YShlKXx8IXRoaXMuaGFzQmxvYkZpZWxkKGUpKXJldHVybiBlO2NvbnN0IHQ9bmV3IEZvcm1EYXRhO2ZvcihsZXQgcyBpbiBlKXtjb25zdCBpPXRoaXMubm9ybWFsaXplRm9ybURhdGFWYWx1ZShlW3NdKSxuPUFycmF5LmlzQXJyYXkoaSk/aTpbaV07aWYobi5sZW5ndGgpZm9yKGNvbnN0IGUgb2Ygbil0LmFwcGVuZChzLGUpO2Vsc2UgdC5hcHBlbmQocyxcIlwiKX1yZXR1cm4gdH1ub3JtYWxpemVGb3JtRGF0YVZhbHVlKGUpe3JldHVybiBudWxsPT09ZXx8XCJvYmplY3RcIiE9dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBEYXRlfHx0aGlzLmhhc0Jsb2JGaWVsZCh7ZGF0YTplfSl8fEFycmF5LmlzQXJyYXkoZSkmJiFlLmZpbHRlcigoZT0+XCJzdHJpbmdcIiE9dHlwZW9mIGUpKS5sZW5ndGg/ZTpKU09OLnN0cmluZ2lmeShlKX1oYXNCbG9iRmllbGQoZSl7Zm9yKGxldCB0IGluIGUpe2NvbnN0IHM9QXJyYXkuaXNBcnJheShlW3RdKT9lW3RdOltlW3RdXTtmb3IobGV0IGUgb2YgcylpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgQmxvYiYmZSBpbnN0YW5jZW9mIEJsb2J8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBGaWxlJiZlIGluc3RhbmNlb2YgRmlsZSlyZXR1cm4hMH1yZXR1cm4hMX1nZXRIZWFkZXIoZSx0KXtlPWV8fHt9LHQ9dC50b0xvd2VyQ2FzZSgpO2ZvcihsZXQgcyBpbiBlKWlmKHMudG9Mb3dlckNhc2UoKT09dClyZXR1cm4gZVtzXTtyZXR1cm4gbnVsbH1pc0Zvcm1EYXRhKGUpe3JldHVybiBlJiYoXCJGb3JtRGF0YVwiPT09ZS5jb25zdHJ1Y3Rvci5uYW1lfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgRm9ybURhdGEmJmUgaW5zdGFuY2VvZiBGb3JtRGF0YSl9c2VyaWFsaXplUXVlcnlQYXJhbXMoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgcyBpbiBlKXtpZihudWxsPT09ZVtzXSljb250aW51ZTtjb25zdCBpPWVbc10sbj1lbmNvZGVVUklDb21wb25lbnQocyk7aWYoQXJyYXkuaXNBcnJheShpKSlmb3IoY29uc3QgZSBvZiBpKXQucHVzaChuK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChlKSk7ZWxzZSBpIGluc3RhbmNlb2YgRGF0ZT90LnB1c2gobitcIj1cIitlbmNvZGVVUklDb21wb25lbnQoaS50b0lTT1N0cmluZygpKSk6bnVsbCE9PXR5cGVvZiBpJiZcIm9iamVjdFwiPT10eXBlb2YgaT90LnB1c2gobitcIj1cIitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoaSkpKTp0LnB1c2gobitcIj1cIitlbmNvZGVVUklDb21wb25lbnQoaSkpfXJldHVybiB0LmpvaW4oXCImXCIpfX1jbGFzcyBBc3luY0F1dGhTdG9yZSBleHRlbmRzIEJhc2VBdXRoU3RvcmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLnF1ZXVlPVtdLHRoaXMuc2F2ZUZ1bmM9ZS5zYXZlLHRoaXMuY2xlYXJGdW5jPWUuY2xlYXIsdGhpcy5fZW5xdWV1ZSgoKCk9PnRoaXMuX2xvYWRJbml0aWFsKGUuaW5pdGlhbCkpKX1zYXZlKGUsdCl7c3VwZXIuc2F2ZShlLHQpO2xldCBzPVwiXCI7dHJ5e3M9SlNPTi5zdHJpbmdpZnkoe3Rva2VuOmUsbW9kZWw6dH0pfWNhdGNoKGUpe2NvbnNvbGUud2FybihcIkFzeW5jQXV0aFN0b3JlOiBmYWlsZWQgdG8gc3RyaW5naWZ5IHRoZSBuZXcgc3RhdGVcIil9dGhpcy5fZW5xdWV1ZSgoKCk9PnRoaXMuc2F2ZUZ1bmMocykpKX1jbGVhcigpe3N1cGVyLmNsZWFyKCksdGhpcy5jbGVhckZ1bmM/dGhpcy5fZW5xdWV1ZSgoKCk9PnRoaXMuY2xlYXJGdW5jKCkpKTp0aGlzLl9lbnF1ZXVlKCgoKT0+dGhpcy5zYXZlRnVuYyhcIlwiKSkpfWFzeW5jIF9sb2FkSW5pdGlhbChlKXt0cnl7aWYoZT1hd2FpdCBlKXtsZXQgdDtcInN0cmluZ1wiPT10eXBlb2YgZT90PUpTT04ucGFyc2UoZSl8fHt9Olwib2JqZWN0XCI9PXR5cGVvZiBlJiYodD1lKSx0aGlzLnNhdmUodC50b2tlbnx8XCJcIix0Lm1vZGVsfHxudWxsKX19Y2F0Y2goZSl7fX1fZW5xdWV1ZShlKXt0aGlzLnF1ZXVlLnB1c2goZSksMT09dGhpcy5xdWV1ZS5sZW5ndGgmJnRoaXMuX2RlcXVldWUoKX1fZGVxdWV1ZSgpe3RoaXMucXVldWUubGVuZ3RoJiZ0aGlzLnF1ZXVlWzBdKCkuZmluYWxseSgoKCk9Pnt0aGlzLnF1ZXVlLnNoaWZ0KCksdGhpcy5xdWV1ZS5sZW5ndGgmJnRoaXMuX2RlcXVldWUoKX0pKX19ZXhwb3J0e0FkbWluU2VydmljZSxBc3luY0F1dGhTdG9yZSxCYXNlQXV0aFN0b3JlLENsaWVudFJlc3BvbnNlRXJyb3IsQ29sbGVjdGlvblNlcnZpY2UsQ3J1ZFNlcnZpY2UsTG9jYWxBdXRoU3RvcmUsTG9nU2VydmljZSxSZWFsdGltZVNlcnZpY2UsUmVjb3JkU2VydmljZSxjb29raWVQYXJzZSxjb29raWVTZXJpYWxpemUsQ2xpZW50IGFzIGRlZmF1bHQsZ2V0VG9rZW5QYXlsb2FkLGlzVG9rZW5FeHBpcmVkLG5vcm1hbGl6ZVVua25vd25RdWVyeVBhcmFtc307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wb2NrZXRiYXNlLmVzLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/pocketbase/dist/pocketbase.es.mjs\n"));

/***/ })

});